{"file_contents":{"public/src/components/ui/navigation-menu.tsx":{"content":"import * as React from \"react\"\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\"\nimport { cva } from \"class-variance-authority\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n))\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent\"\n)\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n))\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n))\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n))\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n}\n","size_bytes":5132},"public/src/pages/Shop.tsx":{"content":"\nimport { useState, useEffect, useMemo } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { useLocation } from \"wouter\";\nimport { ProductCard } from \"../components/ProductCard\";\nimport { Button } from \"../components/ui/button\";\nimport { Input } from \"../components/ui/input\";\nimport { Label } from \"../components/ui/label\";\nimport { RadioGroup, RadioGroupItem } from \"../components/ui/radio-group\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"../components/ui/select\";\nimport { Badge } from \"../components/ui/badge\";\nimport { Slider } from \"../components/ui/slider\";\nimport { Search, Grid3x3, List, X, ArrowUpDown, Filter, Package } from \"lucide-react\";\nimport type { Product } from \"../../../shared/schema\";\n\nexport default function Shop({\n  onAddToCart,\n}: {\n  onAddToCart: (product: Product) => void;\n}) {\n  const [location] = useLocation();\n\n  const getInitialCategory = () => {\n    if (typeof window === \"undefined\") return \"all\";\n    const urlParams = new URLSearchParams(window.location.search);\n    return urlParams.get(\"category\") || \"all\";\n  };\n\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [selectedCategory, setSelectedCategory] = useState(getInitialCategory());\n  const [stockFilter, setStockFilter] = useState(\"all\");\n  const [sortBy, setSortBy] = useState(\"default\");\n  const [viewMode, setViewMode] = useState<\"grid\" | \"list\">(\"grid\");\n  const [mobileFiltersOpen, setMobileFiltersOpen] = useState(false);\n\n  useEffect(() => {\n    const urlParams = new URLSearchParams(window.location.search);\n    const category = urlParams.get(\"category\");\n    if (category) {\n      setSelectedCategory(category);\n    }\n  }, [location]);\n\n  const { data: products, isLoading } = useQuery<Product[]>({\n    queryKey: [\"/api/products\"],\n  });\n\n  const { minPrice, maxPrice } = useMemo(() => {\n    if (!products || products.length === 0) return { minPrice: 0, maxPrice: 1000 };\n    const prices = products.map(p => parseFloat(p.price));\n    return {\n      minPrice: Math.floor(Math.min(...prices)),\n      maxPrice: Math.ceil(Math.max(...prices))\n    };\n  }, [products]);\n\n  const [priceRange, setPriceRange] = useState<number[]>([0, 1000]);\n\n  useEffect(() => {\n    if (products && products.length > 0 && priceRange[0] === 0 && priceRange[1] === 1000) {\n      setPriceRange([minPrice, maxPrice]);\n    }\n  }, [minPrice, maxPrice, products]);\n\n  const handlePriceRangeChange = (value: number[]) => {\n    setPriceRange(value);\n  };\n\n  const categories = [\n    { value: \"all\", label: \"Wszystkie\" },\n    { value: \"odziez-robocza\", label: \"Odzież robocza\" },\n    { value: \"obuwie\", label: \"Obuwie BHP\" },\n    { value: \"rekawice\", label: \"Rękawice\" },\n    { value: \"ochrona-glowy\", label: \"Ochrona głowy\" },\n    { value: \"ochrona-sluchu\", label: \"Ochrona słuchu\" },\n  ];\n\n  const categoryCount = (categoryValue: string) => {\n    if (!products) return 0;\n    if (categoryValue === \"all\") return products.length;\n    return products.filter(p => p.category === categoryValue).length;\n  };\n\n  const filteredAndSortedProducts = (products ?? []).filter((product) => {\n    const matchesSearch =\n      product.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      product.description.toLowerCase().includes(searchTerm.toLowerCase());\n    const matchesCategory =\n      selectedCategory === \"all\" || product.category === selectedCategory;\n    const matchesStock =\n      stockFilter === \"all\" ||\n      (stockFilter === \"in-stock\" && parseInt(product.stock.toString()) > 0) ||\n      (stockFilter === \"out-of-stock\" && parseInt(product.stock.toString()) === 0);\n    const matchesPrice =\n      parseFloat(product.price) >= priceRange[0] &&\n      parseFloat(product.price) <= priceRange[1];\n\n    return matchesSearch && matchesCategory && matchesStock && matchesPrice;\n  }).sort((a, b) => {\n    switch (sortBy) {\n      case \"price-asc\":\n        return parseFloat(a.price) - parseFloat(b.price);\n      case \"price-desc\":\n        return parseFloat(b.price) - parseFloat(a.price);\n      case \"name-asc\":\n        return a.name.localeCompare(b.name);\n      case \"name-desc\":\n        return b.name.localeCompare(a.name);\n      case \"stock\":\n        return parseInt(b.stock.toString()) - parseInt(a.stock.toString());\n      default:\n        return 0;\n    }\n  });\n\n  const activeFilters = [];\n  if (selectedCategory !== \"all\") {\n    const cat = categories.find(c => c.value === selectedCategory);\n    if (cat) activeFilters.push({ type: \"category\", label: cat.label, value: selectedCategory });\n  }\n  if (stockFilter !== \"all\") {\n    const label = stockFilter === \"in-stock\" ? \"W magazynie\" : \"Brak w magazynie\";\n    activeFilters.push({ type: \"stock\", label, value: stockFilter });\n  }\n  if (searchTerm) {\n    activeFilters.push({ type: \"search\", label: `\"${searchTerm}\"`, value: searchTerm });\n  }\n  if (priceRange[0] !== minPrice || priceRange[1] !== maxPrice) {\n    activeFilters.push({ \n      type: \"price\", \n      label: `${priceRange[0].toFixed(0)} - ${priceRange[1].toFixed(0)} zł`, \n      value: \"price\" \n    });\n  }\n\n  const clearAllFilters = () => {\n    setSearchTerm(\"\");\n    setSelectedCategory(\"all\");\n    setStockFilter(\"all\");\n    setPriceRange([minPrice, maxPrice]);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"max-w-7xl mx-auto px-4 py-6 sm:py-8\">\n        {/* Hero Search Bar - 2025 Minimalist Design */}\n        <div className=\"mb-6 sm:mb-8 animate-fade-in\">\n          <div className=\"max-w-3xl mx-auto\">\n            <div className=\"relative group\">\n              <Search className=\"absolute left-5 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400 transition-colors group-focus-within:text-primary\" />\n              <Input\n                type=\"search\"\n                placeholder=\"Szukaj produktów BHP…\"\n                className=\"pl-14 pr-4 py-6 text-lg rounded-full border-2 border-gray-200 focus:border-primary shadow-sm hover:shadow-md transition-all bg-white\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n              />\n            </div>\n          </div>\n        </div>\n\n        <div className=\"flex flex-col lg:flex-row gap-6\">\n          {/* Filters Sidebar - Sticky & Minimalist */}\n          <aside className=\"lg:w-72 flex-shrink-0\">\n            {/* Mobile Filter Toggle */}\n            <Button\n              variant=\"outline\"\n              className=\"w-full lg:hidden mb-4 border-2\"\n              onClick={() => setMobileFiltersOpen(!mobileFiltersOpen)}\n            >\n              <Filter className=\"h-4 w-4 mr-2\" />\n              Filtry {activeFilters.length > 0 && `(${activeFilters.length})`}\n            </Button>\n\n            <div className={`bg-white rounded-xl shadow-md p-5 lg:sticky lg:top-24 transition-all ${\n              mobileFiltersOpen ? 'block animate-slide-down' : 'hidden lg:block'\n            }`}>\n              <h2 className=\"text-lg font-bold mb-5 flex items-center gap-2\">\n                <Filter className=\"h-5 w-5 text-primary\" />\n                Filtry\n              </h2>\n\n              <div className=\"space-y-6\">\n                {/* Category Filter */}\n                <div>\n                  <Label className=\"text-sm font-bold mb-3 block text-gray-900\">Kategoria</Label>\n                  <RadioGroup value={selectedCategory} onValueChange={setSelectedCategory}>\n                    {categories.map((category) => (\n                      <div key={category.value} className=\"flex items-center space-x-2 mb-2 group hover:bg-gray-50 p-2 rounded-lg transition-colors\">\n                        <RadioGroupItem value={category.value} id={category.value} className=\"border-2\" />\n                        <Label htmlFor={category.value} className=\"text-sm cursor-pointer flex-1 flex items-center justify-between\">\n                          <span className=\"group-hover:text-primary transition-colors\">{category.label}</span>\n                          <Badge variant=\"secondary\" className=\"text-xs font-semibold\">\n                            {categoryCount(category.value)}\n                          </Badge>\n                        </Label>\n                      </div>\n                    ))}\n                  </RadioGroup>\n                </div>\n\n                {/* Stock Filter */}\n                <div className=\"pt-4 border-t border-gray-100\">\n                  <Label className=\"text-sm font-bold mb-3 block text-gray-900\">Dostępność</Label>\n                  <RadioGroup value={stockFilter} onValueChange={setStockFilter}>\n                    <div className=\"flex items-center space-x-2 mb-2 hover:bg-gray-50 p-2 rounded-lg transition-colors\">\n                      <RadioGroupItem value=\"all\" id=\"stock-all\" data-testid=\"radio-stock-all\" />\n                      <Label htmlFor=\"stock-all\" className=\"text-sm cursor-pointer\">Wszystkie</Label>\n                    </div>\n                    <div className=\"flex items-center space-x-2 mb-2 hover:bg-gray-50 p-2 rounded-lg transition-colors\">\n                      <RadioGroupItem value=\"in-stock\" id=\"stock-in\" data-testid=\"radio-stock-in\" />\n                      <Label htmlFor=\"stock-in\" className=\"text-sm cursor-pointer flex items-center gap-2\">\n                        W magazynie\n                        <span className=\"w-2 h-2 bg-green-500 rounded-full\"></span>\n                      </Label>\n                    </div>\n                    <div className=\"flex items-center space-x-2 hover:bg-gray-50 p-2 rounded-lg transition-colors\">\n                      <RadioGroupItem value=\"out-of-stock\" id=\"stock-out\" data-testid=\"radio-stock-out\" />\n                      <Label htmlFor=\"stock-out\" className=\"text-sm cursor-pointer flex items-center gap-2\">\n                        Brak w magazynie\n                        <span className=\"w-2 h-2 bg-red-500 rounded-full\"></span>\n                      </Label>\n                    </div>\n                  </RadioGroup>\n                </div>\n\n                {/* Price Filter - Dual Slider */}\n                <div className=\"pt-4 border-t border-gray-100\">\n                  <div className=\"flex items-center justify-between mb-4\">\n                    <Label className=\"text-sm font-bold text-gray-900\">Cena</Label>\n                    <span className=\"text-xs font-semibold text-primary bg-primary/10 px-2 py-1 rounded\" data-testid=\"text-price-range\">\n                      {priceRange[0]} - {priceRange[1]} zł\n                    </span>\n                  </div>\n                  <Slider\n                    min={minPrice}\n                    max={maxPrice}\n                    step={10}\n                    value={priceRange}\n                    onValueChange={handlePriceRangeChange}\n                    className=\"w-full mb-2\"\n                    data-testid=\"slider-price\"\n                  />\n                  <div className=\"flex justify-between text-xs text-gray-500\">\n                    <span>{minPrice} zł</span>\n                    <span>{maxPrice} zł</span>\n                  </div>\n                </div>\n\n                {/* Clear Filters Button */}\n                <Button\n                  variant=\"outline\"\n                  className=\"w-full border-2 hover:bg-primary hover:text-black hover:border-primary transition-all font-semibold\"\n                  onClick={clearAllFilters}\n                  data-testid=\"button-clear-filters\"\n                >\n                  <X className=\"h-4 w-4 mr-2\" />\n                  Wyczyść filtry\n                </Button>\n              </div>\n            </div>\n          </aside>\n\n          {/* Products Main Section */}\n          <main className=\"flex-1\">\n            {/* Active Filters - With Animations */}\n            {activeFilters.length > 0 && (\n              <div className=\"flex flex-wrap items-center gap-2 mb-4 animate-slide-down\">\n                <span className=\"text-sm font-semibold text-gray-700\">Aktywne:</span>\n                {activeFilters.map((filter, index) => (\n                  <Badge \n                    key={`${filter.type}-${index}`} \n                    className=\"gap-1 cursor-pointer bg-primary text-black hover:bg-primary/90 transition-all hover:scale-105 shadow-sm\"\n                    onClick={() => {\n                      if (filter.type === \"category\") setSelectedCategory(\"all\");\n                      if (filter.type === \"stock\") setStockFilter(\"all\");\n                      if (filter.type === \"search\") setSearchTerm(\"\");\n                      if (filter.type === \"price\") setPriceRange([minPrice, maxPrice]);\n                    }}\n                    data-testid={`badge-filter-${filter.type}`}\n                  >\n                    {filter.label}\n                    <X className=\"h-3 w-3\" />\n                  </Badge>\n                ))}\n              </div>\n            )}\n\n            {/* Toolbar - Minimalist 2025 */}\n            <div className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 bg-white p-4 rounded-xl shadow-md mb-6 border border-gray-100\">\n              <p className=\"text-sm text-gray-600\">\n                Znaleziono <span className=\"font-bold text-black text-base\">{filteredAndSortedProducts.length}</span> produktów\n              </p>\n\n              <div className=\"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 w-full sm:w-auto\">\n                {/* Sort Dropdown */}\n                <div className=\"flex items-center gap-2\">\n                  <ArrowUpDown className=\"h-4 w-4 text-gray-500 hidden sm:block\" />\n                  <Select value={sortBy} onValueChange={setSortBy}>\n                    <SelectTrigger className=\"w-full sm:w-[200px] border-2\" data-testid=\"select-sort\">\n                      <SelectValue />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"default\">Domyślnie</SelectItem>\n                      <SelectItem value=\"price-asc\">Cena: rosnąco ↑</SelectItem>\n                      <SelectItem value=\"price-desc\">Cena: malejąco ↓</SelectItem>\n                      <SelectItem value=\"name-asc\">Nazwa: A-Z</SelectItem>\n                      <SelectItem value=\"name-desc\">Nazwa: Z-A</SelectItem>\n                      <SelectItem value=\"stock\">Najpopularniejsze</SelectItem>\n                    </SelectContent>\n                  </Select>\n                </div>\n\n                {/* View Mode Toggle */}\n                <div className=\"flex gap-1 border-2 border-gray-200 rounded-lg p-1 bg-gray-50\">\n                  <Button\n                    variant={viewMode === \"grid\" ? \"default\" : \"ghost\"}\n                    size=\"sm\"\n                    onClick={() => setViewMode(\"grid\")}\n                    className={`transition-all ${viewMode === \"grid\" ? 'bg-primary text-black' : ''}`}\n                  >\n                    <Grid3x3 className=\"h-4 w-4\" />\n                  </Button>\n                  <Button\n                    variant={viewMode === \"list\" ? \"default\" : \"ghost\"}\n                    size=\"sm\"\n                    onClick={() => setViewMode(\"list\")}\n                    className={`transition-all ${viewMode === \"list\" ? 'bg-primary text-black' : ''}`}\n                  >\n                    <List className=\"h-4 w-4\" />\n                  </Button>\n                </div>\n              </div>\n            </div>\n\n            {/* Products Grid/List with Loading States */}\n            {isLoading ? (\n              <div className={viewMode === \"grid\" ? \"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\" : \"space-y-4\"}>\n                {[...Array(8)].map((_, i) => (\n                  <div key={i} className={`bg-gray-200 animate-pulse rounded-xl ${viewMode === \"grid\" ? \"h-96\" : \"h-48\"}`} />\n                ))}\n              </div>\n            ) : filteredAndSortedProducts.length > 0 ? (\n              <div className={`${viewMode === \"grid\" ? \"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\" : \"space-y-4\"} animate-fade-in`}>\n                {filteredAndSortedProducts.map((product) => (\n                  <ProductCard\n                    key={product.id}\n                    product={product}\n                    onAddToCart={onAddToCart}\n                    viewMode={viewMode}\n                  />\n                ))}\n              </div>\n            ) : (\n              <div className=\"text-center py-20 bg-white rounded-xl border-2 border-dashed border-gray-300 animate-fade-in\">\n                <Package className=\"h-16 w-16 text-gray-300 mx-auto mb-4\" />\n                <p className=\"text-xl font-semibold text-gray-700 mb-2\">Nie znaleziono produktów</p>\n                <p className=\"text-sm text-gray-500 mb-6\">Spróbuj zmienić kryteria wyszukiwania</p>\n                <Button\n                  onClick={clearAllFilters}\n                  className=\"bg-primary text-black hover:bg-primary/90 font-semibold\"\n                  data-testid=\"button-clear-filters-empty\"\n                >\n                  <X className=\"h-4 w-4 mr-2\" />\n                  Wyczyść filtry\n                </Button>\n              </div>\n            )}\n          </main>\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":17168},"public/src/components/ui/button.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\" +\n  \" hover-elevate active-elevate-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground border border-primary-border\",\n        destructive:\n          \"bg-destructive text-destructive-foreground border border-destructive-border\",\n        outline:\n          // Shows the background color of whatever card / sidebar / accent background it is inside of.\n          // Inherits the current text color.\n          \" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none \",\n        secondary: \"border bg-secondary text-secondary-foreground border border-secondary-border \",\n        // Add a transparent border so that when someone toggles a border on later, it doesn't shift layout/size.\n        ghost: \"border border-transparent\",\n      },\n      // Heights are set as \"min\" heights, because sometimes Ai will place large amount of content\n      // inside buttons. With a min-height they will look appropriate with small amounts of content,\n      // but will expand to fit large amounts of content.\n      size: {\n        default: \"min-h-9 px-4 py-2\",\n        sm: \"min-h-8 rounded-md px-3 text-xs\",\n        lg: \"min-h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  },\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","size_bytes":2363},"public/src/components/ui/menubar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"../../lib/utils\"\n\nfunction MenubarMenu({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu {...props} />\n}\n\nfunction MenubarGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group {...props} />\n}\n\nfunction MenubarPortal({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal {...props} />\n}\n\nfunction MenubarRadioGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return <MenubarPrimitive.RadioGroup {...props} />\n}\n\nfunction MenubarSub({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />\n}\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"flex h-10 items-center space-x-1 rounded-md border bg-background p-1\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubar.displayName = MenubarPrimitive.Root.displayName\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n))\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(\n  (\n    { className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props },\n    ref\n  ) => (\n    <MenubarPrimitive.Portal>\n      <MenubarPrimitive.Content\n        ref={ref}\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n          className\n        )}\n        {...props}\n      />\n    </MenubarPrimitive.Portal>\n  )\n)\nMenubarContent.displayName = MenubarPrimitive.Content.displayName\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarItem.displayName = MenubarPrimitive.Item.displayName\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n))\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n))\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName\n\nconst MenubarShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nMenubarShortcut.displayname = \"MenubarShortcut\"\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n}\n","size_bytes":8609},"public/src/components/ui/carousel.tsx":{"content":"import * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"../../lib/utils\"\nimport { Button } from \"./button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n","size_bytes":6200},"public/src/components/ui/separator.tsx":{"content":"import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","size_bytes":760},"replit.md":{"content":"# Sklep BHP - E-Commerce Platform\n\n## Overview\n\nSklep BHP is a B2B/B2C e-commerce platform specializing in occupational health and safety equipment. The application provides a full-featured online store for industrial safety gear, work clothing, protective footwear, and personal protective equipment. Built with a modern TypeScript stack, it features a React-based frontend with a utility-focused design system and an Express backend with PostgreSQL database storage.\n\nThe platform supports product browsing, shopping cart functionality, order management, and user authentication with admin capabilities. The design emphasizes clarity, trust, and efficiency while maintaining industrial aesthetics through a black, yellow, and white color scheme.\n\n## Recent Changes\n\n### November 12, 2025 - Product Creation Fix\n- **Fixed:** Admin panel product creation now works correctly when creating products with uploaded images instead of URLs\n- **Backend Changes (server/routes.ts):**\n  - POST /api/products: Auto-selects first uploaded file as main image if URL field is empty\n  - PUT /api/products/:id: Handles empty/undefined image field by using uploaded files or preserving existing image\n  - Both endpoints now provide clear error messages when no image is available\n- **Frontend Changes (AdminPanel.tsx):**\n  - Removed `required` attribute from image URL field\n  - Updated label to clarify field is optional when files are uploaded\n  - Added helpful placeholder text for better UX\n- **Impact:** Users can now create/update products using either image URLs OR uploaded files (or both)\n\n### Previous Updates\n- Removed dark overlay from homepage hero section for better background image visibility\n- Replaced emoji icons in category cards with real product images from database\n- Implemented React Query for product data fetching with proper loading states\n- Added product count display for each category\n\n## User Preferences\n\nPreferred communication style: Simple, everyday language.\n\n## System Architecture\n\n### Frontend Architecture\n\n**Technology Stack:**\n- React 18 with TypeScript for type-safe component development\n- Vite as the build tool and development server\n- Wouter for lightweight client-side routing\n- TanStack Query (React Query) for server state management and API interactions\n- Tailwind CSS for utility-first styling\n\n**UI Component System:**\n- Shadcn/ui components (Radix UI primitives) configured in \"new-york\" style\n- Custom design tokens defined in CSS variables for theming\n- Component aliases configured for clean imports (@/components, @/lib, etc.)\n\n**State Management Strategy:**\n- Local cart state managed in App.tsx with localStorage persistence\n- Server state cached and synchronized via React Query\n- Form state handled by React Hook Form with Zod validation\n\n**Key Design Decisions:**\n- Single-page application with client-side routing for smooth navigation\n- Component composition pattern using Radix UI primitives for accessibility\n- Utility-first CSS approach with custom design system extending Tailwind\n- Mobile-responsive design with breakpoint-aware components\n\n### Backend Architecture\n\n**Server Framework:**\n- Express.js with TypeScript for type-safe API development\n- ESM modules throughout the codebase\n- Custom middleware for request logging and error handling\n\n**Data Layer:**\n- Drizzle ORM for type-safe database operations\n- PostgreSQL as the primary database (configured for Neon serverless)\n- Schema-first approach with Zod validation integration\n- In-memory storage fallback (MemStorage) for development/testing\n\n**API Design:**\n- RESTful endpoints organized by resource (/api/products, /api/orders, /api/auth)\n- Request validation using Zod schemas derived from Drizzle tables\n- JWT-based authentication for secure user sessions\n- Bcrypt for password hashing\n\n**Key Architectural Patterns:**\n- Repository pattern abstracted through IStorage interface\n- Dependency injection ready (storage can be swapped between memory/database)\n- Middleware pipeline for cross-cutting concerns (logging, error handling)\n- Environment-based configuration for development vs. production\n\n### Authentication & Authorization\n\n**Implementation:**\n- JWT tokens for stateless authentication\n- Bcrypt password hashing (bcryptjs) with salt rounds\n- User roles (isAdmin flag) for admin functionality\n- Token-based session management stored in localStorage on client\n- Protected routes and API endpoints based on authentication status\n\n### Build & Deployment Strategy\n\n**Development:**\n- Vite HMR for fast frontend iteration\n- tsx for running TypeScript server code directly\n- Concurrent development server setup with Vite middleware\n\n**Production:**\n- Frontend: Vite build outputs to dist/public\n- Backend: esbuild bundles server code to dist/index.js\n- Single Node.js process serves both static files and API\n- Environment variable configuration for database URLs and secrets\n\n## External Dependencies\n\n### Database & ORM\n- **PostgreSQL**: Primary database (configured for @neondatabase/serverless)\n- **Drizzle ORM**: Type-safe database toolkit with schema definitions in shared/schema.ts\n- **drizzle-kit**: CLI tool for database migrations and schema management\n\n### UI & Component Libraries\n- **Radix UI**: Headless component primitives (@radix-ui/* packages)\n- **Tailwind CSS**: Utility-first CSS framework\n- **Lucide React**: Icon library for consistent iconography\n- **cmdk**: Command palette component\n\n### Authentication & Security\n- **jsonwebtoken**: JWT creation and verification\n- **bcryptjs**: Password hashing library\n\n### Form & Validation\n- **React Hook Form**: Form state management (@hookform/resolvers)\n- **Zod**: Schema validation and TypeScript inference\n- **drizzle-zod**: Integration between Drizzle schemas and Zod\n\n### Build Tools & Development\n- **Vite**: Frontend build tool and dev server\n- **esbuild**: Backend bundler for production\n- **tsx**: TypeScript execution for development\n- **TypeScript**: Type system throughout the stack\n\n### Routing & State\n- **wouter**: Lightweight routing library\n- **TanStack Query**: Server state management and caching\n\n### Development Enhancements (Replit-specific)\n- **@replit/vite-plugin-runtime-error-modal**: Runtime error overlay\n- **@replit/vite-plugin-cartographer**: Code navigation\n- **@replit/vite-plugin-dev-banner**: Development banner\n\n### Design System\n- **class-variance-authority (CVA)**: Type-safe variant API for components\n- **clsx & tailwind-merge**: Utility for conditional className composition\n- **Inter font**: Primary typeface from Google Fonts","size_bytes":6554},"public/src/components/ui/sidebar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, VariantProps } from \"class-variance-authority\"\nimport { PanelLeftIcon } from \"lucide-react\"\n\nimport { useIsMobile } from \"../../hooks/use-mobile\"\nimport { cn } from \"../../lib/utils\"\nimport { Button } from \"./button\"\nimport { Input } from \"./input\"\nimport { Separator } from \"./separator\"\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"./sheet\"\nimport { Skeleton } from \"./skeleton\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"./tooltip\"\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\"\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\nconst SIDEBAR_WIDTH = \"16rem\"\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\"\nconst SIDEBAR_WIDTH_ICON = \"3rem\"\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\"\n\ntype SidebarContextProps = {\n  state: \"expanded\" | \"collapsed\"\n  open: boolean\n  setOpen: (open: boolean) => void\n  openMobile: boolean\n  setOpenMobile: (open: boolean) => void\n  isMobile: boolean\n  toggleSidebar: () => void\n}\n\nconst SidebarContext = React.createContext<SidebarContextProps | null>(null)\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext)\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\")\n  }\n\n  return context\n}\n\nfunction SidebarProvider({\n  defaultOpen = true,\n  open: openProp,\n  onOpenChange: setOpenProp,\n  className,\n  style,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  defaultOpen?: boolean\n  open?: boolean\n  onOpenChange?: (open: boolean) => void\n}) {\n  const isMobile = useIsMobile()\n  const [openMobile, setOpenMobile] = React.useState(false)\n\n  // This is the internal state of the sidebar.\n  // We use openProp and setOpenProp for control from outside the component.\n  const [_open, _setOpen] = React.useState(defaultOpen)\n  const open = openProp ?? _open\n  const setOpen = React.useCallback(\n    (value: boolean | ((value: boolean) => boolean)) => {\n      const openState = typeof value === \"function\" ? value(open) : value\n      if (setOpenProp) {\n        setOpenProp(openState)\n      } else {\n        _setOpen(openState)\n      }\n\n      // This sets the cookie to keep the sidebar state.\n      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\n    },\n    [setOpenProp, open]\n  )\n\n  // Helper to toggle the sidebar.\n  const toggleSidebar = React.useCallback(() => {\n    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open)\n  }, [isMobile, setOpen, setOpenMobile])\n\n  // Adds a keyboard shortcut to toggle the sidebar.\n  React.useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (\n        event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n        (event.metaKey || event.ctrlKey)\n      ) {\n        event.preventDefault()\n        toggleSidebar()\n      }\n    }\n\n    window.addEventListener(\"keydown\", handleKeyDown)\n    return () => window.removeEventListener(\"keydown\", handleKeyDown)\n  }, [toggleSidebar])\n\n  // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n  // This makes it easier to style the sidebar with Tailwind classes.\n  const state = open ? \"expanded\" : \"collapsed\"\n\n  const contextValue = React.useMemo<SidebarContextProps>(\n    () => ({\n      state,\n      open,\n      setOpen,\n      isMobile,\n      openMobile,\n      setOpenMobile,\n      toggleSidebar,\n    }),\n    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]\n  )\n\n  return (\n    <SidebarContext.Provider value={contextValue}>\n      <TooltipProvider delayDuration={0}>\n        <div\n          data-slot=\"sidebar-wrapper\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH,\n              \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n              ...style,\n            } as React.CSSProperties\n          }\n          className={cn(\n            \"group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full\",\n            className\n          )}\n          {...props}\n        >\n          {children}\n        </div>\n      </TooltipProvider>\n    </SidebarContext.Provider>\n  )\n}\n\nfunction Sidebar({\n  side = \"left\",\n  variant = \"sidebar\",\n  collapsible = \"offcanvas\",\n  className,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  side?: \"left\" | \"right\"\n  variant?: \"sidebar\" | \"floating\" | \"inset\"\n  collapsible?: \"offcanvas\" | \"icon\" | \"none\"\n}) {\n  const { isMobile, state, openMobile, setOpenMobile } = useSidebar()\n\n  if (collapsible === \"none\") {\n    return (\n      <div\n        data-slot=\"sidebar\"\n        className={cn(\n          \"bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n      </div>\n    )\n  }\n\n  if (isMobile) {\n    return (\n      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n        <SheetContent\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar\"\n          data-mobile=\"true\"\n          className=\"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n            } as React.CSSProperties\n          }\n          side={side}\n        >\n          <SheetHeader className=\"sr-only\">\n            <SheetTitle>Sidebar</SheetTitle>\n            <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n          </SheetHeader>\n          <div className=\"flex h-full w-full flex-col\">{children}</div>\n        </SheetContent>\n      </Sheet>\n    )\n  }\n\n  return (\n    <div\n      className=\"group peer text-sidebar-foreground hidden md:block\"\n      data-state={state}\n      data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n      data-variant={variant}\n      data-side={side}\n      data-slot=\"sidebar\"\n    >\n      {/* This is what handles the sidebar gap on desktop */}\n      <div\n        data-slot=\"sidebar-gap\"\n        className={cn(\n          \"relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear\",\n          \"group-data-[collapsible=offcanvas]:w-0\",\n          \"group-data-[side=right]:rotate-180\",\n          variant === \"floating\" || variant === \"inset\"\n            ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]\"\n        )}\n      />\n      <div\n        data-slot=\"sidebar-container\"\n        className={cn(\n          \"fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex\",\n          side === \"left\"\n            ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n            : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n          // Adjust the padding for floating and inset variants.\n          variant === \"floating\" || variant === \"inset\"\n            ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n          className\n        )}\n        {...props}\n      >\n        <div\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar-inner\"\n          className=\"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm\"\n        >\n          {children}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction SidebarTrigger({\n  className,\n  onClick,\n  ...props\n}: React.ComponentProps<typeof Button>) {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <Button\n      data-sidebar=\"trigger\"\n      data-slot=\"sidebar-trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"h-7 w-7\", className)}\n      onClick={(event) => {\n        onClick?.(event)\n        toggleSidebar()\n      }}\n      {...props}\n    >\n      <PanelLeftIcon />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  )\n}\n\nfunction SidebarRail({ className, ...props }: React.ComponentProps<\"button\">) {\n  const { toggleSidebar } = useSidebar()\n\n  // Note: Tailwind v3.4 doesn't support \"in-\" selectors. So the rail won't work perfectly.\n  return (\n    <button\n      data-sidebar=\"rail\"\n      data-slot=\"sidebar-rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex\",\n        \"in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInset({ className, ...props }: React.ComponentProps<\"main\">) {\n  return (\n    <main\n      data-slot=\"sidebar-inset\"\n      className={cn(\n        \"bg-background relative flex w-full flex-1 flex-col\",\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInput({\n  className,\n  ...props\n}: React.ComponentProps<typeof Input>) {\n  return (\n    <Input\n      data-slot=\"sidebar-input\"\n      data-sidebar=\"input\"\n      className={cn(\"bg-background h-8 w-full shadow-none\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-header\"\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-footer\"\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof Separator>) {\n  return (\n    <Separator\n      data-slot=\"sidebar-separator\"\n      data-sidebar=\"separator\"\n      className={cn(\"bg-sidebar-border mx-2 w-auto\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-content\"\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group\"\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupLabel({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"div\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-label\"\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupAction({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-action\"\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground absolute top-3.5 right-3 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupContent({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group-content\"\n      data-sidebar=\"group-content\"\n      className={cn(\"w-full text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenu({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu\"\n      data-sidebar=\"menu\"\n      className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuItem({ className, ...props }: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-item\"\n      data-sidebar=\"menu-item\"\n      className={cn(\"group/menu-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:p-0!\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction SidebarMenuButton({\n  asChild = false,\n  isActive = false,\n  variant = \"default\",\n  size = \"default\",\n  tooltip,\n  className,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  isActive?: boolean\n  tooltip?: string | React.ComponentProps<typeof TooltipContent>\n} & VariantProps<typeof sidebarMenuButtonVariants>) {\n  const Comp = asChild ? Slot : \"button\"\n  const { isMobile, state } = useSidebar()\n\n  const button = (\n    <Comp\n      data-slot=\"sidebar-menu-button\"\n      data-sidebar=\"menu-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n      {...props}\n    />\n  )\n\n  if (!tooltip) {\n    return button\n  }\n\n  if (typeof tooltip === \"string\") {\n    tooltip = {\n      children: tooltip,\n    }\n  }\n\n  return (\n    <Tooltip>\n      <TooltipTrigger asChild>{button}</TooltipTrigger>\n      <TooltipContent\n        side=\"right\"\n        align=\"center\"\n        hidden={state !== \"collapsed\" || isMobile}\n        {...tooltip}\n      />\n    </Tooltip>\n  )\n}\n\nfunction SidebarMenuAction({\n  className,\n  asChild = false,\n  showOnHover = false,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  showOnHover?: boolean\n}) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-action\"\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuBadge({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-menu-badge\"\n      data-sidebar=\"menu-badge\"\n      className={cn(\n        \"text-sidebar-foreground pointer-events-none absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums select-none\",\n        \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSkeleton({\n  className,\n  showIcon = false,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  showIcon?: boolean\n}) {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`\n  }, [])\n\n  return (\n    <div\n      data-slot=\"sidebar-menu-skeleton\"\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-[var(--skeleton-width)] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  )\n}\n\nfunction SidebarMenuSub({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu-sub\"\n      data-sidebar=\"menu-sub\"\n      className={cn(\n        \"border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubItem({\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-sub-item\"\n      data-sidebar=\"menu-sub-item\"\n      className={cn(\"group/menu-sub-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubButton({\n  asChild = false,\n  size = \"md\",\n  isActive = false,\n  className,\n  ...props\n}: React.ComponentProps<\"a\"> & {\n  asChild?: boolean\n  size?: \"sm\" | \"md\"\n  isActive?: boolean\n}) {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-sub-button\"\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline outline-2 outline-transparent outline-offset-2 focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n}\n","size_bytes":21770},"public/src/components/ProductCard.tsx":{"content":"\nimport { Link } from \"wouter\";\nimport { Button } from \"./ui/button\";\nimport { Badge } from \"./ui/badge\";\nimport { ShoppingCart, CheckCircle, XCircle, Shield, Package } from \"lucide-react\";\nimport type { Product } from \"../../../shared/schema\";\nimport { useState } from \"react\";\n\ninterface ProductCardProps {\n  product: Product;\n  onAddToCart?: (product: Product) => void;\n  viewMode?: \"grid\" | \"list\";\n}\n\nexport function ProductCard({ product, onAddToCart, viewMode = \"grid\" }: ProductCardProps) {\n  const inStock = parseInt(product.stock.toString()) > 0;\n  const price = parseFloat(product.price.toString());\n  const [imageError, setImageError] = useState(false);\n\n  // List view layout\n  if (viewMode === \"list\") {\n    return (\n      <div\n        className=\"group bg-white rounded-lg overflow-hidden transition-all duration-300 border border-gray-200 hover:shadow-lg hover:border-primary flex flex-col sm:flex-row\"\n        data-testid={`card-product-${product.id}`}\n      >\n        <Link href={`/produkt/${product.id}`} className=\"sm:w-48 flex-shrink-0\">\n          <div className=\"relative bg-gradient-to-br from-gray-50 to-gray-100 aspect-square sm:h-48 flex items-center justify-center overflow-hidden group-hover:from-gray-100 group-hover:to-gray-200 transition-all\">\n            <img \n              src={product.image} \n              alt={product.name}\n              className=\"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105\"\n            />\n            <div className=\"absolute top-2 left-2 bg-green-600 text-white rounded-full p-1.5 shadow-md\">\n              <Shield className=\"h-3.5 w-3.5\" />\n            </div>\n          </div>\n        </Link>\n\n        <div className=\"p-4 flex-1 flex flex-col sm:flex-row sm:items-center justify-between gap-4\">\n          <div className=\"flex-1\">\n            <Link href={`/produkt/${product.id}`}>\n              <h3\n                className=\"font-bold text-base mb-2 hover:text-primary transition-colors text-gray-900\"\n                data-testid={`text-product-name-${product.id}`}\n              >\n                {product.name}\n              </h3>\n            </Link>\n            <p className=\"text-sm text-gray-600 line-clamp-2 mb-3\">{product.description}</p>\n            \n            <div className={`inline-flex items-center gap-1.5 px-2 py-1.5 rounded ${\n              inStock ? \"bg-green-50 border border-green-200\" : \"bg-red-50 border border-red-200\"\n            }`}>\n              {inStock ? (\n                <CheckCircle className=\"h-3.5 w-3.5 text-green-600\" />\n              ) : (\n                <XCircle className=\"h-3.5 w-3.5 text-red-600\" />\n              )}\n              <span \n                className={`text-xs font-semibold ${\n                  inStock ? \"text-green-700\" : \"text-red-700\"\n                }`} \n                data-testid={`text-stock-${product.id}`}\n              >\n                {inStock ? `W magazynie (${product.stock})` : \"Niedostępny\"}\n              </span>\n            </div>\n          </div>\n\n          <div className=\"flex sm:flex-col items-center sm:items-end gap-3 sm:gap-2\">\n            <div className=\"flex flex-col items-start sm:items-end\">\n              <span className=\"text-2xl font-bold text-gray-900\" data-testid={`text-price-${product.id}`}>\n                {price.toFixed(2)} zł\n              </span>\n              <span className=\"text-xs text-gray-500 font-medium\">+ VAT</span>\n            </div>\n            <Button\n              variant=\"default\"\n              size=\"default\"\n              className=\"bg-primary text-black font-bold\"\n              onClick={() => onAddToCart?.(product)}\n              disabled={!inStock}\n              data-testid={`button-add-to-cart-${product.id}`}\n            >\n              <ShoppingCart className=\"h-4 w-4 mr-2\" />\n              <span>Dodaj</span>\n            </Button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // Grid view layout (default)\n  return (\n    <div\n      className=\"group bg-white rounded-lg overflow-hidden border border-gray-200 product-card-hover\"\n      data-testid={`card-product-${product.id}`}\n    >\n      <Link href={`/produkt/${product.id}`} className=\"block\">\n        <div className=\"relative bg-white aspect-square flex items-center justify-center overflow-hidden\">\n          {imageError ? (\n            <div className=\"flex items-center justify-center text-gray-300\">\n              <Package className=\"h-16 w-16\" />\n            </div>\n          ) : (\n            <img \n              src={product.image} \n              alt={product.name}\n              className=\"w-full h-full object-cover product-image-zoom\"\n              onError={() => setImageError(true)}\n            />\n          )}\n          \n          {/* Clean badge - only on hover */}\n          <div className=\"absolute top-3 left-3 bg-black/80 text-white rounded-md px-2 py-1 text-xs font-medium opacity-0 group-hover:opacity-100 transition-opacity\">\n            BHP\n          </div>\n        </div>\n      </Link>\n\n      <div className=\"p-4\">\n        <Link href={`/produkt/${product.id}`}>\n          <h3\n            className=\"font-semibold text-sm leading-tight mb-3 line-clamp-2 hover:text-primary transition-colors min-h-[2.5rem] text-gray-900 tracking-tight\"\n            data-testid={`text-product-name-${product.id}`}\n          >\n            {product.name}\n          </h3>\n        </Link>\n\n        {/* Stock Status - Minimal */}\n        <div className=\"mb-3\">\n          <span \n            className={`text-xs font-medium ${\n              inStock ? \"text-green-600\" : \"text-red-600\"\n            }`} \n            data-testid={`text-stock-${product.id}`}\n          >\n            {inStock ? \"W magazynie\" : \"Niedostępny\"}\n          </span>\n        </div>\n\n        {/* Price and Cart Button */}\n        <div className=\"flex items-center justify-between gap-3 mt-auto pt-3 border-t border-gray-100\">\n          <div className=\"flex flex-col\">\n            <span className=\"text-xl font-bold text-gray-900 tracking-tight\" data-testid={`text-price-${product.id}`}>\n              {price.toFixed(2)} zł\n            </span>\n            <span className=\"text-xs text-gray-500\">+ VAT</span>\n          </div>\n          <Button\n            variant=\"default\"\n            size=\"sm\"\n            className=\"bg-primary text-black font-semibold hover:bg-primary/90 transition-minimal\"\n            onClick={() => onAddToCart?.(product)}\n            disabled={!inStock}\n            data-testid={`button-add-to-cart-${product.id}`}\n          >\n            <ShoppingCart className=\"h-4 w-4\" />\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":6629},"public/src/components/ui/avatar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(`\n      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10\n      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","size_bytes":1596},"public/src/components/PromoBanner.tsx":{"content":"import { useQuery } from \"@tanstack/react-query\";\nimport { Link } from \"wouter\";\nimport { X } from \"lucide-react\";\nimport { useState } from \"react\";\nimport type { Settings } from \"../../../shared/schema\";\n\nexport function PromoBanner() {\n  return (\n    <div className=\"bg-primary text-black border-b border-primary-foreground/10\">\n      <div className=\"max-w-7xl mx-auto px-4\">\n        <div className=\"flex items-center justify-between py-2 text-xs md:text-sm font-medium\">\n          <div className=\"flex items-center gap-4 md:gap-6 flex-wrap\">\n            <span className=\"flex items-center gap-1\">\n              ✓ Darmowa dostawa od 99 zł\n            </span>\n            <span className=\"hidden sm:flex items-center gap-1\">\n              ✓ Odbiór za godzinę\n            </span>\n            <span className=\"hidden md:flex items-center gap-1\">\n              ✓ Raty 0% i leasing\n            </span>\n          </div>\n          <div className=\"flex items-center gap-4\">\n            <a href=\"/kontakt\" className=\"hover:underline\">\n              Znajdź sklep\n            </a>\n            <a href=\"/kontakt\" className=\"hover:underline hidden sm:inline\">\n              Pomoc i kontakt\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}","size_bytes":1268},"public/src/components/ui/input.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    // h-9 to match icon buttons and default buttons.\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","size_bytes":848},"drizzle.config.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL, ensure the database is provisioned\");\n}\n\nexport default defineConfig({\n  out: \"./migrations\",\n  schema: \"./shared/schema.ts\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL,\n  },\n});\n","size_bytes":325},"public/src/lib/utils.ts":{"content":"import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","size_bytes":166},"public/src/pages/not-found.tsx":{"content":"import { Link } from \"wouter\";\nimport { Button } from \"../components/ui/button\";\nimport { Home } from \"lucide-react\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex flex-col items-center justify-center px-4\">\n      <div className=\"text-center\">\n        <h1 className=\"text-9xl font-bold text-primary mb-4\">404</h1>\n        <h2 className=\"text-4xl font-bold mb-4\">Strona nie znaleziona</h2>\n        <p className=\"text-xl text-muted-foreground mb-8\">\n          Przepraszamy, strona której szukasz nie istnieje.\n        </p>\n        <Link href=\"/\" data-testid=\"link-home\">\n          <Button size=\"lg\" className=\"bg-primary text-primary-foreground\">\n            <Home className=\"mr-2 h-5 w-5\" />\n            Wróć na stronę główną\n          </Button>\n        </Link>\n      </div>\n    </div>\n  );\n}\n","size_bytes":851},"public/src/pages/Checkout.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { useLocation } from \"wouter\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport { Button } from \"../components/ui/button\";\nimport { Card } from \"../components/ui/card\";\nimport { Input } from \"../components/ui/input\";\nimport { Label } from \"../components/ui/label\";\nimport { useToast } from \"../hooks/use-toast\";\nimport { apiRequest } from \"../lib/queryClient\";\nimport { CheckCircle2 } from \"lucide-react\";\nimport type { CartItem } from \"../../../shared/schema\";\n\nexport default function Checkout({\n  cartItems,\n  onClearCart,\n}: {\n  cartItems: CartItem[];\n  onClearCart: () => void;\n}) {\n  const [currentLocation, setLocation] = useLocation();\n  const { toast } = useToast();\n  const [orderPlaced, setOrderPlaced] = useState(false);\n\n  const [formData, setFormData] = useState({\n    name: \"\",\n    email: \"\",\n    phone: \"\",\n    address: \"\",\n    city: \"\",\n    postalCode: \"\",\n  });\n\n  const subtotal = cartItems.reduce(\n    (sum, item) => sum + parseFloat(item.price) * item.quantity,\n    0\n  );\n  const shipping = subtotal > 300 ? 0 : 19.99;\n  const total = subtotal + shipping;\n\n  const createOrderMutation = useMutation({\n    mutationFn: async () => {\n      return await apiRequest(\"POST\", \"/api/orders\", {\n        customerName: formData.name,\n        customerEmail: formData.email,\n        customerPhone: formData.phone,\n        customerAddress: `${formData.address}, ${formData.postalCode} ${formData.city}`,\n        items: JSON.stringify(cartItems),\n        total: total.toString(),\n      });\n    },\n    onSuccess: () => {\n      setOrderPlaced(true);\n      onClearCart();\n      toast({\n        title: \"Zamówienie złożone!\",\n        description: \"Dziękujemy za zakupy w BHP Perfect.\",\n      });\n    },\n    onError: () => {\n      toast({\n        title: \"Błąd\",\n        description: \"Nie udało się złożyć zamówienia. Spróbuj ponownie.\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    createOrderMutation.mutate();\n  };\n\n  if (cartItems.length === 0 && !orderPlaced) {\n    setLocation(\"/koszyk\");\n    return null;\n  }\n\n  if (orderPlaced) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex flex-col items-center justify-center py-16\">\n        <CheckCircle2 className=\"h-24 w-24 text-green-600 mb-6\" />\n        <h1 className=\"text-4xl font-bold mb-4\" data-testid=\"text-order-success\">\n          Zamówienie złożone!\n        </h1>\n        <p className=\"text-muted-foreground text-lg mb-4 text-center max-w-md\">\n          Dziękujemy za zakupy. Potwierdzenie zostało wysłane na adres {formData.email}\n        </p>\n        <p className=\"text-sm text-muted-foreground mb-8 text-center\">\n          Możesz śledzić status zamówienia na stronie \"Śledź zamówienie\"\n        </p>\n        <div className=\"flex flex-col sm:flex-row gap-3\">\n          <Button\n            size=\"lg\"\n            className=\"bg-primary text-primary-foreground\"\n            onClick={() => setLocation(\"/sledzenie\")}\n            data-testid=\"button-track-order\"\n          >\n            Śledź zamówienie\n          </Button>\n          <Button\n            size=\"lg\"\n            variant=\"outline\"\n            onClick={() => setLocation(\"/\")}\n            data-testid=\"button-back-home\"\n          >\n            Wróć na stronę główną\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"max-w-7xl mx-auto px-4 py-8\">\n        <h1 className=\"text-4xl md:text-5xl font-bold mb-2\">Finalizacja zamówienia</h1>\n        <div className=\"flex items-center gap-4 mb-8\">\n          <div className=\"flex items-center gap-2\">\n            <div className=\"bg-primary text-black rounded-full h-8 w-8 flex items-center justify-center font-bold\">\n              1\n            </div>\n            <span className=\"font-medium\">Koszyk</span>\n          </div>\n          <div className=\"h-0.5 w-12 bg-primary\" />\n          <div className=\"flex items-center gap-2\">\n            <div className=\"bg-primary text-black rounded-full h-8 w-8 flex items-center justify-center font-bold\">\n              2\n            </div>\n            <span className=\"font-medium\">Dostawa</span>\n          </div>\n          <div className=\"h-0.5 w-12 bg-gray-300\" />\n          <div className=\"flex items-center gap-2\">\n            <div className=\"bg-gray-300 text-gray-600 rounded-full h-8 w-8 flex items-center justify-center font-bold\">\n              3\n            </div>\n            <span className=\"text-muted-foreground\">Potwierdzenie</span>\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n          {/* Checkout Form */}\n          <div className=\"lg:col-span-2\">\n            <Card className=\"p-6\">\n              <h2 className=\"text-2xl font-bold mb-6\">Dane do wysyłki</h2>\n              <form onSubmit={handleSubmit} className=\"space-y-4\">\n                <div>\n                  <Label htmlFor=\"name\">Imię i nazwisko *</Label>\n                  <Input\n                    id=\"name\"\n                    required\n                    value={formData.name}\n                    onChange={(e) =>\n                      setFormData({ ...formData, name: e.target.value })\n                    }\n                    placeholder=\"Jan Kowalski\"\n                    data-testid=\"input-name\"\n                  />\n                </div>\n\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div>\n                    <Label htmlFor=\"email\">Email *</Label>\n                    <Input\n                      id=\"email\"\n                      type=\"email\"\n                      required\n                      value={formData.email}\n                      onChange={(e) =>\n                        setFormData({ ...formData, email: e.target.value })\n                      }\n                      placeholder=\"jan@example.com\"\n                      data-testid=\"input-email\"\n                    />\n                  </div>\n                  <div>\n                    <Label htmlFor=\"phone\">Telefon *</Label>\n                    <Input\n                      id=\"phone\"\n                      type=\"tel\"\n                      required\n                      value={formData.phone}\n                      onChange={(e) =>\n                        setFormData({ ...formData, phone: e.target.value })\n                      }\n                      placeholder=\"+48 123 456 789\"\n                      data-testid=\"input-phone\"\n                    />\n                  </div>\n                </div>\n\n                <div>\n                  <Label htmlFor=\"address\">Ulica i numer *</Label>\n                  <Input\n                    id=\"address\"\n                    required\n                    value={formData.address}\n                    onChange={(e) =>\n                      setFormData({ ...formData, address: e.target.value })\n                    }\n                    placeholder=\"ul. Przykładowa 123\"\n                    data-testid=\"input-address\"\n                  />\n                </div>\n\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div>\n                    <Label htmlFor=\"postalCode\">Kod pocztowy *</Label>\n                    <Input\n                      id=\"postalCode\"\n                      required\n                      value={formData.postalCode}\n                      onChange={(e) =>\n                        setFormData({ ...formData, postalCode: e.target.value })\n                      }\n                      placeholder=\"00-000\"\n                      data-testid=\"input-postal-code\"\n                    />\n                  </div>\n                  <div>\n                    <Label htmlFor=\"city\">Miasto *</Label>\n                    <Input\n                      id=\"city\"\n                      required\n                      value={formData.city}\n                      onChange={(e) =>\n                        setFormData({ ...formData, city: e.target.value })\n                      }\n                      placeholder=\"Warszawa\"\n                      data-testid=\"input-city\"\n                    />\n                  </div>\n                </div>\n\n                <Button\n                  type=\"submit\"\n                  size=\"lg\"\n                  className=\"w-full bg-primary text-primary-foreground hover:bg-primary/90 font-semibold mt-6\"\n                  disabled={createOrderMutation.isPending}\n                  data-testid=\"button-place-order\"\n                >\n                  {createOrderMutation.isPending ? \"Przetwarzanie...\" : \"Złóż zamówienie\"}\n                </Button>\n              </form>\n            </Card>\n          </div>\n\n          {/* Order Summary */}\n          <div className=\"lg:col-span-1\">\n            <Card className=\"p-6 sticky top-20\">\n              <h2 className=\"text-2xl font-bold mb-6\">Twoje zamówienie</h2>\n\n              <div className=\"space-y-4 mb-6\">\n                {cartItems.map((item) => (\n                  <div key={item.productId} className=\"flex gap-3\">\n                    <img\n                      src={item.image}\n                      alt={item.name}\n                      className=\"w-16 h-16 object-cover rounded-md bg-gray-100\"\n                    />\n                    <div className=\"flex-1\">\n                      <h4 className=\"font-medium text-sm line-clamp-1\">{item.name}</h4>\n                      <p className=\"text-sm text-muted-foreground\">\n                        {item.quantity} × {parseFloat(item.price).toFixed(2)} zł\n                      </p>\n                    </div>\n                  </div>\n                ))}\n              </div>\n\n              <div className=\"space-y-2 border-t pt-4\">\n                <div className=\"flex justify-between\">\n                  <span className=\"text-muted-foreground\">Suma częściowa</span>\n                  <span className=\"font-semibold\">{subtotal.toFixed(2)} zł</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-muted-foreground\">Dostawa</span>\n                  <span className=\"font-semibold\">\n                    {shipping === 0 ? \"Gratis\" : `${shipping.toFixed(2)} zł`}\n                  </span>\n                </div>\n                <div className=\"border-t pt-2\">\n                  <div className=\"flex justify-between text-xl font-bold\">\n                    <span>Razem</span>\n                    <span data-testid=\"text-checkout-total\">{total.toFixed(2)} zł</span>\n                  </div>\n                </div>\n              </div>\n            </Card>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}","size_bytes":10754},"public/src/components/ui/textarea.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","size_bytes":693},"public/src/components/Footer.tsx":{"content":"import { Link } from \"wouter\";\nimport { Mail, Phone, MapPin, ChevronDown } from \"lucide-react\";\nimport { useState } from \"react\";\n\nexport function Footer() {\n  const currentYear = new Date().getFullYear();\n  const [openSection, setOpenSection] = useState<string | null>(null);\n\n  const toggleSection = (section: string) => {\n    setOpenSection(openSection === section ? null : section);\n  };\n\n  return (\n    <footer className=\"bg-white border-t border-gray-100 mt-auto\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 py-12\">\n        {/* Desktop Layout */}\n        <div className=\"hidden md:grid md:grid-cols-4 gap-12\">\n          {/* Company Info */}\n          <div className=\"col-span-1\">\n            <h3 className=\"text-xl font-bold mb-3 tracking-tight\">\n              BHP <span className=\"text-primary\">PERFECT</span>\n            </h3>\n            <p className=\"text-sm text-gray-600 leading-relaxed mb-4\">\n              Profesjonalna odzież robocza i środki ochrony indywidualnej\n            </p>\n            <div className=\"flex items-start gap-2 text-sm text-gray-600\">\n              <MapPin className=\"h-4 w-4 text-primary flex-shrink-0 mt-0.5\" />\n              <span className=\"leading-relaxed\">\n                Bohaterów Modlina 17,<br />\n                05-100 Nowy Dwór Mazowiecki\n              </span>\n            </div>\n          </div>\n\n          {/* Quick Links */}\n          <div className=\"col-span-1\">\n            <h4 className=\"font-semibold text-sm mb-4 text-gray-900\">Sklep</h4>\n            <ul className=\"space-y-2\">\n              <li>\n                <Link href=\"/sklep\" className=\"text-sm text-gray-600 hover:text-primary transition-colors\">\n                  Wszystkie produkty\n                </Link>\n              </li>\n              <li>\n                <Link href=\"/sklep?category=odziez-robocza\" className=\"text-sm text-gray-600 hover:text-primary transition-colors\">\n                  Odzież robocza\n                </Link>\n              </li>\n              <li>\n                <Link href=\"/sklep?category=obuwie\" className=\"text-sm text-gray-600 hover:text-primary transition-colors\">\n                  Obuwie BHP\n                </Link>\n              </li>\n              <li>\n                <Link href=\"/sklep?category=rekawice\" className=\"text-sm text-gray-600 hover:text-primary transition-colors\">\n                  Rękawice\n                </Link>\n              </li>\n            </ul>\n          </div>\n\n          {/* Customer Service */}\n          <div className=\"col-span-1\">\n            <h4 className=\"font-semibold text-sm mb-4 text-gray-900\">Obsługa klienta</h4>\n            <ul className=\"space-y-2\">\n              <li>\n                <Link href=\"/kontakt\" className=\"text-sm text-gray-600 hover:text-primary transition-colors\">\n                  Kontakt\n                </Link>\n              </li>\n              <li>\n                <Link href=\"/sledzenie\" className=\"text-sm text-gray-600 hover:text-primary transition-colors\">\n                  Śledzenie zamówienia\n                </Link>\n              </li>\n              <li>\n                <Link href=\"/o-nas\" className=\"text-sm text-gray-600 hover:text-primary transition-colors\">\n                  O nas\n                </Link>\n              </li>\n              <li>\n                <Link href=\"/kontakt\" className=\"text-sm text-gray-600 hover:text-primary transition-colors\">\n                  Regulamin\n                </Link>\n              </li>\n            </ul>\n          </div>\n\n          {/* Contact */}\n          <div className=\"col-span-1\">\n            <h4 className=\"font-semibold text-sm mb-4 text-gray-900\">Kontakt</h4>\n            <div className=\"space-y-3\">\n              <a href=\"tel:+48756756756\" className=\"flex items-center gap-2 text-sm text-gray-900 hover:text-primary transition-colors group\">\n                <Phone className=\"h-4 w-4 text-primary\" />\n                <span>756 756 756</span>\n              </a>\n              <a href=\"mailto:kontakt@bhpperfect.pl\" className=\"flex items-center gap-2 text-sm text-gray-900 hover:text-primary transition-colors group break-all\">\n                <Mail className=\"h-4 w-4 text-primary flex-shrink-0\" />\n                <span>kontakt@bhpperfect.pl</span>\n              </a>\n              <p className=\"text-xs text-gray-500\">Pn-Pt 08:00-20:00<br />Sob-Ndz 10:00-18:00</p>\n            </div>\n          </div>\n        </div>\n\n        {/* Mobile Layout - Accordion */}\n        <div className=\"md:hidden space-y-4\">\n          {/* Company Info - Always Visible */}\n          <div>\n            <h3 className=\"text-xl font-bold mb-3 tracking-tight\">\n              BHP <span className=\"text-primary\">PERFECT</span>\n            </h3>\n            <p className=\"text-sm text-gray-600 leading-relaxed mb-4\">\n              Profesjonalna odzież robocza i środki ochrony indywidualnej\n            </p>\n          </div>\n\n          {/* Contact - Always Visible */}\n          <div className=\"space-y-2 pb-4 border-b border-gray-100\">\n            <a href=\"tel:+48756756756\" className=\"flex items-center gap-2 text-sm text-gray-900\">\n              <Phone className=\"h-4 w-4 text-primary\" />\n              756 756 756\n            </a>\n            <a href=\"mailto:kontakt@bhpperfect.pl\" className=\"flex items-center gap-2 text-sm text-gray-900 break-all\">\n              <Mail className=\"h-4 w-4 text-primary\" />\n              kontakt@bhpperfect.pl\n            </a>\n          </div>\n\n          {/* Shop Links - Accordion */}\n          <div className=\"border-b border-gray-100 pb-4\">\n            <button\n              onClick={() => toggleSection(\"shop\")}\n              className=\"flex items-center justify-between w-full text-left font-semibold text-sm text-gray-900\"\n            >\n              Sklep\n              <ChevronDown className={`h-4 w-4 transition-transform ${openSection === \"shop\" ? \"rotate-180\" : \"\"}`} />\n            </button>\n            {openSection === \"shop\" && (\n              <ul className=\"mt-3 space-y-2 pl-2 animate-slide-down\">\n                <li><Link href=\"/sklep\" className=\"text-sm text-gray-600\">Wszystkie produkty</Link></li>\n                <li><Link href=\"/sklep?category=odziez-robocza\" className=\"text-sm text-gray-600\">Odzież robocza</Link></li>\n                <li><Link href=\"/sklep?category=obuwie\" className=\"text-sm text-gray-600\">Obuwie BHP</Link></li>\n                <li><Link href=\"/sklep?category=rekawice\" className=\"text-sm text-gray-600\">Rękawice</Link></li>\n              </ul>\n            )}\n          </div>\n\n          {/* Customer Service - Accordion */}\n          <div>\n            <button\n              onClick={() => toggleSection(\"service\")}\n              className=\"flex items-center justify-between w-full text-left font-semibold text-sm text-gray-900\"\n            >\n              Obsługa klienta\n              <ChevronDown className={`h-4 w-4 transition-transform ${openSection === \"service\" ? \"rotate-180\" : \"\"}`} />\n            </button>\n            {openSection === \"service\" && (\n              <ul className=\"mt-3 space-y-2 pl-2 animate-slide-down\">\n                <li><Link href=\"/kontakt\" className=\"text-sm text-gray-600\">Kontakt</Link></li>\n                <li><Link href=\"/sledzenie\" className=\"text-sm text-gray-600\">Śledzenie zamówienia</Link></li>\n                <li><Link href=\"/o-nas\" className=\"text-sm text-gray-600\">O nas</Link></li>\n                <li><Link href=\"/kontakt\" className=\"text-sm text-gray-600\">Regulamin</Link></li>\n              </ul>\n            )}\n          </div>\n        </div>\n\n        {/* Bottom Bar */}\n        <div className=\"mt-12 pt-8 border-t border-gray-100 text-center space-y-2\">\n          <p className=\"text-sm text-gray-600\">\n            © {currentYear} BHP Perfect. Wszelkie prawa zastrzeżone.\n          </p>\n          <p className=\"text-xs text-gray-500\">\n            TERG S.A., Ul. Bohaterów Modlina 17, 05-100 Nowy Dwór Mazowiecki | NIP: 123-456-78-90\n          </p>\n        </div>\n      </div>\n    </footer>\n  );\n}","size_bytes":8009},"public/src/components/ui/switch.tsx":{"content":"import * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","size_bytes":1143},"public/src/components/ui/sheet.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","size_bytes":4285},"public/src/App.tsx":{"content":"import { Switch, Route } from \"wouter\";\nimport { queryClient } from \"./lib/queryClient\";\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { Toaster } from \"./components/ui/toaster\";\nimport { TooltipProvider } from \"./components/ui/tooltip\";\nimport { Header } from \"./components/Header\";\nimport { Footer } from \"./components/Footer\";\nimport { PromoBanner } from \"./components/PromoBanner\";\nimport { useToast } from \"./hooks/use-toast\";\nimport { useState, useEffect } from \"react\";\nimport type { Product, CartItem } from \"../../shared/schema\";\n\n// Pages\nimport Home from \"./pages/Home\";\nimport Shop from \"./pages/Shop\";\nimport ProductDetail from \"./pages/ProductDetail\";\nimport Cart from \"./pages/Cart\";\nimport Checkout from \"./pages/Checkout\";\nimport AdminPanel from \"./pages/AdminPanel\";\nimport OrderHistory from \"./pages/OrderHistory\";\nimport TrackOrder from \"./pages/TrackOrder\";\nimport About from \"./pages/About\";\nimport Contact from \"./pages/Contact\";\nimport Gallery from \"./pages/Gallery\";\nimport NotFound from \"./pages/not-found\";\n\nfunction Router() {\n  const { toast } = useToast();\n  const [cartItems, setCartItems] = useState<CartItem[]>(() => {\n    const saved = localStorage.getItem(\"cart\");\n    return saved ? JSON.parse(saved) : [];\n  });\n\n  useEffect(() => {\n    localStorage.setItem(\"cart\", JSON.stringify(cartItems));\n  }, [cartItems]);\n\n  const handleAddToCart = (product: Product, quantity: number = 1) => {\n    setCartItems((prev) => {\n      const existingItem = prev.find((item) => item.productId === product.id);\n      if (existingItem) {\n        return prev.map((item) =>\n          item.productId === product.id\n            ? { ...item, quantity: item.quantity + quantity }\n            : item\n        );\n      }\n      return [\n        ...prev,\n        {\n          productId: product.id,\n          quantity,\n          name: product.name,\n          price: product.price.toString(),\n          image: product.image,\n        },\n      ];\n    });\n    toast({\n      title: \"Dodano do koszyka\",\n      description: `${product.name} został dodany do koszyka.`,\n    });\n  };\n\n  const handleUpdateQuantity = (productId: string, quantity: number) => {\n    if (quantity < 1) return;\n    setCartItems((prev) =>\n      prev.map((item) =>\n        item.productId === productId ? { ...item, quantity } : item\n      )\n    );\n  };\n\n  const handleRemoveItem = (productId: string) => {\n    setCartItems((prev) => prev.filter((item) => item.productId !== productId));\n    toast({\n      title: \"Usunięto z koszyka\",\n      description: \"Produkt został usunięty z koszyka.\",\n    });\n  };\n\n  const handleClearCart = () => {\n    setCartItems([]);\n  };\n\n  return (\n    <div className=\"flex flex-col min-h-screen\">\n      <PromoBanner />\n      <Header cartItemCount={cartItems.reduce((sum, item) => sum + item.quantity, 0)} />\n      <main className=\"flex-1\">\n        <Switch>\n          <Route path=\"/\" component={Home} />\n          <Route path=\"/sklep\" component={() => <Shop onAddToCart={handleAddToCart} />} />\n          <Route\n            path=\"/produkt/:id\"\n            component={() => <ProductDetail onAddToCart={handleAddToCart} />}\n          />\n          <Route\n            path=\"/koszyk\"\n            component={() => (\n              <Cart\n                cartItems={cartItems}\n                onUpdateQuantity={handleUpdateQuantity}\n                onRemoveItem={handleRemoveItem}\n              />\n            )}\n          />\n          <Route\n            path=\"/zamowienie\"\n            component={() => (\n              <Checkout cartItems={cartItems} onClearCart={handleClearCart} />\n            )}\n          />\n          <Route path=\"/admin\" component={AdminPanel} />\n          <Route path=\"/zamowienia\" component={OrderHistory} />\n          <Route path=\"/sledzenie\" component={TrackOrder} />\n          <Route path=\"/o-nas\" component={About} />\n          <Route path=\"/kontakt\" component={Contact} />\n          <Route path=\"/galeria\" component={Gallery} />\n          <Route component={NotFound} />\n        </Switch>\n      </main>\n      <Footer />\n    </div>\n  );\n}\n\nexport default function App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <TooltipProvider>\n        <Toaster />\n        <Router />\n      </TooltipProvider>\n    </QueryClientProvider>\n  );\n}","size_bytes":4298},"public/src/components/ui/label.tsx":{"content":"import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","size_bytes":714},"public/src/hooks/use-toast.ts":{"content":"import * as React from \"react\";\n\nimport type { ToastActionElement, ToastProps } from \"../components/ui/toast\";\n\nconst TOAST_LIMIT = 1;\nconst TOAST_REMOVE_DELAY = 1000000;\n\ntype ToasterToast = ToastProps & {\n  id: string;\n  title?: React.ReactNode;\n  description?: React.ReactNode;\n  action?: ToastActionElement;\n};\n\n// actionTypes constant removed — string literal action types used directly\nlet count = 0;\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER;\n  return count.toString();\n}\n\ntype Action =\n  | {\n      type: \"ADD_TOAST\";\n      toast: ToasterToast;\n    }\n  | {\n      type: \"UPDATE_TOAST\";\n      toast: Partial<ToasterToast>;\n    }\n  | {\n      type: \"DISMISS_TOAST\";\n      toastId?: ToasterToast[\"id\"];\n    }\n  | {\n      type: \"REMOVE_TOAST\";\n      toastId?: ToasterToast[\"id\"];\n    };\n\ninterface State {\n  toasts: ToasterToast[];\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>();\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return;\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId);\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    });\n  }, TOAST_REMOVE_DELAY);\n\n  toastTimeouts.set(toastId, timeout);\n};\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      };\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      };\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action;\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId);\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id);\n        });\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      };\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        };\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      };\n  }\n};\n\nconst listeners: Array<(state: State) => void> = [];\n\nlet memoryState: State = { toasts: [] };\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action);\n  listeners.forEach((listener) => {\n    listener(memoryState);\n  });\n}\n\ntype Toast = Omit<ToasterToast, \"id\">;\n\nfunction toast({ ...props }: Toast) {\n  const id = genId();\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    });\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id });\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss();\n      },\n    },\n  });\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  };\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState);\n\n  React.useEffect(() => {\n    listeners.push(setState);\n    return () => {\n      const index = listeners.indexOf(setState);\n      if (index > -1) {\n        listeners.splice(index, 1);\n      }\n    };\n  }, [state]);\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  };\n}\n\nexport { useToast, toast };\n","size_bytes":3784},"public/src/components/ui/pagination.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"../../lib/utils\"\nimport { ButtonProps, buttonVariants } from \"./button\"\n\nconst Pagination = ({ className, ...props }: React.ComponentProps<\"nav\">) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props}\n  />\n)\nPagination.displayName = \"Pagination\"\n\nconst PaginationContent = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    className={cn(\"flex flex-row items-center gap-1\", className)}\n    {...props}\n  />\n))\nPaginationContent.displayName = \"PaginationContent\"\n\nconst PaginationItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n))\nPaginationItem.displayName = \"PaginationItem\"\n\ntype PaginationLinkProps = {\n  isActive?: boolean\n} & Pick<ButtonProps, \"size\"> &\n  React.ComponentProps<\"a\">\n\nconst PaginationLink = ({\n  className,\n  isActive,\n  size = \"icon\",\n  ...props\n}: PaginationLinkProps) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(\n      buttonVariants({\n        variant: isActive ? \"outline\" : \"ghost\",\n        size,\n      }),\n      className\n    )}\n    {...props}\n  />\n)\nPaginationLink.displayName = \"PaginationLink\"\n\nconst PaginationPrevious = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to previous page\"\n    size=\"default\"\n    className={cn(\"gap-1 pl-2.5\", className)}\n    {...props}\n  >\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n)\nPaginationPrevious.displayName = \"PaginationPrevious\"\n\nconst PaginationNext = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to next page\"\n    size=\"default\"\n    className={cn(\"gap-1 pr-2.5\", className)}\n    {...props}\n  >\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n)\nPaginationNext.displayName = \"PaginationNext\"\n\nconst PaginationEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    aria-hidden\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n)\nPaginationEllipsis.displayName = \"PaginationEllipsis\"\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationEllipsis,\n  PaginationItem,\n  PaginationLink,\n  PaginationNext,\n  PaginationPrevious,\n}\n","size_bytes":2741},"shared/schema.ts":{"content":"import { sql } from \"drizzle-orm\";\nimport { pgTable, text, varchar, integer, numeric, boolean } from \"drizzle-orm/pg-core\";\nimport { createInsertSchema } from \"drizzle-zod\";\nimport { z } from \"zod\";\n\nexport const users = pgTable(\"users\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  username: text(\"username\").notNull().unique(),\n  email: text(\"email\").notNull().unique(),\n  password: text(\"password\").notNull(),\n  isAdmin: boolean(\"is_admin\").notNull().default(false),\n});\n\nexport const products = pgTable(\"products\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  name: text(\"name\").notNull(),\n  description: text(\"description\").notNull(),\n  price: numeric(\"price\", { precision: 10, scale: 2 }).notNull(),\n  image: text(\"image\").notNull(),\n  images: text(\"images\").array().default(sql`ARRAY[]::text[]`),\n  category: text(\"category\").notNull(),\n  stock: integer(\"stock\").notNull().default(0),\n  available: boolean(\"available\").notNull().default(true),\n  shipping: text(\"shipping\").notNull().default(\"standard\"),\n  popularity: integer(\"popularity\").notNull().default(0),\n  hasSizes: boolean(\"has_sizes\").notNull().default(false),\n  createdAt: text(\"created_at\").notNull().default(sql`CURRENT_TIMESTAMP`),\n});\n\nexport const sizes = pgTable(\"sizes\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  name: text(\"name\").notNull().unique(),\n  displayOrder: integer(\"display_order\").notNull().default(0),\n  createdAt: text(\"created_at\").notNull().default(sql`CURRENT_TIMESTAMP`),\n});\n\nexport const productSizes = pgTable(\"product_sizes\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  productId: varchar(\"product_id\").notNull(),\n  sizeId: varchar(\"size_id\").notNull(),\n  stock: integer(\"stock\").notNull().default(0),\n  createdAt: text(\"created_at\").notNull().default(sql`CURRENT_TIMESTAMP`),\n});\n\nexport const orders = pgTable(\"orders\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: varchar(\"user_id\"),\n  customerName: text(\"customer_name\").notNull(),\n  customerEmail: text(\"customer_email\").notNull(),\n  customerPhone: text(\"customer_phone\").notNull(),\n  customerAddress: text(\"customer_address\").notNull(),\n  items: text(\"items\").notNull(), // JSON string of cart items\n  total: numeric(\"total\", { precision: 10, scale: 2 }).notNull(),\n  status: text(\"status\").notNull().default(\"pending\"),\n  createdAt: text(\"created_at\").notNull(),\n});\n\nexport const gallery = pgTable(\"gallery\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  filename: text(\"filename\").notNull(),\n  path: text(\"path\").notNull(),\n  uploadedAt: text(\"uploaded_at\").notNull(),\n});\n\nexport const settings = pgTable(\"settings\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  key: text(\"key\").notNull().unique(),\n  value: text(\"value\").notNull(),\n});\n\nexport const reviews = pgTable(\"reviews\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  productId: varchar(\"product_id\").notNull(),\n  userId: varchar(\"user_id\"),\n  customerName: text(\"customer_name\").notNull(),\n  rating: integer(\"rating\").notNull(),\n  comment: text(\"comment\").notNull(),\n  createdAt: text(\"created_at\").notNull(),\n});\n\nexport const wishlist = pgTable(\"wishlist\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: varchar(\"user_id\").notNull(),\n  productId: varchar(\"product_id\").notNull(),\n  createdAt: text(\"created_at\").notNull(),\n});\n\n// Insert schemas\nexport const insertUserSchema = createInsertSchema(users).omit({\n  id: true,\n});\n\nexport const insertProductSchema = createInsertSchema(products).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport const insertOrderSchema = createInsertSchema(orders).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport const insertGallerySchema = createInsertSchema(gallery).omit({\n  id: true,\n  uploadedAt: true,\n});\n\nexport const insertSettingsSchema = createInsertSchema(settings).omit({\n  id: true,\n});\n\nexport const insertReviewSchema = createInsertSchema(reviews).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport const insertWishlistSchema = createInsertSchema(wishlist).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport const insertSizeSchema = createInsertSchema(sizes).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport const insertProductSizeSchema = createInsertSchema(productSizes).omit({\n  id: true,\n  createdAt: true,\n}).extend({\n  stock: z.number().int().nonnegative(),\n});\n\n// Auth schemas\nexport const loginSchema = z.object({\n  email: z.string().email(),\n  password: z.string().min(6),\n});\n\nexport const registerSchema = z.object({\n  username: z.string().min(3),\n  email: z.string().email(),\n  password: z.string().min(6),\n});\n\n// Cart item schema (client-side only)\nexport const cartItemSchema = z.object({\n  productId: z.string(),\n  quantity: z.number().int().positive(),\n  name: z.string(),\n  price: z.string(),\n  image: z.string(),\n  sizeId: z.string().optional(),\n  sizeName: z.string().optional(),\n});\n\n// Types\nexport type InsertUser = z.infer<typeof insertUserSchema>;\nexport type User = typeof users.$inferSelect;\nexport type InsertProduct = z.infer<typeof insertProductSchema>;\nexport type Product = typeof products.$inferSelect;\nexport type InsertOrder = z.infer<typeof insertOrderSchema>;\nexport type Order = typeof orders.$inferSelect;\nexport type InsertGallery = z.infer<typeof insertGallerySchema>;\nexport type Gallery = typeof gallery.$inferSelect;\nexport type InsertSettings = z.infer<typeof insertSettingsSchema>;\nexport type Settings = typeof settings.$inferSelect;\nexport type InsertReview = z.infer<typeof insertReviewSchema>;\nexport type Review = typeof reviews.$inferSelect;\nexport type InsertWishlist = z.infer<typeof insertWishlistSchema>;\nexport type WishlistItem = typeof wishlist.$inferSelect;\nexport type InsertSize = z.infer<typeof insertSizeSchema>;\nexport type Size = typeof sizes.$inferSelect;\nexport type InsertProductSize = z.infer<typeof insertProductSizeSchema>;\nexport type ProductSize = typeof productSizes.$inferSelect;\nexport type LoginData = z.infer<typeof loginSchema>;\nexport type RegisterData = z.infer<typeof registerSchema>;\nexport type CartItem = z.infer<typeof cartItemSchema>;\n\n// Extended Product type with sizes\nexport type ProductWithSizes = Product & {\n  sizes?: (ProductSize & { size: Size })[];\n};\n","size_bytes":6357},"public/src/components/ui/checkbox.tsx":{"content":"import * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","size_bytes":1060},"server/vite.ts":{"content":"import express, { type Express } from \"express\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport { createServer as createViteServer, createLogger } from \"vite\";\nimport { type Server } from \"http\";\nimport viteConfig from \"../vite.config\";\nimport { nanoid } from \"nanoid\";\nimport { fileURLToPath } from \"url\";\nimport mime from \"mime-types\";\n\nconst viteLogger = createLogger();\n\nexport function log(message: string, source = \"express\") {\n  const formattedTime = new Date().toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  });\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\n\nexport async function setupVite(app: Express, server: Server) {\n  const serverOptions = {\n    middlewareMode: true,\n    hmr: { server },\n    allowedHosts: true as const,\n  };\n\n  const vite = await createViteServer({\n    ...viteConfig,\n    configFile: false,\n    customLogger: {\n      ...viteLogger,\n      error: (msg, options) => {\n        viteLogger.error(msg, options);\n        process.exit(1);\n      },\n    },\n    server: serverOptions,\n    appType: \"custom\",\n  });\n\n  app.use(vite.middlewares);\n\n  app.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n    try {\n      const __filename = fileURLToPath(import.meta.url);\n      const __dirname = path.dirname(__filename);\n      // project public folder is located one level above server/\n      const clientTemplate = path.resolve(\n        __dirname,\n        \"..\",\n        \"public\",\n        \"index.html\"\n      );\n\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      template = template.replace(\n        `src=\"/src/main.tsx\"`,\n        `src=\"/src/main.tsx?v=${nanoid()}\"`\n      );\n\n      const page = await vite.transformIndexHtml(url, template);\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(page);\n    } catch (e) {\n      vite.ssrFixStacktrace(e as Error);\n      next(e);\n    }\n  });\n}\n\nexport function serveStatic(app: Express) {\n  // ✅ Абсолютный путь к собранному фронтенду\n  const distPath = path.resolve(process.cwd(), \"dist/public\");\n\n  // ✅ Раздаём все файлы из dist/public (включая /assets/)\n  app.use(\n    \"/\",\n    express.static(distPath, {\n      setHeaders: (res, filePath) => {\n        const mimeType = mime.lookup(filePath);\n        if (mimeType) res.setHeader(\"Content-Type\", mimeType);\n      },\n    })\n  );\n\n  // ✅ SPA fallback — отдаём index.html для всех не-API маршрутов\n  app.get(\"*\", (_req, res) => {\n    res.sendFile(path.join(distPath, \"index.html\"));\n  });\n}\n","size_bytes":2644},"public/src/components/ui/popover.tsx":{"content":"import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n","size_bytes":1284},"public/src/pages/Home.tsx":{"content":"\nimport { Link } from \"wouter\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { Button } from \"../components/ui/button\";\nimport { ArrowRight } from \"lucide-react\";\nimport bhpBackground from \"@assets/bhp-hero.jpg\";\nimport categoryOdziezRobocza from \"@assets/category-odziez-robocza.jpg\";\nimport categoryObuwie from \"@assets/category-obuwie.jpg\";\nimport categoryRekawice from \"@assets/category-rekawice.jpg\";\nimport categoryOchronaGlowy from \"@assets/category-ochrona-glowy.jpg\";\nimport { BRANDING } from \"../config/branding\";\nimport type { Product } from \"../../../shared/schema\";\n\nexport default function Home() {\n  const { data: products = [], isLoading } = useQuery<Product[]>({\n    queryKey: [\"/api/products\"],\n  });\n\n  return (\n    <div className=\"min-h-screen\">\n      {/* Hero Section - Enhanced with animations */}\n      <section className=\"relative text-white min-h-[500px] md:min-h-[600px] lg:min-h-[700px] flex items-center overflow-hidden\">\n        <div className=\"absolute inset-0 bg-cover bg-center animate-fade-in\" style={{ backgroundImage: `url(${bhpBackground})` }} />\n        <div className=\"absolute inset-0 bg-gradient-to-r from-black/80 via-black/60 to-black/40 animate-gradient\" />\n\n        <div className=\"relative z-20 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 sm:py-20 md:py-24 w-full\">\n          <div className=\"max-w-3xl\">\n            <h1 className=\"text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold mb-4 sm:mb-6 leading-tight animate-slide-in-left\">\n              <span className=\"text-white drop-shadow-2xl\">BHP</span>{\" \"}\n              <span className=\"text-primary drop-shadow-2xl\">PERFECT</span>\n            </h1>\n            <p className=\"text-lg sm:text-xl md:text-2xl text-gray-100 mb-6 sm:mb-8 drop-shadow-lg leading-relaxed animate-slide-in-left\" style={{ animationDelay: '0.2s', animationFillMode: 'both' }}>\n              Twoje bezpieczeństwo - nasza pasja! Szeroki wybór produktów BHP w najlepszych cenach.\n            </p>\n            <div className=\"flex flex-col sm:flex-row gap-3 sm:gap-4 animate-slide-in-left\" style={{ animationDelay: '0.4s', animationFillMode: 'both' }}>\n              <Link href=\"/sklep\" data-testid=\"button-shop-now\" className=\"w-full sm:w-auto\">\n                <Button\n                  size=\"lg\"\n                  className=\"w-full sm:w-auto bg-primary text-black font-bold px-6 sm:px-8 py-4 sm:py-6 text-base sm:text-lg hover:bg-primary/90 shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105 group\"\n                >\n                  Zobacz produkty <ArrowRight className=\"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform\" />\n                </Button>\n              </Link>\n              <Link href=\"/kontakt\" data-testid=\"button-contact\" className=\"w-full sm:w-auto\">\n                <Button\n                  size=\"lg\"\n                  variant=\"outline\"\n                  className=\"w-full sm:w-auto backdrop-blur-sm bg-white/10 border-2 border-white text-white hover:bg-white hover:text-black px-6 sm:px-8 py-4 sm:py-6 text-base sm:text-lg font-bold shadow-xl transition-all duration-300 hover:scale-105\"\n                >\n                  Skontaktuj się z nami\n                </Button>\n              </Link>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      {/* Categories Section - Улучшенная версия */}\n      <section className=\"py-12 sm:py-16 md:py-20 lg:py-24 bg-gradient-to-b from-gray-50 to-white\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"text-center mb-10 sm:mb-12 md:mb-16\">\n            <h2 className=\"text-3xl sm:text-4xl md:text-5xl font-bold mb-4 sm:mb-6 text-gray-900\">\n              Nasze kategorie\n            </h2>\n            <p className=\"text-base sm:text-lg md:text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed\">\n              Szeroki wybór profesjonalnego sprzętu BHP. Wybierz kategorię i poznaj naszą ofertę.\n            </p>\n          </div>\n\n          {isLoading ? (\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 md:gap-8\">\n              {[1, 2, 3, 4].map((i) => (\n                <div key={i} className=\"bg-white rounded-2xl shadow-lg overflow-hidden h-96 animate-pulse\">\n                  <div className=\"h-56 md:h-64 bg-gray-200\" />\n                  <div className=\"p-6 space-y-3\">\n                    <div className=\"h-6 bg-gray-200 rounded w-3/4\" />\n                    <div className=\"h-4 bg-gray-200 rounded w-full\" />\n                    <div className=\"h-4 bg-gray-200 rounded w-5/6\" />\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <>\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 md:gap-8\">\n                {[\n                  {\n                    slug: \"odziez-robocza\",\n                    label: \"Odzież robocza\",\n                    description: \"Profesjonalna odzież dla każdego pracownika\",\n                    image: categoryOdziezRobocza\n                  },\n                  {\n                    slug: \"obuwie\",\n                    label: \"Obuwie BHP\",\n                    description: \"Bezpieczne i wytrzymałe obuwie robocze\",\n                    image: categoryObuwie\n                  },\n                  {\n                    slug: \"rekawice\",\n                    label: \"Rękawice\",\n                    description: \"Ochrona rąk w każdych warunkach\",\n                    image: categoryRekawice\n                  },\n                  {\n                    slug: \"ochrona-glowy\",\n                    label: \"Ochrona głowy\",\n                    description: \"Kaski i akcesoria ochronne\",\n                    image: categoryOchronaGlowy\n                  }\n                ].map((category) => {\n                  const categoryProducts = products.filter(p => p.category === category.slug);\n\n                  return (\n                    <Link\n                      key={category.slug}\n                      href={`/sklep?category=${category.slug}`}\n                      data-testid={`category-${category.slug}`}\n                    >\n                      <div className=\"group cursor-pointer bg-white rounded-2xl shadow-lg overflow-hidden category-card-hover border border-gray-100\">\n                        <div className=\"relative h-56 md:h-64 overflow-hidden\">\n                          <img\n                            src={category.image}\n                            alt={category.label}\n                            className=\"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110\"\n                          />\n                          <div className=\"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent\" />\n                          {/* Hover overlay with icon */}\n                          <div className=\"absolute inset-0 bg-primary/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center\">\n                            <ArrowRight className=\"h-12 w-12 text-primary transform translate-x-0 group-hover:translate-x-2 transition-transform duration-300\" />\n                          </div>\n                        </div>\n\n                        <div className=\"p-6\">\n                          <h3 className=\"text-xl sm:text-2xl font-bold text-gray-900 mb-2 group-hover:text-primary transition-colors duration-300\">\n                            {category.label}\n                          </h3>\n                          <p className=\"text-sm text-gray-600 mb-4 leading-relaxed\">\n                            {category.description}\n                          </p>\n                          <div className=\"flex items-center justify-between\">\n                            <span className=\"text-sm font-semibold text-primary group-hover:scale-105 transition-transform duration-300 inline-block\">\n                              {categoryProducts.length} {categoryProducts.length === 1 ? 'produkt' : 'produktów'}\n                            </span>\n                            <div className=\"bg-primary/10 rounded-full px-3 py-1 text-xs font-bold text-gray-700 group-hover:bg-primary group-hover:text-black transition-all duration-300\">\n                              BHP\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </Link>\n                  );\n                })}\n              </div>\n            </>\n          )}\n        </div>\n      </section>\n\n      </div>\n  );\n}\n","size_bytes":8600},"public/src/components/ui/skeleton.tsx":{"content":"import { cn } from \"../../lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","size_bytes":265},"public/src/components/MapComponent.tsx":{"content":"export function MapComponent() {\n  return (\n    <div className=\"w-full relative\" data-testid=\"map-container\">\n      <div className=\"relative rounded-2xl overflow-hidden\">\n        <div className=\"absolute inset-0 -z-10 rounded-2xl p-[3px] bg-gradient-to-r from-black via-primary to-black animate-[gradient_3s_ease_infinite] bg-[length:200%_100%]\" \n             style={{\n               backgroundImage: 'linear-gradient(90deg, #000000 0%, #FCD34D 25%, #000000 50%, #FCD34D 75%, #000000 100%)',\n               animation: 'gradient-shift 3s ease infinite'\n             }}\n        />\n        <iframe\n          src=\"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2434.123!2d20.6697!3d52.4328!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x471ecb5e8e5e8e5e%3A0x5e5e5e5e5e5e5e5e!2sBohater%C3%B3w%20Modlina%2017%2C%2005-100%20Nowy%20Dw%C3%B3r%20Mazowiecki!5e0!3m2!1spl!2spl!4v1234567890\"\n          width=\"100%\"\n          height=\"500\"\n          style={{ border: 0 }}\n          allowFullScreen\n          loading=\"lazy\"\n          referrerPolicy=\"no-referrer-when-downgrade\"\n          title=\"Mapa sklepu - BHP Perfect\"\n          className=\"rounded-2xl relative z-10\"\n        />\n      </div>\n      <style>{`\n        @keyframes gradient-shift {\n          0% {\n            background-position: 0% 50%;\n          }\n          50% {\n            background-position: 100% 50%;\n          }\n          100% {\n            background-position: 0% 50%;\n          }\n        }\n      `}</style>\n    </div>\n  );\n}","size_bytes":1495},"public/src/components/ui/command.tsx":{"content":"import * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"../../lib/utils\"\nimport { Dialog, DialogContent } from \"./dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0 shadow-lg\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","size_bytes":4875},"public/src/main.tsx":{"content":"import { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\n\ncreateRoot(document.getElementById(\"root\")!).render(<App />);\n","size_bytes":157},"public/src/pages/Gallery.tsx":{"content":"import { useQuery } from \"@tanstack/react-query\";\nimport type { Gallery as GalleryType } from \"../../../shared/schema\";\n\nexport default function Gallery() {\n  const { data: gallery = [], isLoading } = useQuery<GalleryType[]>({\n    queryKey: [\"/api/gallery\"],\n  });\n\n  return (\n    <div className=\"min-h-screen bg-background py-16\">\n      <div className=\"container mx-auto px-4 max-w-7xl\">\n        <div className=\"text-center mb-12\">\n          <h1 className=\"text-4xl md:text-5xl font-bold mb-4\" data-testid=\"text-gallery-title\">\n            Galeria <span className=\"text-primary\">Zdjęć</span>\n          </h1>\n          <p className=\"text-muted-foreground max-w-2xl mx-auto\">\n            Zobacz nasze produkty i naszą firmę w akcji\n          </p>\n        </div>\n\n        {isLoading ? (\n          <div className=\"text-center py-12\">\n            <p className=\"text-muted-foreground\">Ładowanie galerii...</p>\n          </div>\n        ) : gallery.length === 0 ? (\n          <div className=\"text-center py-12\">\n            <p className=\"text-muted-foreground\">Brak zdjęć w galerii</p>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n            {gallery.map((img, index) => (\n              <div\n                key={img.id}\n                className=\"group relative overflow-hidden rounded-md hover-elevate active-elevate-2 cursor-pointer\"\n                data-testid={`img-gallery-item-${index}`}\n              >\n                <img\n                  src={img.path}\n                  alt={img.filename}\n                  className=\"w-full h-64 object-cover transition-transform duration-300 group-hover:scale-110\"\n                />\n                <div className=\"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center\">\n                  <p className=\"text-white text-sm px-4 text-center break-words\">\n                    {img.filename}\n                  </p>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","size_bytes":2136},"public/src/components/ui/card.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n));\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n));\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n));\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardDescription,\n  CardContent,\n}\n","size_bytes":1908},"public/src/components/ui/dialog.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","size_bytes":3852},"public/src/components/ui/input-otp.tsx":{"content":"import * as React from \"react\"\nimport { OTPInput, OTPInputContext } from \"input-otp\"\nimport { Dot } from \"lucide-react\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst InputOTP = React.forwardRef<\n  React.ElementRef<typeof OTPInput>,\n  React.ComponentPropsWithoutRef<typeof OTPInput>\n>(({ className, containerClassName, ...props }, ref) => (\n  <OTPInput\n    ref={ref}\n    containerClassName={cn(\n      \"flex items-center gap-2 has-[:disabled]:opacity-50\",\n      containerClassName\n    )}\n    className={cn(\"disabled:cursor-not-allowed\", className)}\n    {...props}\n  />\n))\nInputOTP.displayName = \"InputOTP\"\n\nconst InputOTPGroup = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"flex items-center\", className)} {...props} />\n))\nInputOTPGroup.displayName = \"InputOTPGroup\"\n\nconst InputOTPSlot = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\"> & { index: number }\n>(({ index, className, ...props }, ref) => {\n  const inputOTPContext = React.useContext(OTPInputContext)\n  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md\",\n        isActive && \"z-10 ring-2 ring-ring ring-offset-background\",\n        className\n      )}\n      {...props}\n    >\n      {char}\n      {hasFakeCaret && (\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"h-4 w-px animate-caret-blink bg-foreground duration-1000\" />\n        </div>\n      )}\n    </div>\n  )\n})\nInputOTPSlot.displayName = \"InputOTPSlot\"\n\nconst InputOTPSeparator = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ ...props }, ref) => (\n  <div ref={ref} role=\"separator\" {...props}>\n    <Dot />\n  </div>\n))\nInputOTPSeparator.displayName = \"InputOTPSeparator\"\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }\n","size_bytes":2158},"public/src/components/ui/alert.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","size_bytes":1588},"vite.config.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport path from \"path\";\nimport { fileURLToPath } from \"url\";\n\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = path.dirname(__filename);\n\nexport default defineConfig({\n  root: path.resolve(__dirname, \"public\"), // 👈 теперь указываем на public\n  plugins: [react()],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(__dirname, \"public/src\"),\n      \"@shared\": path.resolve(__dirname, \"shared\"),\n      \"@assets\": path.resolve(__dirname, \"attached_assets\"),\n    },\n  },\n  build: {\n    outDir: path.resolve(__dirname, \"dist/public\"), // 👈 билд в dist/public\n    emptyOutDir: true,\n  },\n  server: {\n    port: 5173,\n  },\n});\n","size_bytes":746},"public/src/pages/About.tsx":{"content":"\nimport { Card } from \"../components/ui/card\";\nimport { Shield, Award, Users, Truck, Target, Heart } from \"lucide-react\";\nimport storePhoto from \"../assets/store-photo.jpg\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport type { Gallery } from \"../../../shared/schema\";\nimport { useState } from \"react\";\nimport { Dialog, DialogContent } from \"../components/ui/dialog\";\nimport { ChevronLeft, ChevronRight, X } from \"lucide-react\";\nimport { MapComponent } from \"../components/MapComponent\";\n\nexport default function About() {\n  const { data: gallery = [], isLoading: galleryLoading } = useQuery<Gallery[]>({\n    queryKey: [\"/api/gallery\"],\n  });\n\n  const [currentImageIndex, setCurrentImageIndex] = useState(0);\n  const [selectedImage, setSelectedImage] = useState<Gallery | null>(null);\n\n  const nextImage = () => {\n    setCurrentImageIndex((prev) => (prev + 1) % Math.max(1, gallery.length));\n  };\n\n  const prevImage = () => {\n    setCurrentImageIndex((prev) => (prev - 1 + gallery.length) % Math.max(1, gallery.length));\n  };\n\n  const features = [\n    {\n      icon: Shield,\n      title: \"Bezpieczeństwo\",\n      description: \"Wszystkie produkty spełniają najwyższe normy bezpieczeństwa UE\",\n    },\n    {\n      icon: Award,\n      title: \"Jakość\",\n      description: \"Współpracujemy tylko ze sprawdzonymi producentami\",\n    },\n    {\n      icon: Users,\n      title: \"Doświadczenie\",\n      description: \"Ponad 15 lat doświadczenia w branży BHP\",\n    },\n    {\n      icon: Truck,\n      title: \"Szybka dostawa\",\n      description: \"Wysyłka w 24h do całej Polski\",\n    },\n  ];\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Mission Section - Simplified */}\n      <section className=\"py-12 md:py-16 bg-white\">\n        <div className=\"max-w-7xl mx-auto px-4\">\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8 items-center\">\n            <div className=\"order-2 lg:order-1\">\n              <div className=\"flex items-center gap-3 mb-6\">\n                <div className=\"bg-primary rounded-full p-2\">\n                  <Target className=\"h-6 w-6 text-black\" />\n                </div>\n                <h2 className=\"text-3xl font-bold\">Nasza misja</h2>\n              </div>\n              <p className=\"text-lg text-gray-700 mb-4 leading-relaxed\">\n                BHP Perfect to więcej niż sklep - jesteśmy partnerem w zapewnieniu bezpieczeństwa\n                Twoich pracowników. Od ponad 15 lat dostarczamy najwyższej jakości odzież roboczą,\n                obuwie BHP i środki ochrony osobistej.\n              </p>\n              <p className=\"text-lg text-gray-700 leading-relaxed\">\n                Współpracujemy tylko ze sprawdzonymi producentami, którzy spełniają wszystkie\n                normy bezpieczeństwa Unii Europejskiej. Każdy produkt w naszej ofercie jest\n                starannie wyselekcjonowany i przetestowany.\n              </p>\n            </div>\n            <div className=\"order-1 lg:order-2 rounded-2xl overflow-hidden shadow-2xl border-4 border-primary/20\">\n              <img\n                src={storePhoto}\n                alt=\"Sklep BHP Perfect\"\n                className=\"w-full h-80 md:h-96 object-cover\"\n              />\n            </div>\n          </div>\n        </div>\n      </section>\n\n      {/* Features Grid */}\n      <section className=\"py-12 md:py-16 bg-gray-50\">\n        <div className=\"max-w-7xl mx-auto px-4\">\n          <div className=\"text-center mb-10\">\n            <h2 className=\"text-3xl md:text-4xl font-bold mb-3\">\n              Dlaczego <span className=\"text-primary\">my?</span>\n            </h2>\n            <p className=\"text-gray-600 max-w-2xl mx-auto\">\n              Przekonaj się, co wyróżnia nas na rynku\n            </p>\n          </div>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n            {features.map((feature, index) => (\n              <Card key={index} className=\"p-6 text-center hover-elevate bg-white\">\n                <div className=\"bg-primary rounded-full p-4 inline-flex mb-4\">\n                  <feature.icon className=\"h-8 w-8 text-black\" />\n                </div>\n                <h3 className=\"font-semibold text-xl mb-2\">{feature.title}</h3>\n                <p className=\"text-muted-foreground\">{feature.description}</p>\n              </Card>\n            ))}\n          </div>\n        </div>\n      </section>\n\n      {/* Gallery Section */}\n      <section className=\"py-12 md:py-16 bg-white\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"text-center mb-10\">\n            <div className=\"flex items-center justify-center gap-3 mb-3\">\n              <div className=\"bg-primary rounded-full p-2\">\n                <Heart className=\"h-6 w-6 text-black\" />\n              </div>\n              <h2 className=\"text-3xl md:text-4xl font-bold\">\n                Nasza <span className=\"text-primary\">Galeria</span>\n              </h2>\n            </div>\n            <p className=\"text-gray-600 max-w-2xl mx-auto\">\n              Zobacz naszą firmę i produkty w akcji\n            </p>\n          </div>\n\n          {galleryLoading ? (\n            <div className=\"text-center py-12\">\n              <p className=\"text-muted-foreground\">Ładowanie galerii...</p>\n            </div>\n          ) : gallery.length === 0 ? (\n            <div className=\"text-center py-16 bg-gray-50 rounded-2xl border-2 border-dashed border-gray-300\">\n              <Shield className=\"mx-auto h-16 w-16 text-gray-400 mb-4\" />\n              <p className=\"text-gray-500 text-lg mb-2\">Brak zdjęć w galerii</p>\n            </div>\n          ) : (\n            <div className=\"relative px-8 sm:px-12 md:px-16\">\n              <div className=\"overflow-hidden rounded-2xl shadow-2xl bg-gray-50\">\n                <div\n                  className=\"flex transition-transform duration-500 ease-out\"\n                  style={{ transform: `translateX(-${currentImageIndex * 100}%)` }}\n                >\n                  {gallery.map((img, index) => (\n                    <div key={img.id} className=\"min-w-full\">\n                      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 p-4 sm:p-6\">\n                        {gallery.slice(\n                          Math.floor(index / 4) * 4,\n                          Math.floor(index / 4) * 4 + 4\n                        ).map((galleryImg) => (\n                          <div\n                            key={galleryImg.id}\n                            className=\"group relative aspect-square overflow-hidden rounded-xl cursor-pointer transform transition-all duration-300 hover:scale-110 hover:shadow-2xl hover:z-10 bg-white\"\n                            onClick={() => setSelectedImage(galleryImg)}\n                          >\n                            <img\n                              src={galleryImg.path}\n                              alt={galleryImg.filename}\n                              className=\"w-full h-full object-cover transition-transform duration-500 group-hover:scale-125\"\n                            />\n                            <div className=\"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300\" />\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              {gallery.length > 4 && (\n                <>\n                  <button\n                    onClick={prevImage}\n                    className=\"absolute left-0 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white rounded-full p-2 sm:p-3 shadow-xl transition-all hover:scale-110 active:scale-95 z-10\"\n                    aria-label=\"Previous\"\n                  >\n                    <ChevronLeft className=\"h-5 w-5 sm:h-6 sm:w-6\" />\n                  </button>\n                  <button\n                    onClick={nextImage}\n                    className=\"absolute right-0 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white rounded-full p-2 sm:p-3 shadow-xl transition-all hover:scale-110 active:scale-95 z-10\"\n                    aria-label=\"Next\"\n                  >\n                    <ChevronRight className=\"h-5 w-5 sm:h-6 sm:w-6\" />\n                  </button>\n                </>\n              )}\n\n              {gallery.length > 4 && (\n                <div className=\"flex justify-center gap-2 mt-6 sm:mt-8\">\n                  {Array.from({ length: Math.ceil(gallery.length / 4) }).map((_, idx) => (\n                    <button\n                      key={idx}\n                      onClick={() => setCurrentImageIndex(idx * 4)}\n                      className={`h-2 rounded-full transition-all duration-300 ${\n                        Math.floor(currentImageIndex / 4) === idx\n                          ? 'bg-primary w-8'\n                          : 'bg-gray-300 w-2 hover:bg-gray-400'\n                      }`}\n                      aria-label={`Go to slide ${idx + 1}`}\n                    />\n                  ))}\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      </section>\n\n      {/* Image Lightbox Modal */}\n      <Dialog open={!!selectedImage} onOpenChange={() => setSelectedImage(null)}>\n        <DialogContent className=\"max-w-4xl w-full p-0 bg-transparent border-0\">\n          <button\n            onClick={() => setSelectedImage(null)}\n            className=\"absolute top-4 right-4 text-white hover:text-gray-300 z-50 bg-black/50 rounded-full p-2 hover:bg-black/70 transition-colors\"\n          >\n            <X className=\"h-6 w-6 sm:h-8 sm:w-8\" />\n          </button>\n          {selectedImage && (\n            <div className=\"relative\">\n              <img\n                src={selectedImage.path}\n                alt={selectedImage.filename}\n                className=\"w-full h-auto max-h-[90vh] object-contain rounded-lg\"\n              />\n            </div>\n          )}\n        </DialogContent>\n      </Dialog>\n\n      {/* Location Section with Map */}\n      <section className=\"py-12 md:py-16 bg-gray-50\">\n        <div className=\"max-w-7xl mx-auto px-4\">\n          <div className=\"text-center mb-10\">\n            <h2 className=\"text-3xl md:text-4xl font-bold mb-3\">\n              Nasza <span className=\"text-primary\">lokalizacja</span>\n            </h2>\n            <p className=\"text-gray-600 max-w-2xl mx-auto mb-2\">\n              Odwiedź nas w Nowym Dworze Mazowieckim\n            </p>\n            <p className=\"text-lg font-semibold text-gray-900\">\n              Bohaterów Modlina 17, 05-100 Nowy Dwór Mazowiecki\n            </p>\n          </div>\n          <div className=\"rounded-2xl overflow-hidden shadow-2xl\">\n            <MapComponent />\n          </div>\n        </div>\n      </section>\n    </div>\n  );\n}\n","size_bytes":10868},"scripts/replace-aliases.js":{"content":"#!/usr/bin/env node\nconst fs = require(\"fs\");\nconst path = require(\"path\");\nconst glob = require(\"glob\");\n\nconst root = path.resolve(__dirname, \"..\");\nconst publicSrc = path.join(root, \"public\", \"src\");\nconst shared = path.join(root, \"shared\");\n\nfunction replaceInFile(file) {\n  let code = fs.readFileSync(file, \"utf8\");\n  const dir = path.dirname(file);\n  let changed = false;\n\n  // @/ -> public/src\n  code = code.replace(/from\\s+([\"'])@\\/(.*?)\\1/g, (m, q, p) => {\n    const target = path.join(publicSrc, p);\n    let rel = path.relative(dir, target);\n    if (!rel.startsWith(\".\")) rel = \"./\" + rel;\n    rel = rel.replace(/\\\\/g, \"/\");\n    changed = true;\n    return `from ${q}${rel}${q}`;\n  });\n\n  // @shared/ -> shared\n  code = code.replace(/from\\s+([\"'])@shared\\/(.*?)\\1/g, (m, q, p) => {\n    const target = path.join(shared, p);\n    let rel = path.relative(dir, target);\n    if (!rel.startsWith(\".\")) rel = \"./\" + rel;\n    rel = rel.replace(/\\\\/g, \"/\");\n    changed = true;\n    return `from ${q}${rel}${q}`;\n  });\n\n  if (changed) {\n    fs.writeFileSync(file, code, \"utf8\");\n    console.log(\"Updated\", path.relative(root, file));\n  }\n}\n\nfunction run() {\n  const patterns = [\n    \"public/src/**/*.{ts,tsx,js,jsx}\",\n    \"server/**/*.ts\",\n    \"shared/**/*.ts\",\n  ];\n  patterns.forEach((p) => {\n    const files = glob.sync(p, { cwd: root, absolute: true, nodir: true });\n    files.forEach(replaceInFile);\n  });\n}\n\nrun();\nconsole.log(\"Done\");\n","size_bytes":1440},"public/src/components/ui/drawer.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n)\nDrawer.displayName = \"Drawer\"\n\nconst DrawerTrigger = DrawerPrimitive.Trigger\n\nconst DrawerPortal = DrawerPrimitive.Portal\n\nconst DrawerClose = DrawerPrimitive.Close\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n))\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n))\nDrawerContent.displayName = \"DrawerContent\"\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n)\nDrawerHeader.displayName = \"DrawerHeader\"\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n)\nDrawerFooter.displayName = \"DrawerFooter\"\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n","size_bytes":3025},"public/src/pages/Cart.tsx":{"content":"import { Link } from \"wouter\";\nimport { Button } from \"../components/ui/button\";\nimport { Card } from \"../components/ui/card\";\nimport { Input } from \"../components/ui/input\";\nimport { ShoppingBag, Trash2, Plus, Minus, ArrowRight } from \"lucide-react\";\nimport type { CartItem } from \"../../../shared/schema\";\n\nexport default function Cart({\n  cartItems,\n  onUpdateQuantity,\n  onRemoveItem,\n}: {\n  cartItems: CartItem[];\n  onUpdateQuantity: (productId: string, quantity: number) => void;\n  onRemoveItem: (productId: string) => void;\n}) {\n  const subtotal = cartItems.reduce(\n    (sum, item) => sum + parseFloat(item.price) * item.quantity,\n    0\n  );\n  const shipping = subtotal > 300 ? 0 : 19.99;\n  const total = subtotal + shipping;\n\n  if (cartItems.length === 0) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex flex-col items-center justify-center py-16\">\n        <ShoppingBag className=\"h-24 w-24 text-muted-foreground mb-6\" />\n        <h1 className=\"text-4xl font-bold mb-4\" data-testid=\"text-empty-cart\">\n          Twój koszyk jest pusty\n        </h1>\n        <p className=\"text-muted-foreground text-lg mb-8\">\n          Dodaj produkty do koszyka, aby kontynuować zakupy\n        </p>\n        <Link href=\"/sklep\" data-testid=\"button-continue-shopping\">\n          <Button size=\"lg\" className=\"bg-primary text-primary-foreground\">\n            Kontynuuj zakupy\n          </Button>\n        </Link>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"max-w-7xl mx-auto px-4 py-8\">\n        <h1 className=\"text-4xl md:text-5xl font-bold mb-8\">Koszyk</h1>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n          {/* Cart Items */}\n          <div className=\"lg:col-span-2 space-y-4\">\n            {cartItems.map((item) => (\n              <Card\n                key={item.productId}\n                className=\"p-4 hover-elevate\"\n                data-testid={`cart-item-${item.productId}`}\n              >\n                <div className=\"flex gap-4\">\n                  <img\n                    src={item.image}\n                    alt={item.name}\n                    className=\"w-24 h-24 object-cover rounded-md bg-gray-100\"\n                    data-testid={`img-cart-${item.productId}`}\n                  />\n                  \n                  <div className=\"flex-1\">\n                    <h3 className=\"font-semibold text-lg mb-1\" data-testid={`text-cart-name-${item.productId}`}>\n                      {item.name}\n                    </h3>\n                    <p className=\"text-primary font-bold text-xl mb-3\" data-testid={`text-cart-price-${item.productId}`}>\n                      {parseFloat(item.price).toFixed(2)} zł\n                    </p>\n\n                    <div className=\"flex items-center gap-4\">\n                      <div className=\"flex items-center gap-2\">\n                        <Button\n                          variant=\"outline\"\n                          size=\"icon\"\n                          className=\"h-8 w-8\"\n                          onClick={() =>\n                            onUpdateQuantity(item.productId, item.quantity - 1)\n                          }\n                          disabled={item.quantity <= 1}\n                          data-testid={`button-decrease-${item.productId}`}\n                        >\n                          <Minus className=\"h-4 w-4\" />\n                        </Button>\n                        <Input\n                          type=\"number\"\n                          min=\"1\"\n                          value={item.quantity}\n                          onChange={(e) =>\n                            onUpdateQuantity(\n                              item.productId,\n                              Math.max(1, parseInt(e.target.value) || 1)\n                            )\n                          }\n                          className=\"w-16 text-center h-8\"\n                          data-testid={`input-quantity-${item.productId}`}\n                        />\n                        <Button\n                          variant=\"outline\"\n                          size=\"icon\"\n                          className=\"h-8 w-8\"\n                          onClick={() =>\n                            onUpdateQuantity(item.productId, item.quantity + 1)\n                          }\n                          data-testid={`button-increase-${item.productId}`}\n                        >\n                          <Plus className=\"h-4 w-4\" />\n                        </Button>\n                      </div>\n\n                      <Button\n                        variant=\"ghost\"\n                        size=\"sm\"\n                        className=\"text-destructive hover:text-destructive\"\n                        onClick={() => onRemoveItem(item.productId)}\n                        data-testid={`button-remove-${item.productId}`}\n                      >\n                        <Trash2 className=\"h-4 w-4 mr-2\" />\n                        Usuń\n                      </Button>\n                    </div>\n                  </div>\n\n                  <div className=\"text-right\">\n                    <p className=\"font-bold text-xl\" data-testid={`text-subtotal-${item.productId}`}>\n                      {(parseFloat(item.price) * item.quantity).toFixed(2)} zł\n                    </p>\n                  </div>\n                </div>\n              </Card>\n            ))}\n          </div>\n\n          {/* Order Summary */}\n          <div className=\"lg:col-span-1\">\n            <Card className=\"p-6 sticky top-20\">\n              <h2 className=\"text-2xl font-bold mb-6\">Podsumowanie</h2>\n              \n              <div className=\"space-y-3 mb-6\">\n                <div className=\"flex justify-between\">\n                  <span className=\"text-muted-foreground\">Suma częściowa</span>\n                  <span className=\"font-semibold\" data-testid=\"text-subtotal\">\n                    {subtotal.toFixed(2)} zł\n                  </span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-muted-foreground\">Dostawa</span>\n                  <span className=\"font-semibold\" data-testid=\"text-shipping\">\n                    {shipping === 0 ? \"Gratis\" : `${shipping.toFixed(2)} zł`}\n                  </span>\n                </div>\n                {subtotal < 300 && (\n                  <p className=\"text-sm text-muted-foreground\">\n                    Dodaj produkty za {(300 - subtotal).toFixed(2)} zł, aby otrzymać darmową dostawę\n                  </p>\n                )}\n                <div className=\"border-t pt-3\">\n                  <div className=\"flex justify-between text-xl font-bold\">\n                    <span>Razem</span>\n                    <span data-testid=\"text-total\">{total.toFixed(2)} zł</span>\n                  </div>\n                </div>\n              </div>\n\n              <Link href=\"/zamowienie\" className=\"block mb-4\" data-testid=\"link-checkout\">\n                <Button size=\"lg\" className=\"w-full bg-primary text-primary-foreground hover:bg-primary/90 font-semibold\">\n                  Przejdź do kasy <ArrowRight className=\"ml-2 h-5 w-5\" />\n                </Button>\n              </Link>\n\n              <Link href=\"/sklep\" className=\"block\" data-testid=\"link-continue-shopping\">\n                <Button variant=\"outline\" size=\"lg\" className=\"w-full\">\n                  Kontynuuj zakupy\n                </Button>\n              </Link>\n            </Card>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":7536},"public/src/components/ui/progress.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","size_bytes":795},"public/src/components/ui/chart.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"../../lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig\n    children: React.ComponentProps<\n      typeof RechartsPrimitive.ResponsiveContainer\n    >[\"children\"]\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n})\nChartContainer.displayName = \"Chart\"\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, config]) => config.theme || config.color\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join(\"\\n\")}\n}\n`\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean\n      hideIndicator?: boolean\n      indicator?: \"line\" | \"dot\" | \"dashed\"\n      nameKey?: string\n      labelKey?: string\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null\n      }\n\n      const [item] = payload\n      const key = `${labelKey || item?.dataKey || item?.name || \"value\"}`\n      const itemConfig = getPayloadConfigFromPayload(config, item, key)\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label\n\n      if (labelFormatter) {\n        return (\n          <div className={cn(\"font-medium\", labelClassName)}>\n            {labelFormatter(value, payload)}\n          </div>\n        )\n      }\n\n      if (!value) {\n        return null\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\n    }, [\n      label,\n      labelFormatter,\n      payload,\n      hideLabel,\n      labelClassName,\n      config,\n      labelKey,\n    ])\n\n    if (!active || !payload?.length) {\n      return null\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n          className\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload.map((item, index) => {\n            const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n            const itemConfig = getPayloadConfigFromPayload(config, item, key)\n            const indicatorColor = color || item.payload.fill || item.color\n\n            return (\n              <div\n                key={item.dataKey}\n                className={cn(\n                  \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                  indicator === \"dot\" && \"items-center\"\n                )}\n              >\n                {formatter && item?.value !== undefined && item.name ? (\n                  formatter(item.value, item.name, item, index, item.payload)\n                ) : (\n                  <>\n                    {itemConfig?.icon ? (\n                      <itemConfig.icon />\n                    ) : (\n                      !hideIndicator && (\n                        <div\n                          className={cn(\n                            \"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\",\n                            {\n                              \"h-2.5 w-2.5\": indicator === \"dot\",\n                              \"w-1\": indicator === \"line\",\n                              \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                                indicator === \"dashed\",\n                              \"my-0.5\": nestLabel && indicator === \"dashed\",\n                            }\n                          )}\n                          style={\n                            {\n                              \"--color-bg\": indicatorColor,\n                              \"--color-border\": indicatorColor,\n                            } as React.CSSProperties\n                          }\n                        />\n                      )\n                    )}\n                    <div\n                      className={cn(\n                        \"flex flex-1 justify-between leading-none\",\n                        nestLabel ? \"items-end\" : \"items-center\"\n                      )}\n                    >\n                      <div className=\"grid gap-1.5\">\n                        {nestLabel ? tooltipLabel : null}\n                        <span className=\"text-muted-foreground\">\n                          {itemConfig?.label || item.name}\n                        </span>\n                      </div>\n                      {item.value && (\n                        <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                          {item.value.toLocaleString()}\n                        </span>\n                      )}\n                    </div>\n                  </>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n)\nChartTooltipContent.displayName = \"ChartTooltip\"\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean\n      nameKey?: string\n    }\n>(\n  (\n    { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    if (!payload?.length) {\n      return null\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center justify-center gap-4\",\n          verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n          className\n        )}\n      >\n        {payload.map((item) => {\n          const key = `${nameKey || item.dataKey || \"value\"}`\n          const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n          return (\n            <div\n              key={item.value}\n              className={cn(\n                \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n              )}\n            >\n              {itemConfig?.icon && !hideIcon ? (\n                <itemConfig.icon />\n              ) : (\n                <div\n                  className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                  style={{\n                    backgroundColor: item.color,\n                  }}\n                />\n              )}\n              {itemConfig?.label}\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n)\nChartLegendContent.displayName = \"ChartLegend\"\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === \"string\"\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n","size_bytes":10485},"server/routes.ts":{"content":"import type { Express, Request, Response, NextFunction } from \"express\";\nimport { createServer, type Server } from \"http\";\nimport { storage } from \"./storage\";\nimport {\n  insertProductSchema,\n  insertOrderSchema,\n  insertGallerySchema,\n  insertProductSizeSchema,\n} from \"../shared/schema\";\nimport multer from \"multer\";\nimport path from \"path\";\nimport fs from \"fs\";\nimport { nanoid } from \"nanoid\";\nimport { fileTypeFromBuffer } from \"file-type\";\n\n// Configure multer for file uploads\nconst uploadDir = path.join(process.cwd(), \"public\", \"uploads\");\nfs.mkdirSync(uploadDir, { recursive: true });\n\nconst storage_multer = multer.diskStorage({\n  destination: (req, file, cb) => {\n    cb(null, uploadDir);\n  },\n  filename: (req, file, cb) => {\n    const ext = path.extname(file.originalname);\n    const filename = `${Date.now()}-${nanoid(6)}${ext}`;\n    cb(null, filename);\n  },\n});\n\nconst upload = multer({ \n  storage: storage_multer,\n  limits: { fileSize: 5 * 1024 * 1024 }, // 5MB limit\n  fileFilter: (req, file, cb) => {\n    const allowedTypes = /jpeg|jpg|png|gif|webp/;\n    const extname = allowedTypes.test(path.extname(file.originalname).toLowerCase());\n    const mimetype = allowedTypes.test(file.mimetype);\n    \n    if (extname && mimetype) {\n      cb(null, true);\n    } else {\n      cb(new Error(\"Only image files are allowed\"));\n    }\n  },\n});\n\n// Helper function to delete a file from the filesystem\nconst deleteFile = (filePath: string): void => {\n  try {\n    const fullPath = path.join(uploadDir, path.basename(filePath));\n    if (fs.existsSync(fullPath)) {\n      fs.unlinkSync(fullPath);\n      console.log(`Deleted file: ${fullPath}`);\n    }\n  } catch (error) {\n    console.error(`Failed to delete file ${filePath}:`, error);\n  }\n};\n\n// Helper function to validate image file type using file-type library\nconst validateImageFile = async (buffer: Buffer): Promise<boolean> => {\n  try {\n    const fileType = await fileTypeFromBuffer(buffer);\n    if (!fileType) return false;\n    const allowedMimeTypes = ['image/jpeg', 'image/png', 'image/gif', 'image/webp'];\n    return allowedMimeTypes.includes(fileType.mime);\n  } catch {\n    return false;\n  }\n};\n\nexport async function registerRoutes(app: Express): Promise<Server> {\n  // Product routes\n  app.get(\"/api/products\", async (req, res) => {\n    try {\n      const products = await storage.getAllProducts();\n      res.json(products);\n    } catch {\n      res.status(500).json({ error: \"Failed to fetch products\" });\n    }\n  });\n\n  app.get(\"/api/products/search\", async (req, res) => {\n    try {\n      const query = req.query.q as string;\n      if (!query || query.trim() === '') {\n        return res.json([]);\n      }\n\n      const allProducts = await storage.getAllProducts();\n      const searchTerm = query.toLowerCase().trim();\n      \n      const filtered = allProducts.filter(product => \n        product.name.toLowerCase().includes(searchTerm) ||\n        product.description.toLowerCase().includes(searchTerm) ||\n        product.category.toLowerCase().includes(searchTerm)\n      );\n\n      res.json(filtered.slice(0, 8));\n    } catch {\n      res.status(500).json({ error: \"Failed to search products\" });\n    }\n  });\n\n  app.get(\"/api/products/:id\", async (req, res) => {\n    try {\n      const productWithSizes = await storage.getProductWithSizes(req.params.id);\n      if (!productWithSizes) {\n        return res.status(404).json({ error: \"Product not found\" });\n      }\n      res.json(productWithSizes);\n    } catch {\n      res.status(500).json({ error: \"Failed to fetch product\" });\n    }\n  });\n\n  app.post(\"/api/products\", upload.array(\"images\", 5), async (req, res) => {\n    try {\n      console.log(\"=== CREATE PRODUCT REQUEST ===\");\n      console.log(\"Request body:\", JSON.stringify(req.body, null, 2));\n      console.log(\"Files:\", req.files);\n      \n      const files = req.files as Express.Multer.File[];\n      const images = files ? files.map(f => `/uploads/${f.filename}`) : [];\n      \n      // If main image is empty but files uploaded, use first uploaded file as main image\n      // If no image at all, use a default placeholder\n      let mainImage = req.body.image;\n      if (!mainImage || mainImage.trim() === '') {\n        if (images.length > 0) {\n          mainImage = images[0];\n        } else {\n          mainImage = 'https://via.placeholder.com/400x300?text=No+Image';\n        }\n      }\n      \n      // Coerce form data strings to proper types\n      const productData = {\n        ...req.body,\n        image: mainImage,\n        price: req.body.price || \"0\",\n        stock: Number(req.body.stock) || 0,\n        available: req.body.available === \"true\" || req.body.available === true,\n        shipping: req.body.shipping || \"standard\",\n        images: images.length > 0 ? images : [],\n      };\n      \n      console.log(\"Product data before validation:\", JSON.stringify(productData, null, 2));\n      \n      const validatedData = insertProductSchema.parse(productData);\n      console.log(\"Validation passed! Creating product...\");\n      \n      const product = await storage.createProduct(validatedData);\n      console.log(\"Product created successfully:\", product.id);\n      res.status(201).json(product);\n    } catch (error) {\n      console.error(\"=== CREATE PRODUCT ERROR ===\");\n      console.error(\"Error type:\", error?.constructor?.name);\n      console.error(\"Error message:\", error instanceof Error ? error.message : String(error));\n      if (error && typeof error === 'object' && 'issues' in error) {\n        console.error(\"Zod validation issues:\", JSON.stringify((error as any).issues, null, 2));\n      }\n      console.error(\"Full error:\", error);\n      \n      const errorDetails = error instanceof Error ? error.message : String(error);\n      res.status(400).json({ \n        error: \"Invalid product data\", \n        details: errorDetails,\n        validationIssues: (error && typeof error === 'object' && 'issues' in error) ? (error as any).issues : undefined\n      });\n    }\n  });\n\n  app.put(\"/api/products/:id\", upload.array(\"images\", 5), async (req, res) => {\n    try {\n      const files = req.files as Express.Multer.File[];\n      const newImages = files ? files.map(f => `/uploads/${f.filename}`) : [];\n      \n      const existingProduct = await storage.getProduct(req.params.id);\n      if (!existingProduct) {\n        return res.status(404).json({ error: \"Product not found\" });\n      }\n\n      const images = [...(existingProduct.images || []), ...newImages];\n      \n      // Handle main image: if empty or undefined, use first uploaded file or keep existing\n      let mainImage = req.body.image;\n      if (!mainImage || mainImage.trim() === '') {\n        if (newImages.length > 0) {\n          // Use first uploaded file as main image\n          mainImage = newImages[0];\n        } else if (existingProduct.image) {\n          // Keep existing main image\n          mainImage = existingProduct.image;\n        } else {\n          // No image available at all\n          return res.status(400).json({ \n            error: \"Invalid product data\", \n            details: \"Main image is required. Either provide an image URL or upload at least one image file.\" \n          });\n        }\n      }\n      \n      // Coerce form data strings to proper types\n      const updateData = {\n        ...req.body,\n        image: mainImage,\n        price: req.body.price !== undefined ? req.body.price : undefined,\n        stock: req.body.stock !== undefined ? Number(req.body.stock) : undefined,\n        available: req.body.available !== undefined ? (req.body.available === \"true\" || req.body.available === true) : undefined,\n        shipping: req.body.shipping,\n        images,\n      };\n      \n      const product = await storage.updateProduct(req.params.id, updateData);\n      \n      if (!product) {\n        return res.status(404).json({ error: \"Product not found\" });\n      }\n      res.json(product);\n    } catch (error) {\n      res.status(400).json({ error: \"Invalid product data\", details: error instanceof Error ? error.message : String(error) });\n    }\n  });\n\n  app.delete(\"/api/products/:id\", async (req, res) => {\n    try {\n      const product = await storage.getProduct(req.params.id);\n      if (product) {\n        // Delete main image file if it's a local upload\n        if (product.image && product.image.startsWith('/uploads/')) {\n          deleteFile(product.image);\n        }\n        // Delete all additional images\n        if (product.images && product.images.length > 0) {\n          product.images.forEach(img => {\n            if (img.startsWith('/uploads/')) {\n              deleteFile(img);\n            }\n          });\n        }\n      }\n      await storage.deleteProduct(req.params.id);\n      res.json({ success: true });\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to delete product\" });\n    }\n  });\n\n  // Size routes\n  app.get(\"/api/sizes\", async (req, res) => {\n    try {\n      const sizes = await storage.getAllSizes();\n      res.json(sizes);\n    } catch {\n      res.status(500).json({ error: \"Failed to fetch sizes\" });\n    }\n  });\n\n  // Product size routes\n  app.post(\"/api/products/:id/sizes\", async (req, res) => {\n    try {\n      // Validate request body with Zod\n      const validatedData = insertProductSizeSchema.parse({\n        productId: req.params.id,\n        sizeId: req.body.sizeId,\n        stock: Number(req.body.stock),\n      });\n\n      const productSize = await storage.addProductSize(\n        validatedData.productId,\n        validatedData.sizeId,\n        validatedData.stock\n      );\n      res.json(productSize);\n    } catch (error) {\n      if (error instanceof Error && error.name === \"ZodError\") {\n        return res.status(400).json({ error: \"Validation error\", details: error.message });\n      }\n      res.status(400).json({ error: \"Failed to add size to product\", details: error instanceof Error ? error.message : String(error) });\n    }\n  });\n\n  app.patch(\"/api/products/:id/sizes/:sizeId\", async (req, res) => {\n    try {\n      // Validate stock with Zod\n      const stock = insertProductSizeSchema.shape.stock.parse(Number(req.body.stock));\n\n      const productSize = await storage.updateProductSizeStock(req.params.id, req.params.sizeId, stock);\n      if (!productSize) {\n        return res.status(404).json({ error: \"Product size not found\" });\n      }\n      \n      res.json(productSize);\n    } catch (error) {\n      if (error instanceof Error && error.name === \"ZodError\") {\n        return res.status(400).json({ error: \"Validation error\", details: error.message });\n      }\n      res.status(400).json({ error: \"Failed to update product size\", details: error instanceof Error ? error.message : String(error) });\n    }\n  });\n\n  app.delete(\"/api/products/:id/sizes/:sizeId\", async (req, res) => {\n    try {\n      await storage.deleteProductSize(req.params.id, req.params.sizeId);\n      res.json({ success: true });\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to delete product size\" });\n    }\n  });\n\n  // Protected photo upload route for products\n  app.post(\"/api/products/:id/photo\", upload.single(\"photo\"), async (req, res) => {\n    try {\n      const file = req.file;\n      if (!file) {\n        return res.status(400).json({ error: \"No file uploaded\" });\n      }\n\n      // Additional MIME type validation using file-type\n      const fileBuffer = fs.readFileSync(file.path);\n      const isValidImage = await validateImageFile(fileBuffer);\n      if (!isValidImage) {\n        // Delete the uploaded file\n        fs.unlinkSync(file.path);\n        return res.status(400).json({ error: \"Invalid image file type\" });\n      }\n\n      const product = await storage.getProduct(req.params.id);\n      if (!product) {\n        // Delete uploaded file\n        fs.unlinkSync(file.path);\n        return res.status(404).json({ error: \"Product not found\" });\n      }\n\n      const newPhotoPath = `/uploads/${file.filename}`;\n      const isMainPhoto = req.query.main === \"true\";\n\n      if (isMainPhoto) {\n        // Replace main image\n        const oldMainImage = product.image;\n        \n        // Delete old main image file if it was a local upload\n        if (oldMainImage && oldMainImage.startsWith('/uploads/')) {\n          deleteFile(oldMainImage);\n        }\n\n        // Update product with new main image\n        await storage.updateProduct(req.params.id, { image: newPhotoPath });\n        \n        res.json({ \n          success: true, \n          photoUrl: newPhotoPath,\n          type: 'main'\n        });\n      } else {\n        // Add to images array\n        const updatedImages = [...(product.images || []), newPhotoPath];\n        await storage.updateProduct(req.params.id, { images: updatedImages });\n        \n        res.json({ \n          success: true, \n          photoUrl: newPhotoPath,\n          type: 'additional',\n          imageIndex: updatedImages.length - 1\n        });\n      }\n    } catch (error) {\n      console.error(\"Photo upload error:\", error);\n      res.status(500).json({ error: \"Failed to upload photo\" });\n    }\n  });\n\n  // Delete specific photo from product\n  app.delete(\"/api/products/:productId/photos/:photoIndex\", async (req, res) => {\n    try {\n      const { productId, photoIndex } = req.params;\n      const index = parseInt(photoIndex);\n\n      const product = await storage.getProduct(productId);\n      if (!product) {\n        return res.status(404).json({ error: \"Product not found\" });\n      }\n\n      if (!product.images || index < 0 || index >= product.images.length) {\n        return res.status(400).json({ error: \"Invalid photo index\" });\n      }\n\n      const photoToDelete = product.images[index];\n      \n      // Delete file from filesystem\n      if (photoToDelete && photoToDelete.startsWith('/uploads/')) {\n        deleteFile(photoToDelete);\n      }\n\n      // Remove from images array\n      const updatedImages = product.images.filter((_, i) => i !== index);\n      await storage.updateProduct(productId, { images: updatedImages });\n\n      res.json({ success: true });\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to delete photo\" });\n    }\n  });\n\n  // Order routes\n  app.post(\"/api/orders\", async (req, res) => {\n    try {\n      const validatedData = insertOrderSchema.parse(req.body);\n      const order = await storage.createOrder({\n        ...validatedData,\n        status: \"pending\",\n      });\n\n      // Send email notification (log to console for now)\n      console.log(\"\\n=== ORDER CONFIRMATION EMAIL ===\");\n      console.log(`To: ${order.customerEmail}`);\n      console.log(`Subject: Potwierdzenie zamówienia #${order.id.slice(0, 8)}`);\n      console.log(`\\nSzanowny/a ${order.customerName},`);\n      console.log(`\\nDziękujemy za złożenie zamówienia w BHP Perfect!`);\n      console.log(`\\nNumer zamówienia: ${order.id}`);\n      console.log(`Kwota: ${order.total} zł`);\n      console.log(`Adres dostawy: ${order.customerAddress}`);\n      console.log(`Status: Oczekuje na realizację`);\n      console.log(\"\\nSkontaktujemy się z Tobą wkrótce.\");\n      console.log(\"================================\\n\");\n\n      res.status(201).json(order);\n    } catch {\n      res.status(400).json({ error: \"Invalid order data\" });\n    }\n  });\n\n  app.get(\"/api/orders\", async (req, res) => {\n    try {\n      const orders = await storage.getAllOrders();\n      res.json(orders);\n    } catch {\n      res.status(500).json({ error: \"Failed to fetch orders\" });\n    }\n  });\n\n  // Gallery routes\n  app.get(\"/api/gallery\", async (req, res) => {\n    try {\n      const images = await storage.getAllGalleryImages();\n      res.json(images);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to fetch gallery images\" });\n    }\n  });\n\n  app.post(\"/api/gallery\", upload.single(\"image\"), async (req, res) => {\n    try {\n      const file = req.file;\n      if (!file) {\n        return res.status(400).json({ error: \"No file uploaded\" });\n      }\n\n      const galleryImage = await storage.createGalleryImage({\n        filename: file.filename,\n        path: `/uploads/${file.filename}`,\n      });\n      res.status(201).json(galleryImage);\n    } catch (error) {\n      res.status(400).json({ error: \"Failed to upload image\" });\n    }\n  });\n\n  app.delete(\"/api/gallery/:id\", async (req, res) => {\n    try {\n      const image = (await storage.getAllGalleryImages()).find(img => img.id === req.params.id);\n      if (image) {\n        // Delete file from filesystem\n        const filePath = path.join(uploadDir, path.basename(image.path));\n        if (fs.existsSync(filePath)) {\n          fs.unlinkSync(filePath);\n        }\n      }\n      await storage.deleteGalleryImage(req.params.id);\n      res.json({ success: true });\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to delete image\" });\n    }\n  });\n\n  // Settings routes\n  app.get(\"/api/settings\", async (req, res) => {\n    try {\n      const settings = await storage.getAllSettings();\n      res.json(settings);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to fetch settings\" });\n    }\n  });\n\n  app.get(\"/api/settings/:key\", async (req, res) => {\n    try {\n      const setting = await storage.getSetting(req.params.key);\n      if (!setting) {\n        return res.status(404).json({ error: \"Setting not found\" });\n      }\n      res.json(setting);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to fetch setting\" });\n    }\n  });\n\n  app.put(\"/api/settings/:key\", async (req, res) => {\n    try {\n      const { value } = req.body;\n      if (!value) {\n        return res.status(400).json({ error: \"Value is required\" });\n      }\n      const setting = await storage.setSetting(req.params.key, value);\n      res.json(setting);\n    } catch (error) {\n      res.status(400).json({ error: \"Failed to update setting\" });\n    }\n  });\n\n  // Reviews routes\n  app.get(\"/api/products/:productId/reviews\", async (req, res) => {\n    try {\n      const reviews = await storage.getProductReviews(req.params.productId);\n      res.json(reviews);\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to fetch reviews\" });\n    }\n  });\n\n  app.post(\"/api/products/:productId/reviews\", async (req, res) => {\n    try {\n      const review = await storage.createReview({\n        productId: req.params.productId,\n        userId: req.body.userId || null,\n        customerName: req.body.customerName,\n        rating: parseInt(req.body.rating),\n        comment: req.body.comment,\n      });\n      res.status(201).json(review);\n    } catch (error) {\n      res.status(400).json({ error: \"Failed to create review\" });\n    }\n  });\n\n  app.delete(\"/api/reviews/:id\", async (req, res) => {\n    try {\n      await storage.deleteReview(req.params.id);\n      res.json({ success: true });\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to delete review\" });\n    }\n  });\n\n  const httpServer = createServer(app);\n\n  return httpServer;\n}\n","size_bytes":18803},"public/src/components/ui/toast.tsx":{"content":"import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","size_bytes":4849},"design_guidelines.md":{"content":"# Design Guidelines: Sklep BHP E-Commerce Platform\n\n## Design Approach\n**Utility-Focused E-Commerce** - Industrial strength meets modern polish. This B2B/B2C safety equipment store prioritizes clarity, trust, and efficiency while maintaining visual appeal through bold color contrast and clean layouts.\n\n**Reference Inspiration**: Drawing from Amazon's clarity + Shopify's clean product presentation + WorkwearOutfitters' industrial aesthetic.\n\n---\n\n## Core Design Elements\n\n### A. Color Palette\n\n**Primary Colors:**\n- Black: `0 0% 0%` - Primary backgrounds, text, headers\n- Yellow: `48 100% 50%` - CTAs, accents, highlights, active states\n- White: `0 0% 100%` - Secondary backgrounds, cards\n\n**Supporting Colors:**\n- Gray 900: `0 0% 15%` - Dark sections, footer\n- Gray 800: `0 0% 20%` - Card backgrounds on dark\n- Gray 100: `0 0% 96%` - Light section backgrounds\n- Gray 600: `0 0% 45%` - Secondary text\n- Red 600: `0 72% 51%` - Error states, urgency indicators\n- Green 600: `142 71% 45%` - Success, in-stock indicators\n\n**Dark Mode Strategy:**\n- Default to light mode for product visibility\n- Dark sections for visual rhythm (hero, footer)\n- High contrast maintained throughout\n\n### B. Typography\n\n**Font Stack:**\n- Primary: 'Inter' (Google Fonts) - Clean, professional, excellent readability\n- Headings: 'Inter' weight 700-800\n- Body: 'Inter' weight 400-500\n- Accent: 'Inter' weight 600 for buttons/labels\n\n**Scale:**\n- H1: text-5xl lg:text-6xl font-bold\n- H2: text-4xl lg:text-5xl font-bold\n- H3: text-2xl lg:text-3xl font-semibold\n- H4: text-xl font-semibold\n- Body: text-base\n- Small: text-sm\n\n### C. Layout System\n\n**Spacing Primitives:** Use Tailwind units 2, 4, 8, 12, 16, 20\n- Micro spacing: p-2, gap-2\n- Component internal: p-4, gap-4\n- Section padding: py-12 md:py-16 lg:py-20\n- Container margins: mx-4 md:mx-8\n\n**Grid System:**\n- Container: max-w-7xl mx-auto px-4\n- Product grids: grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4\n- Feature sections: grid-cols-1 md:grid-cols-2 lg:grid-cols-3\n\n### D. Component Library\n\n**Navigation:**\n- Sticky header with black background\n- Yellow logo accent or yellow underline on active nav items\n- Mobile: Hamburger menu, black slide-out panel\n- Desktop: Horizontal nav with hover yellow underline\n\n**Hero Section:**\n- Full-width with dark background (black or gray-900)\n- Large heading in white with yellow keyword highlights\n- Yellow CTA button (bg-yellow-400 text-black)\n- Background: Industrial texture or safety equipment imagery\n\n**Product Cards:**\n- White background with subtle shadow (shadow-md)\n- Product image with hover scale effect (hover:scale-105 transition)\n- Price in large bold text\n- Yellow \"Add to Cart\" button\n- Stock indicator: Green dot + \"W magazynie\" or Red + \"Brak\"\n- Category badge in top-right\n\n**Buttons:**\n- Primary: bg-yellow-400 text-black font-semibold px-8 py-3 rounded-lg hover:bg-yellow-500\n- Secondary: border-2 border-yellow-400 text-yellow-400 hover:bg-yellow-400 hover:text-black\n- Outline on images: backdrop-blur-sm bg-black/30 border-2 border-white text-white\n\n**Forms:**\n- Input fields: border-gray-300 focus:border-yellow-400 focus:ring-2 focus:ring-yellow-400/20\n- Labels: text-sm font-medium text-gray-700\n- Error states: border-red-500 text-red-600\n\n**Footer:**\n- Black background with yellow accents\n- Multi-column layout: Company info, Quick links, Categories, Contact\n- White text with yellow highlights on hover\n- Location prominently displayed: \"Nowy Dwór Mazowiecki, Poland\"\n\n### E. Page-Specific Layouts\n\n**Homepage:**\n1. Hero: Full-width black background, bold headline, yellow CTA\n2. Category Grid: 4 cards with category icons/images\n3. Featured Products: 4-8 products in grid\n4. Trust Badges: Certifications, shipping info, returns (icons + text)\n5. CTA Section: Yellow background, black text, final conversion push\n\n**Product Catalog (/shop):**\n- Left sidebar: Category filters, price range, stock filter\n- Right main: Product grid with sorting options\n- Breadcrumbs at top\n- Pagination at bottom\n\n**Product Detail (/product/:id):**\n- Left: Large product image with gallery thumbnails\n- Right: Name, price, stock status, quantity selector, Add to Cart\n- Below: Tabs for Description, Specifications, Reviews\n\n**Cart:**\n- Table layout: Product image, name, price, quantity, subtotal\n- Right sidebar: Order summary, promo code, checkout button\n- Empty cart state: Icon + message + \"Kontynuuj zakupy\" link\n\n**Checkout:**\n- Two-column: Left form (contact, shipping, payment), Right summary\n- Progress indicator: Koszyk → Dostawa → Płatność → Potwierdzenie\n- Yellow submit button: \"Złóż zamówienie\"\n\n---\n\n## Images\n\n**Hero Section:**\n- Large background image: Industrial warehouse or safety equipment in organized shelving (70% opacity overlay)\n- Alternative: Worker in high-vis gear with hard hat, industrial setting\n\n**Category Cards:**\n- Workwear: Coveralls on mannequin\n- Safety Equipment: Hard hats and safety glasses\n- Footwear: Steel-toe boots\n- Gloves: Various work gloves display\n- Protective Gear: Face shields and respirators\n\n**Product Images:**\n- Clean white background\n- Front view primary, detail shots in gallery\n- Consistent sizing: 600x600px minimum\n\n**Trust Section:**\n- Icons for: Fast shipping, 30-day returns, certified products, customer support (use Heroicons)\n\n---\n\n## Polish Language Elements\n\n- All UI text in Polish\n- Currency: PLN (zł)\n- Common terms: \"Dodaj do koszyka\", \"Kontynuuj zakupy\", \"Złóż zamówienie\", \"W magazynie\"\n- Address format: Nowy Dwór Mazowiecki, Poland (footer + contact)\n\n---\n\n## Key Interactions\n\n- Product card hover: Slight lift (shadow-lg) + image scale\n- Cart icon: Yellow badge with item count\n- Sticky header: Reduces padding on scroll\n- Loading states: Yellow spinner on black background\n- Toast notifications: Black background, yellow border, positioned top-right\n\nThis industrial-strength design balances professional B2B aesthetics with modern e-commerce UX, using the distinctive black-yellow palette to create memorable brand identity while maintaining excellent usability for Polish customers.","size_bytes":6087},"public/src/components/ui/collapsible.tsx":{"content":"\"use client\"\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n","size_bytes":329},"public/src/components/ui/toaster.tsx":{"content":"import { useToast } from \"../../hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"./toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","size_bytes":762},"public/src/components/ui/hover-card.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst HoverCard = HoverCardPrimitive.Root\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger\n\nconst HoverCardContent = React.forwardRef<\n  React.ElementRef<typeof HoverCardPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent }\n","size_bytes":1255},"public/src/components/ui/resizable.tsx":{"content":"\"use client\"\n\nimport { GripVertical } from \"lucide-react\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst ResizablePanelGroup = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\n      \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst ResizablePanel = ResizablePrimitive.Panel\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <GripVertical className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n)\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n","size_bytes":1727},"public/src/index.css":{"content":"@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n/* BHP PERFECT 2025 MINIMALIST THEME - BLACK & YELLOW (#0b0b0b & #ffd000) */\n:root {\n  --button-outline: rgba(255, 255, 255, 0.1);\n  --badge-outline: rgba(255, 255, 255, 0.05);\n\n  /* Automatic computation of border around primary / danger buttons */\n  --opaque-button-border-intensity: 9; /* In terms of percentages */\n\n  /* Subtle elevation backgrounds for minimalist design */\n  --elevate-1: rgba(0, 0, 0, 0.02);\n  --elevate-2: rgba(0, 0, 0, 0.04);\n\n  /* Clean, minimal backgrounds */\n  --background: 0 0% 99%; /* Almost white #fcfcfc */\n\n  --foreground: 0 0% 4.3%; /* Pure black #0b0b0b */\n\n  --border: 0 0% 90%; /* Light gray #e5e5e5 */\n\n  --card: 0 0% 100%; /* Pure white */\n\n  --card-foreground: 0 0% 4.3%;\n\n  --card-border: 0 0% 90%;\n\n  --sidebar: 0 0% 4.3%;\n\n  --sidebar-foreground: 0 0% 98%;\n\n  --sidebar-border: 0 0% 12%;\n\n  --sidebar-primary: 48 100% 50%; /* Yellow #ffd000 */\n\n  --sidebar-primary-foreground: 0 0% 4.3%;\n\n  --sidebar-accent: 0 0% 12%;\n\n  --sidebar-accent-foreground: 0 0% 98%;\n\n  --sidebar-ring: 48 100% 50%;\n\n  --popover: 0 0% 100%;\n\n  --popover-foreground: 0 0% 4.3%;\n\n  --popover-border: 0 0% 90%;\n\n  --primary: 48 100% 50%; /* Yellow #ffd000 */\n\n  --primary-foreground: 0 0% 4.3%; /* Black text on yellow */\n\n  --secondary: 0 0% 97%; /* Very light gray #f7f7f7 */\n\n  --secondary-foreground: 0 0% 4.3%;\n\n  --muted: 0 0% 97%;\n\n  --muted-foreground: 0 0% 50%; /* Medium gray #808080 */\n\n  --accent: 48 100% 97%; /* Very light yellow tint */\n\n  --accent-foreground: 0 0% 4.3%;\n\n  --destructive: 0 72% 51%;\n\n  --destructive-foreground: 0 0% 98%;\n\n  --input: 0 0% 90%;\n  --ring: 48 100% 50%;\n  --chart-1: 48 100% 50%;\n  --chart-2: 0 0% 98%;\n  --chart-3: 48 95% 70%;\n  --chart-4: 0 0% 60%;\n  --chart-5: 48 100% 35%;\n\n  --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;\n  --font-serif: Georgia, serif;\n  --font-mono: Menlo, monospace;\n  --radius: 0.375rem; /* 6px - more subtle than before */\n\n  /* Minimal, subtle shadows */\n  --shadow-2xs: 0px 1px 2px 0px rgba(0, 0, 0, 0.05);\n  --shadow-xs: 0px 1px 3px 0px rgba(0, 0, 0, 0.08);\n  --shadow-sm: 0px 2px 4px 0px rgba(0, 0, 0, 0.08);\n  --shadow: 0px 2px 8px 0px rgba(0, 0, 0, 0.1);\n  --shadow-md: 0px 4px 12px 0px rgba(0, 0, 0, 0.12);\n  --shadow-lg: 0px 8px 16px 0px rgba(0, 0, 0, 0.15);\n  --shadow-xl: 0px 12px 24px 0px rgba(0, 0, 0, 0.18);\n  --shadow-2xl: 0px 16px 32px 0px rgba(0, 0, 0, 0.2);\n\n  --tracking-normal: -0.01em; /* Slight tightening for Inter */\n  --spacing: 0.25rem;\n\n  /* Automatically computed borders - intensity can be controlled by the user by the --opaque-button-border-intensity setting */\n\n  /* Fallback for older browsers */\n  --sidebar-primary-border: hsl(var(--sidebar-primary));\n  --sidebar-primary-border: hsl(\n    from hsl(var(--sidebar-primary)) h s\n      calc(l + var(--opaque-button-border-intensity)) / alpha\n  );\n\n  /* Fallback for older browsers */\n  --sidebar-accent-border: hsl(var(--sidebar-accent));\n  --sidebar-accent-border: hsl(\n    from hsl(var(--sidebar-accent)) h s\n      calc(l + var(--opaque-button-border-intensity)) / alpha\n  );\n\n  /* Fallback for older browsers */\n  --primary-border: hsl(var(--primary));\n  --primary-border: hsl(\n    from hsl(var(--primary)) h s\n      calc(l + var(--opaque-button-border-intensity)) / alpha\n  );\n\n  /* Fallback for older browsers */\n  --secondary-border: hsl(var(--secondary));\n  --secondary-border: hsl(\n    from hsl(var(--secondary)) h s\n      calc(l + var(--opaque-button-border-intensity)) / alpha\n  );\n\n  /* Fallback for older browsers */\n  --muted-border: hsl(var(--muted));\n  --muted-border: hsl(\n    from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) /\n      alpha\n  );\n\n  /* Fallback for older browsers */\n  --accent-border: hsl(var(--accent));\n  --accent-border: hsl(\n    from hsl(var(--accent)) h s\n      calc(l + var(--opaque-button-border-intensity)) / alpha\n  );\n\n  /* Fallback for older browsers */\n  --destructive-border: hsl(var(--destructive));\n  --destructive-border: hsl(\n    from hsl(var(--destructive)) h s\n      calc(l + var(--opaque-button-border-intensity)) / alpha\n  );\n}\n\n.dark {\n  --button-outline: rgba(255, 255, 255, 0.1);\n  --badge-outline: rgba(255, 255, 255, 0.05);\n\n  --opaque-button-border-intensity: 9; /* In terms of percentages */\n\n  /* Backgrounds applied on top of other backgrounds when hovered/active */\n  --elevate-1: rgba(255, 255, 255, 0.04);\n  --elevate-2: rgba(255, 255, 255, 0.09);\n\n  --background: 0 0% 9%;\n\n  --foreground: 0 0% 98%;\n\n  --border: 0 0% 18%;\n\n  --card: 0 0% 12%;\n\n  --card-foreground: 0 0% 98%;\n\n  --card-border: 0 0% 16%;\n\n  --sidebar: 0 0% 15%;\n\n  --sidebar-foreground: 0 0% 98%;\n\n  --sidebar-border: 0 0% 19%;\n\n  --sidebar-primary: 48 100% 50%;\n\n  --sidebar-primary-foreground: 0 0% 9%;\n\n  --sidebar-accent: 0 0% 20%;\n\n  --sidebar-accent-foreground: 0 0% 98%;\n\n  --sidebar-ring: 48 100% 50%;\n\n  --popover: 0 0% 18%;\n\n  --popover-foreground: 0 0% 98%;\n\n  --popover-border: 0 0% 22%;\n\n  --primary: 48 100% 50%;\n\n  --primary-foreground: 0 0% 9%;\n\n  --secondary: 0 0% 22%;\n\n  --secondary-foreground: 0 0% 98%;\n\n  --muted: 0 2% 20%;\n\n  --muted-foreground: 0 0% 65%;\n\n  --accent: 48 12% 18%;\n\n  --accent-foreground: 0 0% 98%;\n\n  --destructive: 0 72% 51%;\n\n  --destructive-foreground: 0 0% 98%;\n\n  --input: 0 0% 28%;\n  --ring: 48 100% 50%;\n  --chart-1: 0 0% 98%;\n  --chart-2: 48 100% 60%;\n  --chart-3: 0 0% 75%;\n  --chart-4: 48 95% 70%;\n  --chart-5: 0 0% 60%;\n\n  --shadow-2xs: 0px 2px 0px 0px hsl(0 0% 0% / 0.3);\n  --shadow-xs: 0px 2px 0px 0px hsl(0 0% 0% / 0.35);\n  --shadow-sm:\n    0px 2px 0px 0px hsl(0 0% 0% / 0.4), 0px 1px 2px -1px hsl(0 0% 0% / 0.45);\n  --shadow:\n    0px 2px 0px 0px hsl(0 0% 0% / 0.4), 0px 1px 2px -1px hsl(0 0% 0% / 0.5);\n  --shadow-md:\n    0px 2px 0px 0px hsl(0 0% 0% / 0.45), 0px 2px 4px -1px hsl(0 0% 0% / 0.55);\n  --shadow-lg:\n    0px 2px 0px 0px hsl(0 0% 0% / 0.5), 0px 4px 6px -1px hsl(0 0% 0% / 0.6);\n  --shadow-xl:\n    0px 2px 0px 0px hsl(0 0% 0% / 0.55), 0px 8px 10px -1px hsl(0 0% 0% / 0.65);\n  --shadow-2xl: 0px 2px 0px 0px hsl(0 0% 0% / 0.7);\n\n  /* Automatically computed borders - intensity can be controlled by the user by the --opaque-button-border-intensity setting */\n  --sidebar-primary-border: hsl(\n    from hsl(var(--sidebar-primary)) h s\n      calc(l + var(--opaque-button-border-intensity)) / alpha\n  );\n  --sidebar-accent-border: hsl(\n    from hsl(var(--sidebar-accent)) h s\n      calc(l + var(--opaque-button-border-intensity)) / alpha\n  );\n  --primary-border: hsl(\n    from hsl(var(--primary)) h s\n      calc(l + var(--opaque-button-border-intensity)) / alpha\n  );\n  --secondary-border: hsl(\n    from hsl(var(--secondary)) h s\n      calc(l + var(--opaque-button-border-intensity)) / alpha\n  );\n  --muted-border: hsl(\n    from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) /\n      alpha\n  );\n  --accent-border: hsl(\n    from hsl(var(--accent)) h s\n      calc(l + var(--opaque-button-border-intensity)) / alpha\n  );\n  --destructive-border: hsl(\n    from hsl(var(--destructive)) h s\n      calc(l + var(--opaque-button-border-intensity)) / alpha\n  );\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n\n  body {\n    @apply font-sans antialiased bg-background text-foreground;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  /* Improve touch responsiveness on mobile */\n  @media (hover: none) and (pointer: coarse) {\n    * {\n      -webkit-tap-highlight-color: transparent;\n    }\n\n    button, a, input, select, textarea {\n      touch-action: manipulation;\n      min-height: 44px; /* Apple's recommended touch target size */\n    }\n  }\n\n  /* Prevent zoom on input focus on iOS */\n  @media screen and (max-width: 768px) {\n    input[type=\"text\"],\n    input[type=\"email\"],\n    input[type=\"tel\"],\n    input[type=\"number\"],\n    input[type=\"search\"],\n    input[type=\"password\"],\n    select,\n    textarea {\n      font-size: 16px;\n    }\n  }\n\n  /* Extra small screens optimization */\n  @media screen and (max-width: 375px) {\n    h1 {\n      font-size: 2rem;\n      line-height: 2.25rem;\n    }\n\n    h2 {\n      font-size: 1.75rem;\n      line-height: 2rem;\n    }\n  }\n}\n\n/**\n * Using the elevate system.\n * Automatic contrast adjustment.\n *\n * <element className=\"hover-elevate\" />\n * <element className=\"active-elevate-2\" />\n *\n * // Using the tailwind utility when a data attribute is \"on\"\n * <element className=\"toggle-elevate data-[state=on]:toggle-elevated\" />\n * // Or manually controlling the toggle state\n * <element className=\"toggle-elevate toggle-elevated\" />\n *\n * Elevation systems have to handle many states.\n * - not-hovered, vs. hovered vs. active  (three mutually exclusive states)\n * - toggled or not\n * - focused or not (this is not handled with these utilities)\n *\n * Even without handling focused or not, this is six possible combinations that\n * need to be distinguished from eachother visually.\n */\n@layer utilities {\n  /* Hide ugly search cancel button in Chrome until we can style it properly */\n  input[type=\"search\"]::-webkit-search-cancel-button {\n    @apply hidden;\n  }\n\n  /* Placeholder styling for contentEditable div */\n  [contenteditable][data-placeholder]:empty::before {\n    content: attr(data-placeholder);\n    color: hsl(var(--muted-foreground));\n    pointer-events: none;\n  }\n\n  /* 2025 Enhanced Animation Utilities */\n  @keyframes fade-in {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n\n  @keyframes slide-down {\n    from {\n      opacity: 0;\n      transform: translateY(-8px);\n    }\n    to {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n\n  @keyframes slide-up {\n    from {\n      opacity: 0;\n      transform: translateY(16px);\n    }\n    to {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n\n  @keyframes fade-in-up {\n    from {\n      opacity: 0;\n      transform: translateY(20px);\n    }\n    to {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n\n  @keyframes slide-in-left {\n    from {\n      opacity: 0;\n      transform: translateX(-30px);\n    }\n    to {\n      opacity: 1;\n      transform: translateX(0);\n    }\n  }\n\n  @keyframes slide-in-right {\n    from {\n      opacity: 0;\n      transform: translateX(30px);\n    }\n    to {\n      opacity: 1;\n      transform: translateX(0);\n    }\n  }\n\n  @keyframes subtle-scale {\n    0%, 100% {\n      transform: scale(1);\n    }\n    50% {\n      transform: scale(1.02);\n    }\n  }\n\n  @keyframes smooth-zoom {\n    from {\n      transform: scale(1);\n    }\n    to {\n      transform: scale(1.05);\n    }\n  }\n\n  @keyframes fly-to-cart {\n    0% {\n      opacity: 1;\n      transform: scale(1) translate(0, 0);\n    }\n    50% {\n      opacity: 0.8;\n      transform: scale(0.5) translate(200px, -100px);\n    }\n    100% {\n      opacity: 0;\n      transform: scale(0.2) translate(400px, -200px);\n    }\n  }\n\n  @keyframes pulse-glow {\n    0%, 100% {\n      box-shadow: 0 0 10px rgba(255, 208, 0, 0.3);\n    }\n    50% {\n      box-shadow: 0 0 20px rgba(255, 208, 0, 0.6);\n    }\n  }\n\n  @keyframes icon-bounce {\n    0%, 100% {\n      transform: translateY(0);\n    }\n    50% {\n      transform: translateY(-5px);\n    }\n  }\n\n  .animate-fade-in {\n    animation: fade-in 0.4s ease-out;\n  }\n\n  .animate-slide-down {\n    animation: slide-down 0.25s ease-out;\n  }\n\n  .animate-slide-up {\n    animation: slide-up 0.5s ease-out forwards;\n  }\n\n  .animate-fade-in-up {\n    animation: fade-in-up 0.6s ease-out;\n    animation-fill-mode: both;\n  }\n\n  .animate-slide-in-left {\n    animation: slide-in-left 0.6s ease-out;\n  }\n\n  .animate-slide-in-right {\n    animation: slide-in-right 0.6s ease-out;\n  }\n\n  .animate-fly-to-cart {\n    animation: fly-to-cart 0.8s ease-out forwards;\n  }\n\n  .animate-pulse-glow {\n    animation: pulse-glow 2s ease-in-out infinite;\n  }\n\n  .animate-icon-bounce {\n    animation: icon-bounce 0.5s ease-in-out;\n  }\n\n  /* Enhanced hover states for filters */\n  .filter-item-hover {\n    transition: all 0.2s ease;\n  }\n\n  .filter-item-hover:hover {\n    background-color: rgba(255, 208, 0, 0.05);\n    transform: translateX(2px);\n  }\n\n  /* Badge animations */\n  @keyframes badge-remove {\n    0% {\n      opacity: 1;\n      transform: scale(1);\n    }\n    100% {\n      opacity: 0;\n      transform: scale(0.8);\n    }\n  }\n\n  .animate-badge-remove {\n    animation: badge-remove 0.2s ease-out forwards;\n  }\n\n  /* Smooth view mode transitions */\n  .view-transition {\n    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  }\n\n  /* Staggered animations for cards */\n  @keyframes slide-up-cards {\n    from {\n      opacity: 0;\n      transform: translateY(30px);\n    }\n    to {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n\n  .animate-subtle-scale:hover {\n    animation: subtle-scale 0.4s ease-in-out;\n  }\n\n  /* Smooth transitions for minimalist design */\n  .transition-minimal {\n    transition: all 0.2s ease-in-out;\n  }\n\n  .transition-smooth {\n    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  }\n\n  .transition-transform {\n    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  }\n\n  /* Product card hover effects */\n  .product-card-hover {\n    transition: transform 0.3s ease, box-shadow 0.3s ease;\n  }\n\n  .product-card-hover:hover {\n    transform: translateY(-4px);\n    box-shadow: var(--shadow-lg);\n  }\n\n  .product-image-zoom {\n    transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n  }\n\n  .product-image-zoom:hover {\n    transform: scale(1.05);\n  }\n\n  .group:hover .group-hover\\:scale-108 {\n    transform: scale(1.08);\n  }\n\n  /* Category card hover effects */\n  .category-card-hover {\n    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  }\n\n  .category-card-hover:hover {\n    transform: translateY(-8px) scale(1.02);\n    box-shadow: var(--shadow-xl);\n  }\n\n  /* Icon hover effects */\n  .icon-hover {\n    transition: transform 0.3s ease;\n  }\n\n  .icon-hover:hover {\n    transform: scale(1.1) rotate(5deg);\n  }\n\n  /* Gradient background animation */\n  @keyframes gradient-shift {\n    0%, 100% {\n      background-position: 0% 50%;\n    }\n    50% {\n      background-position: 100% 50%;\n    }\n  }\n\n  .animate-gradient {\n    background-size: 200% 200%;\n    animation: gradient-shift 4s ease infinite;\n  }\n\n  /* .no-default-hover-elevate/no-default-active-elevate is an escape hatch so consumers of\n   * buttons/badges can remove the automatic brightness adjustment on interactions\n   * and program their own. */\n\n  /**\n   * Toggleable backgrounds go behind the content. Hoverable/active goes on top.\n   * This way they can stack/compound. Both will overlap the parent's borders!\n   * So borders will be automatically adjusted both on toggle, and hover/active,\n   * and they will be compounded.\n   */\n  .toggle-elevate::before,\n  .toggle-elevate-2::before {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    /*border-radius: inherit;   match rounded corners */\n    border-radius: inherit;\n    z-index: -1;\n    /* sits behind content but above backdrop */\n  }\n\n  .toggle-elevate.toggle-elevated::before {\n    background-color: var(--elevate-2);\n  }\n\n  /* If there's a 1px border, adjust the inset so that it covers that parent's border */\n  .border.toggle-elevate::before {\n    inset: -1px;\n  }\n\n  /* Does not work on elements with overflow:hidden! */\n  .hover-elevate:not(.no-default-hover-elevate),\n  .active-elevate:not(.no-default-active-elevate),\n  .hover-elevate-2:not(.no-default-hover-elevate),\n  .active-elevate-2:not(.no-default-active-elevate) {\n    position: relative;\n    z-index: 0;\n  }\n\n  .hover-elevate:not(.no-default-hover-elevate)::after,\n  .active-elevate:not(.no-default-active-elevate)::after,\n  .hover-elevate-2:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:not(.no-default-active-elevate)::after {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    /*border-radius: inherit;   match rounded corners */\n    border-radius: inherit;\n    z-index: 999;\n    /* sits in front of content */\n  }\n\n  .hover-elevate:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-1);\n  }\n\n  .hover-elevate-2:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-2);\n  }\n\n  /* If there's a 1px border, adjust the inset so that it covers that parent's border */\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate-2:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate-2:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after {\n    inset: -1px;\n  }\n}","size_bytes":16762},"public/src/components/ui/form.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"../../lib/utils\"\nimport { Label } from \"./label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-sm font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","size_bytes":4110},"public/src/components/ui/scroll-area.tsx":{"content":"import * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","size_bytes":1646},"public/src/lib/queryClient.ts":{"content":"import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const text = (await res.text()) || res.statusText;\n    throw new Error(`${res.status}: ${text}`);\n  }\n}\n\nexport function getAuthHeaders(): HeadersInit {\n  const token = localStorage.getItem(\"token\");\n  if (token) {\n    return { \"Authorization\": `Bearer ${token}` };\n  }\n  return {};\n}\n\nexport async function apiRequest(\n  method: string,\n  url: string,\n  data?: unknown | undefined,\n): Promise<Response> {\n  const headers = {\n    ...getAuthHeaders(),\n    ...(data ? { \"Content-Type\": \"application/json\" } : {}),\n  };\n\n  const res = await fetch(url, {\n    method,\n    headers,\n    body: data ? JSON.stringify(data) : undefined,\n  });\n\n  await throwIfResNotOk(res);\n  return res;\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior }) =>\n  async ({ queryKey }) => {\n    const res = await fetch(queryKey.join(\"/\") as string, {\n      headers: getAuthHeaders(),\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"throw\" }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n","size_bytes":1599},"public/src/components/ui/table.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","size_bytes":2769},"public/src/pages/ProductDetail.tsx":{"content":"\nimport { useParams, Link } from \"wouter\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { Button } from \"../components/ui/button\";\nimport { Badge } from \"../components/ui/badge\";\nimport { Input } from \"../components/ui/input\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"../components/ui/tabs\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"../components/ui/select\";\nimport { ArrowLeft, ShoppingCart, Minus, Plus, Home, Heart, Share2, Download, Truck, Shield, RotateCcw } from \"lucide-react\";\nimport { useState, useEffect } from \"react\";\nimport type { Product } from \"../../../shared/schema\";\nimport { ProductCard } from \"../components/ProductCard\";\n\nexport default function ProductDetail({\n  onAddToCart,\n}: {\n  onAddToCart: (product: Product, quantity: number) => void;\n}) {\n  const { id } = useParams();\n  const [quantity, setQuantity] = useState(1);\n  const [selectedImage, setSelectedImage] = useState(0);\n  const [selectedSize, setSelectedSize] = useState(\"\");\n  const [selectedColor, setSelectedColor] = useState(\"\");\n  const [isSticky, setIsSticky] = useState(false);\n\n  const { data: product, isLoading } = useQuery<Product>({\n    queryKey: [`/api/products/${id}`],\n  });\n\n  const { data: allProducts = [] } = useQuery<Product[]>({\n    queryKey: [\"/api/products\"],\n  });\n\n  // SEO Meta Tags\n  useEffect(() => {\n    if (product) {\n      document.title = `${product.name} | Sklep BHP`;\n      const metaDescription = document.querySelector('meta[name=\"description\"]');\n      if (metaDescription) {\n        metaDescription.setAttribute('content', product.description.substring(0, 160));\n      }\n    }\n  }, [product]);\n\n  // Sticky button on scroll (mobile)\n  useEffect(() => {\n    const handleScroll = () => {\n      setIsSticky(window.scrollY > 400);\n    };\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-16 w-16 border-b-2 border-primary\"></div>\n      </div>\n    );\n  }\n\n  if (!product) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex flex-col items-center justify-center\">\n        <h1 className=\"text-4xl font-bold mb-4\">Produkt nie znaleziony</h1>\n        <Link href=\"/sklep\">\n          <Button variant=\"outline\">\n            <ArrowLeft className=\"mr-2 h-4 w-4\" /> Wróć do sklepu\n          </Button>\n        </Link>\n      </div>\n    );\n  }\n\n  const inStock = parseInt(product.stock.toString()) > 0;\n  const price = parseFloat(product.price.toString());\n  \n  // Mock data for options\n  const sizes = [\"S\", \"M\", \"L\", \"XL\", \"XXL\"];\n  const colors = [\"Czarny\", \"Niebieski\", \"Pomarańczowy\", \"Żółty\"];\n  \n  // Gallery images (mock multiple images)\n  const galleryImages = [\n    product.image,\n    product.image,\n    product.image,\n    product.image\n  ];\n\n  // Related products (same category)\n  const relatedProducts = allProducts\n    .filter(p => p.category === product.category && p.id !== product.id)\n    .slice(0, 4);\n\n  const handleQuantityChange = (delta: number) => {\n    const newQuantity = Math.max(1, Math.min(parseInt(product.stock.toString()), quantity + delta));\n    setQuantity(newQuantity);\n  };\n\n  const handleAddToCart = () => {\n    onAddToCart(product, quantity);\n  };\n\n  // SEO-friendly URL slug\n  const productSlug = product.name.toLowerCase()\n    .replace(/[^a-z0-9]+/g, '-')\n    .replace(/^-|-$/g, '');\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* SEO Breadcrumbs */}\n      <nav aria-label=\"breadcrumb\" className=\"bg-white border-b border-gray-200\">\n        <div className=\"max-w-7xl mx-auto px-3 sm:px-4 py-3\">\n          <ol className=\"flex items-center gap-2 text-xs sm:text-sm text-gray-600\">\n            <li>\n              <Link href=\"/\" className=\"hover:text-primary flex items-center gap-1\">\n                <Home className=\"h-3.5 w-3.5\" />\n                Strona główna\n              </Link>\n            </li>\n            <span>/</span>\n            <li>\n              <Link href=\"/sklep\" className=\"hover:text-primary hover:underline\">\n                Sklep\n              </Link>\n            </li>\n            <span>/</span>\n            <li className=\"text-gray-400\">{product.category}</li>\n            <span>/</span>\n            <li className=\"text-gray-900 font-medium truncate max-w-[200px]\">{product.name}</li>\n          </ol>\n        </div>\n      </nav>\n\n      <div className=\"max-w-7xl mx-auto px-3 sm:px-4 py-4 sm:py-8\">\n        {/* Main Product Layout */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 md:gap-12 mb-8\">\n          {/* Left Column - Image Gallery */}\n          <div className=\"space-y-4\">\n            {/* Main Image */}\n            <div className=\"bg-white rounded-lg shadow-md p-3 sm:p-4 md:p-6 group\">\n              <div className=\"relative aspect-square bg-gray-100 rounded-lg overflow-hidden border border-gray-200\">\n                <img\n                  src={galleryImages[selectedImage]}\n                  alt={product.name}\n                  className=\"w-full h-full object-cover transition-transform duration-500 group-hover:scale-108\"\n                  onError={(e) => {\n                    e.currentTarget.style.display = 'none';\n                    const fallback = document.createElement('div');\n                    fallback.className = 'text-gray-300 text-5xl sm:text-6xl md:text-9xl absolute inset-0 flex items-center justify-center';\n                    fallback.textContent = '📦';\n                    e.currentTarget.parentElement?.appendChild(fallback);\n                  }}\n                />\n              </div>\n            </div>\n\n            {/* Thumbnail Gallery */}\n            <div className=\"grid grid-cols-4 gap-2 sm:gap-3\">\n              {galleryImages.map((img, idx) => (\n                <button\n                  key={idx}\n                  onClick={() => setSelectedImage(idx)}\n                  className={`aspect-square bg-white rounded-lg border-2 overflow-hidden transition-all ${\n                    selectedImage === idx ? 'border-primary shadow-md' : 'border-gray-200 hover:border-gray-300'\n                  }`}\n                >\n                  <img src={img} alt={`${product.name} ${idx + 1}`} className=\"w-full h-full object-cover\" />\n                </button>\n              ))}\n            </div>\n          </div>\n\n          {/* Right Column - Product Info */}\n          <div className=\"bg-white rounded-lg shadow-md p-4 sm:p-6 md:p-8 space-y-4 sm:space-y-6\">\n            {/* Category Badge */}\n            <Badge className=\"text-xs sm:text-sm bg-yellow-100 text-black hover:bg-yellow-200\">\n              {product.category}\n            </Badge>\n\n            {/* Product Name */}\n            <h1 className=\"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900 leading-tight\">\n              {product.name}\n            </h1>\n\n            {/* Stock Status */}\n            <div className=\"flex items-center gap-2\">\n              <div className={`h-2.5 w-2.5 sm:h-3 sm:w-3 rounded-full ${inStock ? \"bg-green-600\" : \"bg-red-600\"}`} />\n              <span className={`text-sm sm:text-base font-medium ${inStock ? \"text-green-700\" : \"text-red-700\"}`}>\n                {inStock ? `W magazynie (${product.stock} szt.)` : \"Brak w magazynie\"}\n              </span>\n            </div>\n\n            {/* Price */}\n            <div className=\"py-4 border-y border-gray-200\">\n              <div className=\"flex items-baseline gap-3\">\n                <span className=\"text-3xl sm:text-4xl md:text-5xl font-bold text-gray-900\">\n                  {price.toFixed(2)} zł\n                </span>\n              </div>\n              <p className=\"text-sm text-gray-500 mt-1\">Cena zawiera VAT</p>\n            </div>\n\n            {/* Product Options */}\n            {inStock && (\n              <div className=\"space-y-4\">\n                {/* Size Selector */}\n                <div>\n                  <label className=\"text-sm font-medium mb-2 block\">Rozmiar</label>\n                  <Select value={selectedSize} onValueChange={setSelectedSize}>\n                    <SelectTrigger className=\"w-full\">\n                      <SelectValue placeholder=\"Wybierz rozmiar\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      {sizes.map(size => (\n                        <SelectItem key={size} value={size}>{size}</SelectItem>\n                      ))}\n                    </SelectContent>\n                  </Select>\n                  <Link href=\"#\" className=\"text-xs text-primary hover:underline mt-1 inline-flex items-center gap-1\">\n                    <Download className=\"h-3 w-3\" />\n                    Tabela rozmiarów (PDF)\n                  </Link>\n                </div>\n\n                {/* Color Selector */}\n                <div>\n                  <label className=\"text-sm font-medium mb-2 block\">Kolor</label>\n                  <Select value={selectedColor} onValueChange={setSelectedColor}>\n                    <SelectTrigger className=\"w-full\">\n                      <SelectValue placeholder=\"Wybierz kolor\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      {colors.map(color => (\n                        <SelectItem key={color} value={color}>{color}</SelectItem>\n                      ))}\n                    </SelectContent>\n                  </Select>\n                </div>\n\n                {/* Quantity Selector */}\n                <div>\n                  <label className=\"text-sm font-medium mb-2 block\">Ilość</label>\n                  <div className=\"flex items-center gap-3\">\n                    <Button\n                      variant=\"outline\"\n                      size=\"icon\"\n                      onClick={() => handleQuantityChange(-1)}\n                      disabled={quantity <= 1}\n                    >\n                      <Minus className=\"h-4 w-4\" />\n                    </Button>\n                    <Input\n                      type=\"number\"\n                      min=\"1\"\n                      max={product.stock.toString()}\n                      value={quantity}\n                      onChange={(e) => setQuantity(Math.max(1, Math.min(parseInt(product.stock.toString()), parseInt(e.target.value) || 1)))}\n                      className=\"w-20 text-center text-lg font-semibold\"\n                    />\n                    <Button\n                      variant=\"outline\"\n                      size=\"icon\"\n                      onClick={() => handleQuantityChange(1)}\n                      disabled={quantity >= parseInt(product.stock.toString())}\n                    >\n                      <Plus className=\"h-4 w-4\" />\n                    </Button>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* CTA Buttons */}\n            <div className=\"space-y-3 pt-4\">\n              <Button\n                size=\"lg\"\n                className=\"w-full bg-primary text-black hover:bg-primary/90 font-bold py-4 sm:py-6 text-base sm:text-lg shadow-md hover:shadow-lg hover:scale-105 transition-all\"\n                disabled={!inStock}\n                onClick={handleAddToCart}\n              >\n                <ShoppingCart className=\"mr-2 h-5 w-5\" />\n                Dodaj do koszyka\n              </Button>\n\n              <div className=\"grid grid-cols-2 gap-3\">\n                <Button variant=\"outline\" size=\"lg\" className=\"font-semibold\">\n                  <Heart className=\"mr-2 h-4 w-4\" />\n                  Ulubione\n                </Button>\n                <Button variant=\"outline\" size=\"lg\" className=\"font-semibold\">\n                  <Share2 className=\"mr-2 h-4 w-4\" />\n                  Udostępnij\n                </Button>\n              </div>\n\n              <Link href=\"/koszyk\" className=\"block\">\n                <Button\n                  variant=\"outline\"\n                  size=\"lg\"\n                  className=\"w-full py-4 sm:py-6 text-base sm:text-lg font-semibold border-primary text-primary hover:bg-primary hover:text-black\"\n                >\n                  Przejdź do koszyka\n                </Button>\n              </Link>\n            </div>\n\n            {/* Trust Badges */}\n            <div className=\"grid grid-cols-3 gap-3 pt-4 border-t border-gray-200\">\n              <div className=\"text-center\">\n                <Truck className=\"h-6 w-6 mx-auto mb-1 text-primary\" />\n                <p className=\"text-xs text-gray-600\">Darmowa dostawa od 99 zł</p>\n              </div>\n              <div className=\"text-center\">\n                <Shield className=\"h-6 w-6 mx-auto mb-1 text-primary\" />\n                <p className=\"text-xs text-gray-600\">Gwarancja producenta</p>\n              </div>\n              <div className=\"text-center\">\n                <RotateCcw className=\"h-6 w-6 mx-auto mb-1 text-primary\" />\n                <p className=\"text-xs text-gray-600\">Zwrot 30 dni</p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Tabs - Product Details */}\n        <div className=\"bg-white rounded-lg shadow-md p-4 sm:p-6 md:p-8 mb-8\">\n          <Tabs defaultValue=\"opis\" className=\"w-full\">\n            <TabsList className=\"w-full justify-start border-b mb-6\">\n              <TabsTrigger value=\"opis\" className=\"text-sm sm:text-base\">Opis</TabsTrigger>\n              <TabsTrigger value=\"specyfikacja\" className=\"text-sm sm:text-base\">Specyfikacja</TabsTrigger>\n            </TabsList>\n\n            <TabsContent value=\"opis\" className=\"animate-fade-in\">\n              <div className=\"prose max-w-none\">\n                <p className=\"text-sm sm:text-base leading-relaxed text-gray-700\">\n                  {product.description}\n                </p>\n                <h3 className=\"text-lg font-bold mt-6 mb-3\">Kluczowe cechy:</h3>\n                <ul className=\"space-y-2 text-sm sm:text-base\">\n                  <li>✓ Wysokiej jakości materiały</li>\n                  <li>✓ Certyfikaty bezpieczeństwa CE</li>\n                  <li>✓ Wygodne i funkcjonalne</li>\n                  <li>✓ Dostępne w różnych rozmiarach</li>\n                </ul>\n              </div>\n            </TabsContent>\n\n            <TabsContent value=\"specyfikacja\" className=\"animate-fade-in\">\n              <div className=\"space-y-3\">\n                <div className=\"flex flex-col sm:flex-row border-b pb-3\">\n                  <span className=\"font-medium text-sm sm:text-base sm:w-48\">Kategoria:</span>\n                  <span className=\"text-sm sm:text-base text-gray-700\">{product.category}</span>\n                </div>\n                <div className=\"flex flex-col sm:flex-row border-b pb-3\">\n                  <span className=\"font-medium text-sm sm:text-base sm:w-48\">Dostępność:</span>\n                  <span className=\"text-sm sm:text-base text-gray-700\">{inStock ? \"W magazynie\" : \"Brak\"}</span>\n                </div>\n                <div className=\"flex flex-col sm:flex-row border-b pb-3\">\n                  <span className=\"font-medium text-sm sm:text-base sm:w-48\">Stan magazynowy:</span>\n                  <span className=\"text-sm sm:text-base text-gray-700\">{product.stock} szt.</span>\n                </div>\n                <div className=\"flex flex-col sm:flex-row border-b pb-3\">\n                  <span className=\"font-medium text-sm sm:text-base sm:w-48\">Materiał:</span>\n                  <span className=\"text-sm sm:text-base text-gray-700\">Poliester/Bawełna</span>\n                </div>\n                <div className=\"flex flex-col sm:flex-row border-b pb-3\">\n                  <span className=\"font-medium text-sm sm:text-base sm:w-48\">Normy:</span>\n                  <span className=\"text-sm sm:text-base text-gray-700\">EN ISO 20471, EN 343</span>\n                </div>\n              </div>\n            </TabsContent>\n          </Tabs>\n        </div>\n\n        {/* Related Products */}\n        {relatedProducts.length > 0 && (\n          <div className=\"mb-8\">\n            <h2 className=\"text-2xl sm:text-3xl font-bold mb-6 text-gray-900\">Podobne produkty</h2>\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4\">\n              {relatedProducts.map((relatedProduct) => (\n                <ProductCard \n                  key={relatedProduct.id} \n                  product={relatedProduct} \n                  onAddToCart={() => onAddToCart(relatedProduct, 1)}\n                />\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Sticky Mobile CTA */}\n      {isSticky && (\n        <div className=\"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-3 shadow-lg z-50 lg:hidden animate-slide-up\">\n          <Button\n            size=\"lg\"\n            className=\"w-full bg-primary text-black hover:bg-primary/90 font-bold\"\n            disabled={!inStock}\n            onClick={handleAddToCart}\n          >\n            <ShoppingCart className=\"mr-2 h-5 w-5\" />\n            Dodaj do koszyka - {price.toFixed(2)} zł\n          </Button>\n        </div>\n      )}\n    </div>\n  );\n}\n","size_bytes":17180},"public/src/hooks/use-mobile.tsx":{"content":"import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n","size_bytes":565},"public/src/pages/AdminPanel.tsx":{"content":"import { useState } from \"react\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { queryClient, apiRequest } from \"../lib/queryClient\";\nimport { Card } from \"../components/ui/card\";\nimport { Button } from \"../components/ui/button\";\nimport { Input } from \"../components/ui/input\";\nimport { Label } from \"../components/ui/label\";\nimport { Textarea } from \"../components/ui/textarea\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"../components/ui/tabs\";\nimport { useToast } from \"../hooks/use-toast\";\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"../components/ui/table\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from \"../components/ui/dialog\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"../components/ui/select\";\nimport { Switch } from \"../components/ui/switch\";\nimport { Pencil, Trash2, Plus, Upload, Settings as SettingsIcon, Image as ImageIcon, Package, X } from \"lucide-react\";\nimport type { Product, Gallery, Settings } from \"../../../shared/schema\";\nimport { Badge } from \"../components/ui/badge\";\n\nexport default function AdminPanel() {\n  const { toast } = useToast();\n  const [editingProduct, setEditingProduct] = useState<Product | null>(null);\n  const [isProductDialogOpen, setIsProductDialogOpen] = useState(false);\n\n  const { data: products = [], isLoading: productsLoading } = useQuery<Product[]>({\n    queryKey: [\"/api/products\"],\n  });\n\n  const { data: gallery = [], isLoading: galleryLoading } = useQuery<Gallery[]>({\n    queryKey: [\"/api/gallery\"],\n  });\n\n  const { data: settings = [], isLoading: settingsLoading } = useQuery<Settings[]>({\n    queryKey: [\"/api/settings\"],\n  });\n\n  const deleteProductMutation = useMutation({\n    mutationFn: async (id: string) => {\n      const response = await fetch(`/api/products/${id}`, {\n        method: \"DELETE\",\n        \n      });\n      if (!response.ok) throw new Error(\"Failed to delete product\");\n      return response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/products\"] });\n      toast({ title: \"Produkt usunięty\" });\n    },\n  });\n\n  const deleteGalleryMutation = useMutation({\n    mutationFn: async (id: string) => {\n      const response = await fetch(`/api/gallery/${id}`, {\n        method: \"DELETE\",\n        \n      });\n      if (!response.ok) throw new Error(\"Failed to delete gallery image\");\n      return response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/gallery\"] });\n      toast({ title: \"Zdjęcie usunięte\" });\n    },\n  });\n\n  const uploadGalleryMutation = useMutation({\n    mutationFn: async (file: File) => {\n      const formData = new FormData();\n      formData.append(\"image\", file);\n      \n      const response = await fetch(\"/api/gallery\", {\n        method: \"POST\",\n        \n        body: formData,\n      });\n      \n      if (!response.ok) throw new Error(\"Upload failed\");\n      return response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/gallery\"] });\n      toast({ title: \"Zdjęcie przesłane\" });\n    },\n  });\n\n  const updateSettingMutation = useMutation({\n    mutationFn: async ({ key, value }: { key: string; value: string }) => {\n      const response = await fetch(`/api/settings/${key}`, {\n        method: \"PUT\",\n        headers: { \n          \n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({ value }),\n      });\n      if (!response.ok) throw new Error(\"Failed to update setting\");\n      return response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/settings\"] });\n      toast({ title: \"Ustawienie zaktualizowane\" });\n    },\n  });\n\n  const handleGalleryUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      uploadGalleryMutation.mutate(file);\n    }\n  };\n\n  const getSetting = (key: string) => {\n    return settings.find(s => s.key === key)?.value || \"\";\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background py-8\">\n      <div className=\"container mx-auto px-4 max-w-7xl\">\n        <div className=\"mb-8\">\n          <h1 className=\"text-4xl font-bold\" data-testid=\"text-admin-title\">Panel Administracyjny</h1>\n          <p className=\"text-muted-foreground\">Zarządzaj produktami, galerią i ustawieniami sklepu</p>\n        </div>\n\n        <Tabs defaultValue=\"products\" className=\"w-full\">\n          <TabsList className=\"grid w-full grid-cols-3\">\n            <TabsTrigger value=\"products\" data-testid=\"tab-products\">\n              <Package className=\"mr-2 h-4 w-4\" />\n              Produkty\n            </TabsTrigger>\n            <TabsTrigger value=\"gallery\" data-testid=\"tab-gallery\">\n              <ImageIcon className=\"mr-2 h-4 w-4\" />\n              Galeria\n            </TabsTrigger>\n            <TabsTrigger value=\"settings\" data-testid=\"tab-settings\">\n              <SettingsIcon className=\"mr-2 h-4 w-4\" />\n              Ustawienia\n            </TabsTrigger>\n          </TabsList>\n\n          <TabsContent value=\"products\" className=\"mt-6\">\n            <Card className=\"p-6\">\n              <div className=\"flex justify-between items-center mb-6\">\n                <h2 className=\"text-2xl font-bold\">Zarządzanie Produktami</h2>\n                <Dialog open={isProductDialogOpen} onOpenChange={setIsProductDialogOpen}>\n                  <DialogTrigger asChild>\n                    <Button onClick={() => setEditingProduct(null)} data-testid=\"button-add-product\">\n                      <Plus className=\"mr-2 h-4 w-4\" />\n                      Dodaj Produkt\n                    </Button>\n                  </DialogTrigger>\n                  <DialogContent className=\"max-w-3xl max-h-[90vh] overflow-y-auto\">\n                    <DialogHeader>\n                      <DialogTitle>\n                        {editingProduct ? \"Edytuj Produkt\" : \"Dodaj Nowy Produkt\"}\n                      </DialogTitle>\n                    </DialogHeader>\n                    \n                    {editingProduct ? (\n                      <Tabs defaultValue=\"info\" className=\"w-full\">\n                        <TabsList className=\"grid w-full grid-cols-2\">\n                          <TabsTrigger value=\"info\" data-testid=\"tab-product-info\">\n                            Основные данные\n                          </TabsTrigger>\n                          <TabsTrigger value=\"photos\" data-testid=\"tab-product-photos\">\n                            Фотографии\n                          </TabsTrigger>\n                        </TabsList>\n                        <TabsContent value=\"info\" className=\"mt-4\">\n                          <ProductForm\n                            product={editingProduct}\n                            onClose={() => {\n                              setIsProductDialogOpen(false);\n                              setEditingProduct(null);\n                            }}\n                          />\n                        </TabsContent>\n                        <TabsContent value=\"photos\" className=\"mt-4\">\n                          <PhotoManager productId={editingProduct.id} />\n                        </TabsContent>\n                      </Tabs>\n                    ) : (\n                      <ProductForm\n                        product={null}\n                        onClose={() => {\n                          setIsProductDialogOpen(false);\n                          setEditingProduct(null);\n                        }}\n                      />\n                    )}\n                  </DialogContent>\n                </Dialog>\n              </div>\n\n              {productsLoading ? (\n                <p>Ładowanie...</p>\n              ) : (\n                <Table>\n                  <TableHeader>\n                    <TableRow>\n                      <TableHead>Zdjęcie</TableHead>\n                      <TableHead>Nazwa</TableHead>\n                      <TableHead>Cena</TableHead>\n                      <TableHead>Kategoria</TableHead>\n                      <TableHead>Stan</TableHead>\n                      <TableHead className=\"text-right\">Akcje</TableHead>\n                    </TableRow>\n                  </TableHeader>\n                  <TableBody>\n                    {products.map((product) => (\n                      <TableRow key={product.id} data-testid={`row-product-${product.id}`}>\n                        <TableCell>\n                          <img src={product.image} alt={product.name} className=\"h-12 w-12 object-cover rounded\" />\n                        </TableCell>\n                        <TableCell className=\"font-medium\">{product.name}</TableCell>\n                        <TableCell>{product.price} zł</TableCell>\n                        <TableCell>{product.category}</TableCell>\n                        <TableCell>{product.stock} szt.</TableCell>\n                        <TableCell className=\"text-right\">\n                          <Button\n                            variant=\"ghost\"\n                            size=\"icon\"\n                            onClick={() => {\n                              setEditingProduct(product);\n                              setIsProductDialogOpen(true);\n                            }}\n                            data-testid={`button-edit-${product.id}`}\n                          >\n                            <Pencil className=\"h-4 w-4\" />\n                          </Button>\n                          <Button\n                            variant=\"ghost\"\n                            size=\"icon\"\n                            onClick={() => deleteProductMutation.mutate(product.id)}\n                            data-testid={`button-delete-${product.id}`}\n                          >\n                            <Trash2 className=\"h-4 w-4 text-destructive\" />\n                          </Button>\n                        </TableCell>\n                      </TableRow>\n                    ))}\n                  </TableBody>\n                </Table>\n              )}\n            </Card>\n          </TabsContent>\n\n          <TabsContent value=\"gallery\" className=\"mt-6\">\n            <Card className=\"p-6\">\n              <div className=\"flex justify-between items-center mb-6\">\n                <div>\n                  <h2 className=\"text-2xl font-bold\">Galeria</h2>\n                  <p className=\"text-sm text-muted-foreground mt-1\">\n                    {gallery.length} {gallery.length === 1 ? 'zdjęcie' : gallery.length < 5 ? 'zdjęcia' : 'zdjęć'} w galerii\n                  </p>\n                </div>\n                <Button asChild data-testid=\"button-upload-gallery\">\n                  <label className=\"cursor-pointer\">\n                    <Upload className=\"mr-2 h-4 w-4 inline\" />\n                    Prześlij Zdjęcie\n                    <input\n                      type=\"file\"\n                      accept=\"image/*\"\n                      className=\"hidden\"\n                      onChange={handleGalleryUpload}\n                    />\n                  </label>\n                </Button>\n              </div>\n\n              {galleryLoading ? (\n                <div className=\"flex items-center justify-center py-12\">\n                  <div className=\"text-center\">\n                    <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4\"></div>\n                    <p className=\"text-muted-foreground\">Ładowanie galerii...</p>\n                  </div>\n                </div>\n              ) : gallery.length === 0 ? (\n                <div className=\"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300\">\n                  <ImageIcon className=\"mx-auto h-16 w-16 text-gray-400 mb-4\" />\n                  <p className=\"text-gray-500 text-lg mb-2\">Brak zdjęć w galerii</p>\n                  <p className=\"text-gray-400 text-sm mb-4\">Dodaj pierwsze zdjęcie, aby rozpocząć</p>\n                </div>\n              ) : (\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\">\n                  {gallery.map((img, index) => (\n                    <div key={img.id} className=\"relative group rounded-lg overflow-hidden shadow-md hover:shadow-xl transition-shadow\" data-testid={`img-gallery-${img.id}`}>\n                      <div className=\"aspect-square\">\n                        <img \n                          src={img.path} \n                          alt={img.filename} \n                          className=\"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110\" \n                        />\n                      </div>\n                      <div className=\"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity\">\n                        <div className=\"absolute bottom-0 left-0 right-0 p-3 text-white\">\n                          <p className=\"text-xs truncate font-medium\">{img.filename}</p>\n                          <p className=\"text-xs text-gray-300\">\n                            {new Date(img.uploadedAt).toLocaleDateString('pl-PL')}\n                          </p>\n                        </div>\n                      </div>\n                      <Button\n                        variant=\"destructive\"\n                        size=\"icon\"\n                        className=\"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-all hover:scale-110 shadow-lg\"\n                        onClick={() => deleteGalleryMutation.mutate(img.id)}\n                        data-testid={`button-delete-gallery-${img.id}`}\n                      >\n                        <Trash2 className=\"h-4 w-4\" />\n                      </Button>\n                      <Badge className=\"absolute top-2 left-2 bg-black/60 text-white border-0\">\n                        #{index + 1}\n                      </Badge>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </Card>\n          </TabsContent>\n\n          <TabsContent value=\"settings\" className=\"mt-6\">\n            <Card className=\"p-6\">\n              <h2 className=\"text-2xl font-bold mb-6\">Ustawienia Strony</h2>\n              \n              {settingsLoading ? (\n                <p>Ładowanie...</p>\n              ) : (\n                <div className=\"space-y-6\">\n                  <div>\n                    <Label>Nazwa Sklepu</Label>\n                    <Input\n                      defaultValue={getSetting(\"siteName\")}\n                      onBlur={(e) => updateSettingMutation.mutate({ key: \"siteName\", value: e.target.value })}\n                      data-testid=\"input-site-name\"\n                    />\n                  </div>\n\n                  <div className=\"border-t pt-6\">\n                    <h3 className=\"text-lg font-semibold mb-4\">Banner Promocyjny</h3>\n                    <div className=\"space-y-4\">\n                      <div className=\"flex items-center space-x-2\">\n                        <Switch\n                          checked={getSetting(\"bannerShow\") === \"true\"}\n                          onCheckedChange={(checked) =>\n                            updateSettingMutation.mutate({ key: \"bannerShow\", value: checked.toString() })\n                          }\n                          data-testid=\"switch-banner-show\"\n                        />\n                        <Label>Pokaż banner</Label>\n                      </div>\n                      \n                      <div>\n                        <Label>Tekst banneru</Label>\n                        <Input\n                          defaultValue={getSetting(\"bannerText\")}\n                          onBlur={(e) => updateSettingMutation.mutate({ key: \"bannerText\", value: e.target.value })}\n                          data-testid=\"input-banner-text\"\n                        />\n                      </div>\n\n                      <div>\n                        <Label>Link banneru</Label>\n                        <Input\n                          defaultValue={getSetting(\"bannerLink\")}\n                          onBlur={(e) => updateSettingMutation.mutate({ key: \"bannerLink\", value: e.target.value })}\n                          data-testid=\"input-banner-link\"\n                        />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              )}\n            </Card>\n          </TabsContent>\n        </Tabs>\n      </div>\n    </div>\n  );\n}\n\nfunction PhotoManager({ productId }: { productId: string }) {\n  const { toast } = useToast();\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\n  const [previewUrl, setPreviewUrl] = useState<string | null>(null);\n  const [isMain, setIsMain] = useState(false);\n\n  const { data: product } = useQuery<Product>({\n    queryKey: [\"/api/products\", productId],\n  });\n\n  const uploadPhotoMutation = useMutation({\n    mutationFn: async ({ file, main }: { file: File; main: boolean }) => {\n      const formData = new FormData();\n      formData.append(\"photo\", file);\n      \n      const response = await fetch(`/api/products/${productId}/photo?main=${main}`, {\n        method: \"POST\",\n        \n        body: formData,\n      });\n      \n      if (!response.ok) {\n        const error = await response.json();\n        throw new Error(error.error || \"Failed to upload photo\");\n      }\n      return response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/products\", productId] });\n      queryClient.invalidateQueries({ queryKey: [\"/api/products\"] });\n      toast({ title: \"Фото загружено успешно\" });\n      \n      // Clean up preview\n      if (previewUrl) {\n        URL.revokeObjectURL(previewUrl);\n      }\n      setSelectedFile(null);\n      setPreviewUrl(null);\n    },\n    onError: (error: Error) => {\n      toast({ \n        title: \"Ошибка загрузки фото\", \n        description: error.message,\n        variant: \"destructive\" \n      });\n    },\n  });\n\n  const deletePhotoMutation = useMutation({\n    mutationFn: async (photoIndex: number) => {\n      const response = await fetch(`/api/products/${productId}/photos/${photoIndex}`, {\n        method: \"DELETE\",\n        \n      });\n      \n      if (!response.ok) {\n        const error = await response.json();\n        throw new Error(error.error || \"Failed to delete photo\");\n      }\n      return response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/products\", productId] });\n      queryClient.invalidateQueries({ queryKey: [\"/api/products\"] });\n      toast({ title: \"Фото удалено\" });\n    },\n  });\n\n  const handleFileSelect = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      // Revoke previous preview URL to prevent memory leak\n      if (previewUrl) {\n        URL.revokeObjectURL(previewUrl);\n      }\n      \n      setSelectedFile(file);\n      const url = URL.createObjectURL(file);\n      setPreviewUrl(url);\n    }\n  };\n\n  const handleUpload = () => {\n    if (selectedFile) {\n      uploadPhotoMutation.mutate({ file: selectedFile, main: isMain });\n    }\n  };\n\n  const handleCancelPreview = () => {\n    setSelectedFile(null);\n    if (previewUrl) {\n      URL.revokeObjectURL(previewUrl);\n      setPreviewUrl(null);\n    }\n  };\n\n  if (!product) return <div>Загрузка...</div>;\n\n  return (\n    <div className=\"space-y-4\">\n      <div>\n        <Label className=\"text-base font-semibold\">Управление фотографиями</Label>\n        <p className=\"text-sm text-muted-foreground mb-3\">\n          Загружайте и управляйте фотографиями продукта\n        </p>\n      </div>\n\n      {/* Main Photo */}\n      <div>\n        <Label className=\"text-sm font-medium\">Главное фото</Label>\n        <div className=\"mt-2 border rounded-md p-4\">\n          {product.image ? (\n            <div className=\"relative aspect-square max-w-xs\">\n              <img \n                src={product.image} \n                alt=\"Main product\" \n                className=\"w-full h-full object-cover rounded-md\"\n              />\n              <Badge className=\"absolute top-2 left-2\" variant=\"default\">\n                Главное\n              </Badge>\n            </div>\n          ) : (\n            <div className=\"aspect-square max-w-xs bg-muted rounded-md flex items-center justify-center\">\n              <ImageIcon className=\"w-12 h-12 text-muted-foreground\" />\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Additional Photos */}\n      {product.images && product.images.length > 0 && (\n        <div>\n          <Label className=\"text-sm font-medium\">Дополнительные фото ({product.images.length})</Label>\n          <div className=\"mt-2 grid grid-cols-2 md:grid-cols-3 gap-3\">\n            {product.images.map((img, index) => (\n              <div key={index} className=\"relative aspect-square border rounded-md p-2\">\n                <img \n                  src={img} \n                  alt={`Additional ${index + 1}`} \n                  className=\"w-full h-full object-cover rounded-md\"\n                />\n                <Button\n                  size=\"icon\"\n                  variant=\"destructive\"\n                  className=\"absolute top-3 right-3 h-7 w-7\"\n                  onClick={() => deletePhotoMutation.mutate(index)}\n                  disabled={deletePhotoMutation.isPending}\n                  data-testid={`button-delete-photo-${index}`}\n                >\n                  <X className=\"h-4 w-4\" />\n                </Button>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Upload New Photo */}\n      <div className=\"border-t pt-4\">\n        <Label className=\"text-sm font-medium\">Загрузить новое фото</Label>\n        \n        {previewUrl && (\n          <div className=\"mt-3 space-y-3\">\n            <div className=\"relative aspect-square max-w-xs border rounded-md p-2\">\n              <img \n                src={previewUrl} \n                alt=\"Preview\" \n                className=\"w-full h-full object-cover rounded-md\"\n              />\n              <Badge className=\"absolute top-3 left-3\">\n                Превью\n              </Badge>\n            </div>\n            \n            <div className=\"flex items-center space-x-2\">\n              <Switch\n                checked={isMain}\n                onCheckedChange={setIsMain}\n                data-testid=\"switch-photo-is-main\"\n              />\n              <Label className=\"text-sm\">Сделать главным фото</Label>\n            </div>\n\n            <div className=\"flex gap-2\">\n              <Button\n                onClick={handleUpload}\n                disabled={uploadPhotoMutation.isPending}\n                data-testid=\"button-upload-photo\"\n              >\n                <Upload className=\"mr-2 h-4 w-4\" />\n                {uploadPhotoMutation.isPending ? \"Загрузка...\" : \"Загрузить\"}\n              </Button>\n              <Button\n                variant=\"outline\"\n                onClick={handleCancelPreview}\n                data-testid=\"button-cancel-photo\"\n              >\n                Отменить\n              </Button>\n            </div>\n          </div>\n        )}\n\n        {!previewUrl && (\n          <div className=\"mt-3\">\n            <Input\n              type=\"file\"\n              accept=\"image/*\"\n              onChange={handleFileSelect}\n              data-testid=\"input-photo-upload\"\n            />\n            <p className=\"text-xs text-muted-foreground mt-1\">\n              Максимальный размер: 5MB. Форматы: JPEG, PNG, GIF, WebP\n            </p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nfunction ProductForm({ product, onClose }: { product: Product | null; onClose: () => void }) {\n  const { toast } = useToast();\n  const [formData, setFormData] = useState({\n    name: product?.name || \"\",\n    description: product?.description || \"\",\n    price: product?.price ? product.price.toString() : \"0\",\n    category: product?.category || \"\",\n    stock: product?.stock ?? 0,\n    image: product?.image || \"\",\n    available: product?.available ?? true,\n    shipping: product?.shipping || \"standard\",\n  });\n  const [imageFiles, setImageFiles] = useState<FileList | null>(null);\n\n  const createProductMutation = useMutation({\n    mutationFn: async () => {\n      const fd = new FormData();\n      \n      Object.entries(formData).forEach(([key, value]) => {\n        fd.append(key, value.toString());\n      });\n      \n      if (imageFiles) {\n        Array.from(imageFiles).forEach(file => {\n          fd.append(\"images\", file);\n        });\n      }\n\n      console.log(\"=== SENDING CREATE PRODUCT REQUEST ===\");\n      console.log(\"Form data entries:\");\n      for (const [key, value] of fd.entries()) {\n        console.log(`  ${key}:`, value);\n      }\n\n      const response = await fetch(\"/api/products\", {\n        method: \"POST\",\n        \n        body: fd,\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        console.error(\"Server returned error:\", error);\n        \n        let errorMessage = error.details || error.error || \"Failed to create product\";\n        if (error.validationIssues) {\n          errorMessage += \"\\n\\nДетали валидации:\\n\" + \n            error.validationIssues.map((issue: any) => \n              `- ${issue.path.join('.')}: ${issue.message}`\n            ).join('\\n');\n        }\n        \n        throw new Error(errorMessage);\n      }\n      return response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/products\"] });\n      toast({ title: \"Produkt utworzony\" });\n      onClose();\n    },\n    onError: (error: Error) => {\n      console.error(\"=== CREATE PRODUCT ERROR (CLIENT) ===\");\n      console.error(\"Error:\", error);\n      console.error(\"Error message:\", error.message);\n      console.error(\"Form data at time of error:\", formData);\n      toast({ \n        title: \"Błąd podczas tworzenia produktu\", \n        description: error.message,\n        variant: \"destructive\" \n      });\n    },\n  });\n\n  const updateProductMutation = useMutation({\n    mutationFn: async () => {\n      const fd = new FormData();\n      \n      Object.entries(formData).forEach(([key, value]) => {\n        fd.append(key, value.toString());\n      });\n      \n      if (imageFiles) {\n        Array.from(imageFiles).forEach(file => {\n          fd.append(\"images\", file);\n        });\n      }\n\n      const response = await fetch(`/api/products/${product?.id}`, {\n        method: \"PUT\",\n        \n        body: fd,\n      });\n\n      if (!response.ok) throw new Error(\"Failed to update product\");\n      return response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/products\"] });\n      toast({ title: \"Produkt zaktualizowany\" });\n      onClose();\n    },\n    onError: (error: Error) => {\n      console.error(\"Update product error:\", error);\n      toast({ \n        title: \"Błąd podczas aktualizacji produktu\", \n        description: error.message,\n        variant: \"destructive\" \n      });\n    },\n  });\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    console.log(\"Form data before validation:\", formData);\n    \n    // Validate required fields\n    if (!formData.name.trim()) {\n      console.error(\"Validation failed: name is empty\");\n      toast({ title: \"Błąd\", description: \"Nazwa produktu jest wymagana\", variant: \"destructive\" });\n      return;\n    }\n    if (!formData.description.trim()) {\n      console.error(\"Validation failed: description is empty\");\n      toast({ title: \"Błąd\", description: \"Opis produktu jest wymagany\", variant: \"destructive\" });\n      return;\n    }\n    if (!formData.category) {\n      console.error(\"Validation failed: category is empty\");\n      toast({ title: \"Błąd\", description: \"Kategoria jest wymagana\", variant: \"destructive\" });\n      return;\n    }\n    const priceNum = Number(formData.price);\n    if (isNaN(priceNum) || priceNum < 0) {\n      console.error(\"Validation failed: invalid price\", { price: formData.price, priceNum });\n      toast({ title: \"Błąd\", description: \"Podaj prawidłową cenę (min 0)\", variant: \"destructive\" });\n      return;\n    }\n    \n    const stockNum = Number(formData.stock);\n    if (isNaN(stockNum) || stockNum < 0) {\n      console.error(\"Validation failed: invalid stock\", { stock: formData.stock, stockNum });\n      toast({ title: \"Błąd\", description: \"Podaj prawidłowy stan magazynowy\", variant: \"destructive\" });\n      return;\n    }\n    \n    // Image is now optional - if not provided, a default will be used on the backend\n    \n    console.log(\"Validation passed, submitting form\");\n    \n    if (product) {\n      updateProductMutation.mutate();\n    } else {\n      createProductMutation.mutate();\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-4\">\n      <div>\n        <Label>Nazwa</Label>\n        <Input\n          value={formData.name}\n          onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n          required\n          data-testid=\"input-product-name\"\n        />\n      </div>\n\n      <div>\n        <Label>Opis</Label>\n        <Textarea\n          value={formData.description}\n          onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n          required\n          data-testid=\"input-product-description\"\n        />\n      </div>\n\n      <div className=\"grid grid-cols-2 gap-4\">\n        <div>\n          <Label>Cena</Label>\n          <Input\n            type=\"number\"\n            step=\"0.01\"\n            value={formData.price}\n            onChange={(e) => setFormData({ ...formData, price: e.target.value })}\n            required\n            data-testid=\"input-product-price\"\n          />\n        </div>\n\n        <div>\n          <Label>Stan magazynowy</Label>\n          <Input\n            type=\"number\"\n            value={formData.stock}\n            onChange={(e) => setFormData({ ...formData, stock: parseInt(e.target.value) })}\n            required\n            data-testid=\"input-product-stock\"\n          />\n        </div>\n      </div>\n\n      <div>\n        <Label>Kategoria</Label>\n        <Select value={formData.category} onValueChange={(value) => setFormData({ ...formData, category: value })}>\n          <SelectTrigger data-testid=\"select-product-category\">\n            <SelectValue />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"odziez-robocza\">Odzież robocza</SelectItem>\n            <SelectItem value=\"obuwie\">Obuwie</SelectItem>\n            <SelectItem value=\"rekawice\">Rękawice</SelectItem>\n            <SelectItem value=\"ochrona-glowy\">Ochrona głowy</SelectItem>\n            <SelectItem value=\"ochrona-sluchu\">Ochrona słuchu</SelectItem>\n          </SelectContent>\n        </Select>\n      </div>\n\n      <div>\n        <Label>URL głównego zdjęcia (opcjonalnie, jeśli załadujesz pliki)</Label>\n        <Input\n          value={formData.image}\n          onChange={(e) => setFormData({ ...formData, image: e.target.value })}\n          placeholder=\"Wpisz URL lub załaduj zdjęcie poniżej\"\n          data-testid=\"input-product-image\"\n        />\n      </div>\n\n      <div>\n        <Label>Dodatkowe zdjęcia</Label>\n        <Input\n          type=\"file\"\n          multiple\n          accept=\"image/*\"\n          onChange={(e) => setImageFiles(e.target.files)}\n          data-testid=\"input-product-images\"\n        />\n      </div>\n\n      <div className=\"flex items-center space-x-2\">\n        <Switch\n          checked={formData.available}\n          onCheckedChange={(checked) => setFormData({ ...formData, available: checked })}\n          data-testid=\"switch-product-available\"\n        />\n        <Label>Dostępny</Label>\n      </div>\n\n      <div className=\"flex gap-2\">\n        <Button type=\"submit\" disabled={createProductMutation.isPending || updateProductMutation.isPending} data-testid=\"button-submit-product\">\n          {product ? \"Zaktualizuj\" : \"Utwórz\"}\n        </Button>\n        <Button type=\"button\" variant=\"outline\" onClick={onClose} data-testid=\"button-cancel-product\">\n          Anuluj\n        </Button>\n      </div>\n    </form>\n  );\n}\n","size_bytes":32372},"public/src/components/ui/accordion.tsx":{"content":"import * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n","size_bytes":1981},"tailwind.config.ts":{"content":"import type { Config } from \"tailwindcss\";\n\nexport default {\n  darkMode: [\"class\"],\n  // project uses `public/src` for frontend files (Vite root is `public`)\n  content: [\"./public/index.html\", \"./public/src/**/*.{js,jsx,ts,tsx}\"],\n  theme: {\n    extend: {\n      borderRadius: {\n        lg: \".5625rem\" /* 9px */,\n        md: \".375rem\" /* 6px */,\n        sm: \".1875rem\" /* 3px */,\n      },\n      colors: {\n        // BHP Brand colors\n        brand: {\n          50: \"hsl(48 100% 95%)\",\n          100: \"hsl(48 100% 85%)\",\n          500: \"hsl(48 100% 50%)\", // #ffd000\n          700: \"hsl(48 100% 39%)\",\n        },\n        dark: {\n          900: \"hsl(0 0% 4.3%)\", // #0b0b0b\n          800: \"hsl(0 0% 6.7%)\", // #111111\n        },\n        // Flat / base colors (regular buttons)\n        background: \"hsl(var(--background) / <alpha-value>)\",\n        foreground: \"hsl(var(--foreground) / <alpha-value>)\",\n        border: \"hsl(var(--border) / <alpha-value>)\",\n        input: \"hsl(var(--input) / <alpha-value>)\",\n        card: {\n          DEFAULT: \"hsl(var(--card) / <alpha-value>)\",\n          foreground: \"hsl(var(--card-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--card-border) / <alpha-value>)\",\n        },\n        popover: {\n          DEFAULT: \"hsl(var(--popover) / <alpha-value>)\",\n          foreground: \"hsl(var(--popover-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--popover-border) / <alpha-value>)\",\n        },\n        primary: {\n          DEFAULT: \"hsl(var(--primary) / <alpha-value>)\",\n          foreground: \"hsl(var(--primary-foreground) / <alpha-value>)\",\n          border: \"var(--primary-border)\",\n        },\n        secondary: {\n          DEFAULT: \"hsl(var(--secondary) / <alpha-value>)\",\n          foreground: \"hsl(var(--secondary-foreground) / <alpha-value>)\",\n          border: \"var(--secondary-border)\",\n        },\n        muted: {\n          DEFAULT: \"hsl(var(--muted) / <alpha-value>)\",\n          foreground: \"hsl(var(--muted-foreground) / <alpha-value>)\",\n          border: \"var(--muted-border)\",\n        },\n        accent: {\n          DEFAULT: \"hsl(var(--accent) / <alpha-value>)\",\n          foreground: \"hsl(var(--accent-foreground) / <alpha-value>)\",\n          border: \"var(--accent-border)\",\n        },\n        destructive: {\n          DEFAULT: \"hsl(var(--destructive) / <alpha-value>)\",\n          foreground: \"hsl(var(--destructive-foreground) / <alpha-value>)\",\n          border: \"var(--destructive-border)\",\n        },\n        ring: \"hsl(var(--ring) / <alpha-value>)\",\n        chart: {\n          \"1\": \"hsl(var(--chart-1) / <alpha-value>)\",\n          \"2\": \"hsl(var(--chart-2) / <alpha-value>)\",\n          \"3\": \"hsl(var(--chart-3) / <alpha-value>)\",\n          \"4\": \"hsl(var(--chart-4) / <alpha-value>)\",\n          \"5\": \"hsl(var(--chart-5) / <alpha-value>)\",\n        },\n        sidebar: {\n          ring: \"hsl(var(--sidebar-ring) / <alpha-value>)\",\n          DEFAULT: \"hsl(var(--sidebar) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--sidebar-border) / <alpha-value>)\",\n        },\n        \"sidebar-primary\": {\n          DEFAULT: \"hsl(var(--sidebar-primary) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-primary-foreground) / <alpha-value>)\",\n          border: \"var(--sidebar-primary-border)\",\n        },\n        \"sidebar-accent\": {\n          DEFAULT: \"hsl(var(--sidebar-accent) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-accent-foreground) / <alpha-value>)\",\n          border: \"var(--sidebar-accent-border)\",\n        },\n        status: {\n          online: \"rgb(34 197 94)\",\n          away: \"rgb(245 158 11)\",\n          busy: \"rgb(239 68 68)\",\n          offline: \"rgb(156 163 175)\",\n        },\n      },\n      fontFamily: {\n        sans: [\"var(--font-sans)\"],\n        serif: [\"var(--font-serif)\"],\n        mono: [\"var(--font-mono)\"],\n      },\n      keyframes: {\n        \"accordion-down\": {\n          from: { height: \"0\" },\n          to: { height: \"var(--radix-accordion-content-height)\" },\n        },\n        \"accordion-up\": {\n          from: { height: \"var(--radix-accordion-content-height)\" },\n          to: { height: \"0\" },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n      },\n    },\n  },\n  plugins: [require(\"tailwindcss-animate\"), require(\"@tailwindcss/typography\")],\n} satisfies Config;\n","size_bytes":4446},"public/src/components/ui/slider.tsx":{"content":"import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","size_bytes":1081},"public/src/components/ui/toggle.tsx":{"content":"import * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-10 px-3 min-w-10\",\n        sm: \"h-9 px-2.5 min-w-9\",\n        lg: \"h-11 px-5 min-w-11\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n","size_bytes":1531},"public/src/components/ui/calendar.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"../../lib/utils\"\nimport { buttonVariants } from \"./button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n","size_bytes":2685},"public/src/components/ui/tooltip.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","size_bytes":1213},"public/src/components/ui/toggle-group.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"../../lib/utils\"\nimport { toggleVariants } from \"./toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n","size_bytes":1743},"public/src/components/ui/tabs.tsx":{"content":"import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","size_bytes":1887},"server/storage.ts":{"content":"import {\n  type User,\n  type InsertUser,\n  type Product,\n  type InsertProduct,\n  type Order,\n  type InsertOrder,\n  type Gallery,\n  type InsertGallery,\n  type Settings,\n  type InsertSettings,\n  type Size,\n  type InsertSize,\n  type ProductSize,\n  type InsertProductSize,\n  type ProductWithSizes,\n} from \"../shared/schema\";\nimport { randomUUID } from \"crypto\";\n\nexport interface IStorage {\n  // Users\n  getUser(id: string): Promise<User | undefined>;\n  getUserByUsername(username: string): Promise<User | undefined>;\n  getUserByEmail(email: string): Promise<User | undefined>;\n  createUser(user: InsertUser): Promise<User>;\n\n  // Products\n  getAllProducts(): Promise<Product[]>;\n  getProduct(id: string): Promise<Product | undefined>;\n  createProduct(product: InsertProduct): Promise<Product>;\n  updateProduct(id: string, product: Partial<InsertProduct>): Promise<Product | undefined>;\n  deleteProduct(id: string): Promise<void>;\n\n  // Orders\n  createOrder(order: InsertOrder): Promise<Order>;\n  getAllOrders(): Promise<Order[]>;\n\n  // Gallery\n  getAllGalleryImages(): Promise<Gallery[]>;\n  createGalleryImage(image: InsertGallery): Promise<Gallery>;\n  deleteGalleryImage(id: string): Promise<void>;\n\n  // Settings\n  getSetting(key: string): Promise<Settings | undefined>;\n  setSetting(key: string, value: string): Promise<Settings>;\n  getAllSettings(): Promise<Settings[]>;\n\n  // Reviews\n  createReview(data: any): Promise<any>;\n  getProductReviews(productId: string): Promise<any[]>;\n  deleteReview(id: string): Promise<void>;\n\n  // Wishlist\n  addToWishlist(userId: string, productId: string): Promise<any>;\n  getUserWishlist(userId: string): Promise<any[]>;\n  removeFromWishlist(userId: string, productId: string): Promise<void>;\n\n  // Sizes\n  getAllSizes(): Promise<Size[]>;\n  createSize(size: InsertSize): Promise<Size>;\n  deleteSize(id: string): Promise<void>;\n\n  // Product Sizes\n  getProductSizes(productId: string): Promise<(ProductSize & { size: Size })[]>;\n  getProductWithSizes(productId: string): Promise<ProductWithSizes | undefined>;\n  addProductSize(productId: string, sizeId: string, stock: number): Promise<ProductSize>;\n  updateProductSizeStock(productId: string, sizeId: string, stock: number): Promise<ProductSize | undefined>;\n  deleteProductSize(productId: string, sizeId: string): Promise<void>;\n}\n\nexport class MemStorage implements IStorage {\n  private users: Map<string, User>;\n  private products: Map<string, Product>;\n  private orders: Map<string, Order>;\n  private gallery: Map<string, Gallery>;\n  private settings: Map<string, Settings>;\n  private reviews: Map<string, any>;\n  private wishlist: Map<string, any>;\n  private sizes: Map<string, Size>;\n  private productSizes: Map<string, ProductSize>;\n\n  constructor() {\n    this.users = new Map();\n    this.products = new Map();\n    this.orders = new Map();\n    this.gallery = new Map();\n    this.settings = new Map();\n    this.reviews = new Map();\n    this.wishlist = new Map();\n    this.sizes = new Map();\n    this.productSizes = new Map();\n    this.seedData();\n    this.seedSettings();\n    this.seedGallery();\n    this.seedSizes();\n  }\n\n  private seedData() {\n    // Seed products\n    const sampleProducts: InsertProduct[] = [\n      {\n        name: \"Kombinezon roboczy PROTECT\",\n        description:\n          \"Wytrzymały kombinezon roboczy z bawełny. Idealny do prac przemysłowych i warsztatowych. Wiele kieszeni funkcjonalnych.\",\n        price: \"159.99\",\n        image:\n          \"https://images.unsplash.com/photo-1622279457486-62dcc4a431d6?w=600&h=600&fit=crop\",\n        category: \"odziez-robocza\",\n        stock: 45,\n        popularity: 85,\n      },\n      {\n        name: \"Buty robocze BHP S3\",\n        description:\n          \"Bezpieczne buty robocze z metalowym podnoskiem. Antypoślizgowa podeszwa, odporność na przebicie. Norma S3.\",\n        price: \"249.99\",\n        image:\n          \"https://images.unsplash.com/photo-1608256246200-53e635b5b65f?w=600&h=600&fit=crop\",\n        category: \"obuwie\",\n        stock: 32,\n        popularity: 95,\n      },\n      {\n        name: \"Rękawice ochronne ULTRA\",\n        description:\n          \"Rękawice robocze z powłoką lateksową. Doskonała przyczepność i ochrona dłoni. Rozmiar uniwersalny.\",\n        price: \"29.99\",\n        image:\n          \"https://images.unsplash.com/photo-1585399000684-d2f72660f092?w=600&h=600&fit=crop\",\n        category: \"rekawice\",\n        stock: 120,\n        popularity: 100,\n      },\n      {\n        name: \"Kask ochronny SAFETY\",\n        description:\n          \"Lekki kask budowlany z regulacją. Odporna skorupa ABS, wentylacja, pasek podbródkowy. Certyfikat CE.\",\n        price: \"79.99\",\n        image:\n          \"https://images.unsplash.com/photo-1589939705384-5185137a7f0f?w=600&h=600&fit=crop\",\n        category: \"ochrona-glowy\",\n        stock: 67,\n        popularity: 78,\n      },\n      {\n        name: \"Kamizelka odblaskowa Premium\",\n        description:\n          \"Kamizelka ostrzegawcza klasa 2. Materiał oddychający, regulowane zapięcia. Zgodna z normami UE.\",\n        price: \"39.99\",\n        image:\n          \"https://images.unsplash.com/photo-1581574919402-5b7d733224d6?w=600&h=600&fit=crop\",\n        category: \"odziez-robocza\",\n        stock: 88,\n        popularity: 90,\n      },\n      {\n        name: \"Okulary ochronne VISION\",\n        description:\n          \"Okulary ochronne z poliwęglanu. Ochrona UV, odporne na zarysowania. Regulowane zauszniki.\",\n        price: \"49.99\",\n        image:\n          \"https://images.unsplash.com/photo-1574258495973-f010dfbb5371?w=600&h=600&fit=crop\",\n        category: \"ochrona-glowy\",\n        stock: 95,\n        popularity: 72,\n      },\n      {\n        name: \"Spodnie robocze MASTER\",\n        description:\n          \"Wzmocnione spodnie robocze z kieszeniami na nakolanniki. Materiał stretch, wysoka wytrzymałość.\",\n        price: \"139.99\",\n        image:\n          \"https://images.unsplash.com/photo-1473966968600-fa801b869a1a?w=600&h=600&fit=crop\",\n        category: \"odziez-robocza\",\n        stock: 54,\n        popularity: 65,\n      },\n      {\n        name: \"Nauszniki ochronne PRO\",\n        description:\n          \"Profesjonalne nauszniki ochronne. Tłumienie 32 dB, miękkie poduszki, regulowany pałąk.\",\n        price: \"89.99\",\n        image:\n          \"https://images.unsplash.com/photo-1590658268037-6bf12165a8df?w=600&h=600&fit=crop\",\n        category: \"ochrona-sluchu\",\n        stock: 41,\n        popularity: 55,\n      },\n      {\n        name: \"Kurtka robocza zimowa TERMO\",\n        description:\n          \"Ciepła kurtka robocza z odpinaną podpinką. Wodoodporna, elementy odblaskowe, wiele kieszeni.\",\n        price: \"299.99\",\n        image:\n          \"https://images.unsplash.com/photo-1551028719-00167b16eac5?w=600&h=600&fit=crop\",\n        category: \"odziez-robocza\",\n        stock: 28,\n        popularity: 88,\n      },\n      {\n        name: \"Półbuty robocze COMFORT\",\n        description:\n          \"Lekkie półbuty robocze S1P. Kompozytowy podnosek, oddychający materiał, podeszwa antyelektrostatyczna.\",\n        price: \"199.99\",\n        image:\n          \"https://images.unsplash.com/photo-1542291026-7eec264c27ff?w=600&h=600&fit=crop\",\n        category: \"obuwie\",\n        stock: 37,\n        popularity: 80,\n      },\n      {\n        name: \"Rękawice skórzane PREMIUM\",\n        description:\n          \"Wytrzymałe rękawice ze skóry bydlęcej. Doskonałe do prac ciężkich, wzmocnione szwy.\",\n        price: \"69.99\",\n        image:\n          \"https://images.unsplash.com/photo-1586363104862-3a5e2ab60d99?w=600&h=600&fit=crop\",\n        category: \"rekawice\",\n        stock: 73,\n        popularity: 68,\n      },\n      {\n        name: \"Maska spawalnicza AUTO\",\n        description:\n          \"Automatyczna maska spawalnicza. Regulacja zaciemnienia, zasilanie słoneczne, lekka konstrukcja.\",\n        price: \"349.99\",\n        image:\n          \"https://images.unsplash.com/photo-1504328345606-18bbc8c9d7d1?w=600&h=600&fit=crop\",\n        category: \"ochrona-glowy\",\n        stock: 19,\n        popularity: 45,\n      },\n    ];\n\n    sampleProducts.forEach((product) => {\n      const id = randomUUID();\n      const createdAt = new Date().toISOString();\n      this.products.set(id, {\n        ...product,\n        id,\n        stock: product.stock ?? 0,\n        images: [],\n        available: true,\n        shipping: \"standard\",\n        hasSizes: false,\n        popularity: product.popularity ?? 0,\n        createdAt,\n      });\n    });\n  }\n\n  // User methods\n  async getUser(id: string): Promise<User | undefined> {\n    return this.users.get(id);\n  }\n\n  async getUserByUsername(username: string): Promise<User | undefined> {\n    return Array.from(this.users.values()).find(\n      (user) => user.username === username\n    );\n  }\n\n  async getUserByEmail(email: string): Promise<User | undefined> {\n    return Array.from(this.users.values()).find((user) => user.email === email);\n  }\n\n  async createUser(insertUser: InsertUser): Promise<User> {\n    const id = randomUUID();\n    // ensure required fields on User type (insertUser.isAdmin may be optional)\n    const user: User = {\n      ...insertUser,\n      id,\n      isAdmin: insertUser.isAdmin ?? false,\n    };\n    this.users.set(id, user);\n    return user;\n  }\n\n  // Product methods\n  async getAllProducts(): Promise<Product[]> {\n    return Array.from(this.products.values());\n  }\n\n  async getProduct(id: string): Promise<Product | undefined> {\n    return this.products.get(id);\n  }\n\n  async createProduct(insertProduct: InsertProduct): Promise<Product> {\n    const id = randomUUID();\n    const createdAt = new Date().toISOString();\n    // ensure stock is present (InsertProduct.stock can be optional)\n    const product: Product = {\n      ...insertProduct,\n      id,\n      stock: insertProduct.stock ?? 0,\n      images: insertProduct.images ?? [],\n      available: insertProduct.available ?? true,\n      shipping: insertProduct.shipping ?? \"standard\",\n      hasSizes: insertProduct.hasSizes ?? false,\n      popularity: insertProduct.popularity ?? 0,\n      createdAt,\n    };\n    this.products.set(id, product);\n    return product;\n  }\n\n  // Order methods\n  async createOrder(insertOrder: InsertOrder): Promise<Order> {\n    const id = randomUUID();\n    const createdAt = new Date().toISOString();\n    // ensure required Order fields (status/userId) have defaults matching DB defaults\n    const order: Order = {\n      ...insertOrder,\n      id,\n      createdAt,\n      status: insertOrder.status ?? \"pending\",\n      userId: insertOrder.userId ?? null,\n    };\n    this.orders.set(id, order);\n    return order;\n  }\n\n  async getAllOrders(): Promise<Order[]> {\n    return Array.from(this.orders.values());\n  }\n\n  // Product update/delete methods\n  async updateProduct(id: string, productUpdate: Partial<InsertProduct>): Promise<Product | undefined> {\n    const existing = this.products.get(id);\n    if (!existing) return undefined;\n\n    const updated: Product = {\n      ...existing,\n      ...productUpdate,\n      images: productUpdate.images ?? existing.images,\n      available: productUpdate.available ?? existing.available,\n      shipping: productUpdate.shipping ?? existing.shipping,\n    };\n    this.products.set(id, updated);\n    return updated;\n  }\n\n  async deleteProduct(id: string): Promise<void> {\n    this.products.delete(id);\n  }\n\n  // Gallery methods\n  async getAllGalleryImages(): Promise<Gallery[]> {\n    return Array.from(this.gallery.values());\n  }\n\n  async createGalleryImage(insertGallery: InsertGallery): Promise<Gallery> {\n    const id = randomUUID();\n    const uploadedAt = new Date().toISOString();\n    const galleryImage: Gallery = {\n      ...insertGallery,\n      id,\n      uploadedAt,\n    };\n    this.gallery.set(id, galleryImage);\n    return galleryImage;\n  }\n\n  async deleteGalleryImage(id: string): Promise<void> {\n    this.gallery.delete(id);\n  }\n\n  // Settings methods\n  async getSetting(key: string): Promise<Settings | undefined> {\n    return Array.from(this.settings.values()).find(s => s.key === key);\n  }\n\n  async setSetting(key: string, value: string): Promise<Settings> {\n    const existing = await this.getSetting(key);\n    if (existing) {\n      existing.value = value;\n      this.settings.set(existing.id, existing);\n      return existing;\n    }\n\n    const id = randomUUID();\n    const setting: Settings = { id, key, value };\n    this.settings.set(id, setting);\n    return setting;\n  }\n\n  async getAllSettings(): Promise<Settings[]> {\n    return Array.from(this.settings.values());\n  }\n\n  private seedSettings() {\n    // Seed default settings\n    const defaultSettings = [\n      { key: \"siteName\", value: \"Sklep BHP Perfekt\" },\n      { key: \"bannerShow\", value: \"true\" },\n      { key: \"bannerText\", value: \"Promocja! -20% na całą odzież roboczą!\" },\n      { key: \"bannerLink\", value: \"/products\" },\n    ];\n\n    defaultSettings.forEach(setting => {\n      const id = randomUUID();\n      this.settings.set(id, { id, ...setting });\n    });\n  }\n\n  private seedGallery() {\n    // Seed gallery with sample images\n    const sampleImages = [\n      {\n        filename: \"bhp-workplace-safety.jpg\",\n        path: \"https://images.unsplash.com/photo-1581574919402-5b7d733224d6?w=800&h=800&fit=crop\",\n      },\n      {\n        filename: \"safety-equipment-display.jpg\",\n        path: \"https://images.unsplash.com/photo-1622279457486-62dcc4a431d6?w=800&h=800&fit=crop\",\n      },\n      {\n        filename: \"protective-gear-collection.jpg\",\n        path: \"https://images.unsplash.com/photo-1608256246200-53e635b5b65f?w=800&h=800&fit=crop\",\n      },\n      {\n        filename: \"warehouse-safety-products.jpg\",\n        path: \"https://images.unsplash.com/photo-1586363104862-3a5e2ab60d99?w=800&h=800&fit=crop\",\n      },\n    ];\n\n    sampleImages.forEach(image => {\n      const id = randomUUID();\n      const uploadedAt = new Date().toISOString();\n      this.gallery.set(id, { id, ...image, uploadedAt });\n    });\n  }\n\n  // Reviews\n  async createReview(data: any) {\n    const review = {\n      id: randomUUID(),\n      ...data,\n      createdAt: new Date().toISOString(),\n    };\n    this.reviews.set(review.id, review);\n    return review;\n  }\n\n  async getProductReviews(productId: string) {\n    return Array.from(this.reviews.values()).filter(\n      (review) => review.productId === productId\n    );\n  }\n\n  async deleteReview(id: string) {\n    this.reviews.delete(id);\n  }\n\n  // Wishlist\n  async addToWishlist(userId: string, productId: string) {\n    const item = {\n      id: randomUUID(),\n      userId,\n      productId,\n      createdAt: new Date().toISOString(),\n    };\n    this.wishlist.set(item.id, item);\n    return item;\n  }\n\n  async getUserWishlist(userId: string) {\n    return Array.from(this.wishlist.values()).filter(\n      (item) => item.userId === userId\n    );\n  }\n\n  async removeFromWishlist(userId: string, productId: string) {\n    const item = Array.from(this.wishlist.values()).find(\n      (w) => w.userId === userId && w.productId === productId\n    );\n    if (item) {\n      this.wishlist.delete(item.id);\n    }\n  }\n\n  // Sizes\n  private seedSizes() {\n    const standardSizes = [\n      { name: \"XS\", displayOrder: 1 },\n      { name: \"S\", displayOrder: 2 },\n      { name: \"M\", displayOrder: 3 },\n      { name: \"L\", displayOrder: 4 },\n      { name: \"XL\", displayOrder: 5 },\n      { name: \"XXL\", displayOrder: 6 },\n      { name: \"XXXL\", displayOrder: 7 },\n      { name: \"36\", displayOrder: 8 },\n      { name: \"37\", displayOrder: 9 },\n      { name: \"38\", displayOrder: 10 },\n      { name: \"39\", displayOrder: 11 },\n      { name: \"40\", displayOrder: 12 },\n      { name: \"41\", displayOrder: 13 },\n      { name: \"42\", displayOrder: 14 },\n      { name: \"43\", displayOrder: 15 },\n      { name: \"44\", displayOrder: 16 },\n      { name: \"45\", displayOrder: 17 },\n      { name: \"46\", displayOrder: 18 },\n      { name: \"47\", displayOrder: 19 },\n      { name: \"48\", displayOrder: 20 },\n    ];\n\n    standardSizes.forEach((size) => {\n      const id = randomUUID();\n      const createdAt = new Date().toISOString();\n      this.sizes.set(id, { id, ...size, createdAt });\n    });\n  }\n\n  async getAllSizes(): Promise<Size[]> {\n    return Array.from(this.sizes.values()).sort((a, b) => a.displayOrder - b.displayOrder);\n  }\n\n  async createSize(insertSize: InsertSize): Promise<Size> {\n    const id = randomUUID();\n    const createdAt = new Date().toISOString();\n    const size: Size = {\n      ...insertSize,\n      id,\n      displayOrder: insertSize.displayOrder ?? 0,\n      createdAt,\n    };\n    this.sizes.set(id, size);\n    return size;\n  }\n\n  async deleteSize(id: string): Promise<void> {\n    this.sizes.delete(id);\n    // Also delete associated product sizes\n    Array.from(this.productSizes.values())\n      .filter((ps) => ps.sizeId === id)\n      .forEach((ps) => this.productSizes.delete(ps.id));\n  }\n\n  async getProductSizes(productId: string): Promise<(ProductSize & { size: Size })[]> {\n    const productSizesList = Array.from(this.productSizes.values())\n      .filter((ps) => ps.productId === productId);\n\n    return productSizesList.map((ps) => {\n      const size = this.sizes.get(ps.sizeId);\n      return {\n        ...ps,\n        size: size!,\n      };\n    }).filter((ps) => ps.size !== undefined);\n  }\n\n  async getProductWithSizes(productId: string): Promise<ProductWithSizes | undefined> {\n    const product = await this.getProduct(productId);\n    if (!product) return undefined;\n\n    // Get sizes for the product (empty array if no sizes)\n    const sizes = await this.getProductSizes(productId);\n    \n    // Always return the product, with empty sizes array if no sizes exist\n    return {\n      ...product,\n      sizes: sizes.length > 0 ? sizes : undefined,\n    };\n  }\n\n  async addProductSize(productId: string, sizeId: string, stock: number): Promise<ProductSize> {\n    // Validate that size exists\n    const size = this.sizes.get(sizeId);\n    if (!size) {\n      throw new Error(`Size with id ${sizeId} not found`);\n    }\n\n    // Validate that product exists\n    const product = this.products.get(productId);\n    if (!product) {\n      throw new Error(`Product with id ${productId} not found`);\n    }\n\n    // Check for duplicates\n    const existingProductSize = Array.from(this.productSizes.values()).find(\n      (ps) => ps.productId === productId && ps.sizeId === sizeId\n    );\n    if (existingProductSize) {\n      throw new Error(`Size ${size.name} already added to this product`);\n    }\n\n    // Validate stock is non-negative\n    if (stock < 0) {\n      throw new Error(\"Stock cannot be negative\");\n    }\n\n    const id = randomUUID();\n    const createdAt = new Date().toISOString();\n    const productSize: ProductSize = {\n      id,\n      productId,\n      sizeId,\n      stock,\n      createdAt,\n    };\n    this.productSizes.set(id, productSize);\n\n    // Update product.hasSizes to true if this is the first size\n    if (!product.hasSizes) {\n      product.hasSizes = true;\n      this.products.set(productId, product);\n    }\n\n    return productSize;\n  }\n\n  async updateProductSizeStock(\n    productId: string,\n    sizeId: string,\n    stock: number\n  ): Promise<ProductSize | undefined> {\n    // Validate stock is non-negative\n    if (stock < 0) {\n      throw new Error(\"Stock cannot be negative\");\n    }\n\n    // Validate that size exists\n    const size = this.sizes.get(sizeId);\n    if (!size) {\n      throw new Error(`Size with id ${sizeId} not found`);\n    }\n\n    const productSize = Array.from(this.productSizes.values()).find(\n      (ps) => ps.productId === productId && ps.sizeId === sizeId\n    );\n    if (!productSize) return undefined;\n\n    productSize.stock = stock;\n    this.productSizes.set(productSize.id, productSize);\n    return productSize;\n  }\n\n  async deleteProductSize(productId: string, sizeId: string): Promise<void> {\n    const productSize = Array.from(this.productSizes.values()).find(\n      (ps) => ps.productId === productId && ps.sizeId === sizeId\n    );\n    if (productSize) {\n      this.productSizes.delete(productSize.id);\n\n      // Check if this was the last size for this product\n      const remainingSizes = Array.from(this.productSizes.values()).filter(\n        (ps) => ps.productId === productId\n      );\n      \n      // If no sizes remain, update product.hasSizes to false\n      if (remainingSizes.length === 0) {\n        const product = this.products.get(productId);\n        if (product && product.hasSizes) {\n          product.hasSizes = false;\n          this.products.set(productId, product);\n        }\n      }\n    }\n  }\n}\n\nexport const storage = new MemStorage();","size_bytes":20491},"public/src/components/ui/aspect-ratio.tsx":{"content":"import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\"\n\nconst AspectRatio = AspectRatioPrimitive.Root\n\nexport { AspectRatio }\n","size_bytes":140},"public/src/components/Header.tsx":{"content":"\nimport { Link } from \"wouter\";\nimport { ShoppingCart, Menu, X, Search } from \"lucide-react\";\nimport { Button } from \"./ui/button\";\nimport { Badge } from \"./ui/badge\";\nimport { Input } from \"./ui/input\";\nimport { useState, useEffect } from \"react\";\nimport { SearchBar } from \"./SearchBar\";\n\nexport function Header({ cartItemCount = 0 }: { cartItemCount?: number }) {\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\n  const [isScrolled, setIsScrolled] = useState(false);\n\n  useEffect(() => {\n    const handleScroll = () => {\n      setIsScrolled(window.scrollY > 10);\n    };\n    window.addEventListener(\"scroll\", handleScroll);\n    return () => window.removeEventListener(\"scroll\", handleScroll);\n  }, []);\n\n  return (\n    <header\n      className={`sticky top-0 z-50 bg-white/98 backdrop-blur-md transition-all duration-300 ${\n        isScrolled ? \"shadow-sm border-b border-gray-100\" : \"\"\n      }`}\n    >\n      <div className=\"max-w-7xl mx-auto\">\n        {/* Main Header Row */}\n        <div className=\"flex items-center justify-between px-4 sm:px-6 py-4 gap-4\">\n          {/* Logo */}\n          <Link\n            href=\"/\"\n            className=\"flex items-center gap-2 flex-shrink-0 animate-fade-in group\"\n          >\n            <h1 className=\"text-2xl sm:text-3xl font-bold tracking-tight\">\n              <span className=\"text-black\">BHP</span>{\" \"}\n              <span className=\"text-primary transition-colors\">PERFECT</span>\n            </h1>\n          </Link>\n\n          {/* Search Bar - Desktop */}\n          <div className=\"hidden md:block flex-1 max-w-xl mx-8\">\n            <SearchBar />\n          </div>\n\n          {/* Right Block - Cart & Mobile Menu */}\n          <div className=\"flex items-center gap-2\">\n            <Link href=\"/koszyk\">\n              <Button \n                variant=\"ghost\" \n                size=\"icon\" \n                className=\"relative transition-minimal hover:bg-primary/10\"\n              >\n                <ShoppingCart className=\"h-5 w-5\" />\n                {cartItemCount > 0 && (\n                  <Badge className=\"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 bg-primary text-black text-xs font-bold border-2 border-white\">\n                    {cartItemCount}\n                  </Badge>\n                )}\n              </Button>\n            </Link>\n\n            <Button\n              variant=\"ghost\"\n              size=\"icon\"\n              className=\"md:hidden transition-minimal\"\n              onClick={() => setMobileMenuOpen(!mobileMenuOpen)}\n            >\n              {mobileMenuOpen ? <X className=\"h-5 w-5\" /> : <Menu className=\"h-5 w-5\" />}\n            </Button>\n          </div>\n        </div>\n\n        {/* Search Bar - Mobile */}\n        <div className=\"md:hidden px-4 pb-3\">\n          <SearchBar />\n        </div>\n\n        {/* Desktop Navigation - Clean Categories */}\n        <nav className=\"hidden md:flex items-center justify-center gap-1 px-6 py-2 border-t border-gray-100\">\n          <Link\n            href=\"/sklep\"\n            className=\"px-4 py-2 text-sm font-medium text-gray-700 hover:text-primary transition-colors relative group\"\n          >\n            Wszystkie produkty\n            <span className=\"absolute bottom-0 left-0 w-0 h-0.5 bg-primary transition-all group-hover:w-full\"></span>\n          </Link>\n          <Link\n            href=\"/sklep?category=odziez-robocza\"\n            className=\"px-4 py-2 text-sm font-medium text-gray-700 hover:text-primary transition-colors relative group\"\n          >\n            Odzież robocza\n            <span className=\"absolute bottom-0 left-0 w-0 h-0.5 bg-primary transition-all group-hover:w-full\"></span>\n          </Link>\n          <Link\n            href=\"/sklep?category=obuwie\"\n            className=\"px-4 py-2 text-sm font-medium text-gray-700 hover:text-primary transition-colors relative group\"\n          >\n            Obuwie BHP\n            <span className=\"absolute bottom-0 left-0 w-0 h-0.5 bg-primary transition-all group-hover:w-full\"></span>\n          </Link>\n          <Link\n            href=\"/sklep?category=rekawice\"\n            className=\"px-4 py-2 text-sm font-medium text-gray-700 hover:text-primary transition-colors relative group\"\n          >\n            Rękawice\n            <span className=\"absolute bottom-0 left-0 w-0 h-0.5 bg-primary transition-all group-hover:w-full\"></span>\n          </Link>\n          <Link\n            href=\"/sklep?category=ochrona-glowy\"\n            className=\"px-4 py-2 text-sm font-medium text-gray-700 hover:text-primary transition-colors relative group\"\n          >\n            Ochrona głowy\n            <span className=\"absolute bottom-0 left-0 w-0 h-0.5 bg-primary transition-all group-hover:w-full\"></span>\n          </Link>\n          <Link\n            href=\"/kontakt\"\n            className=\"px-4 py-2 text-sm font-medium text-gray-700 hover:text-primary transition-colors relative group\"\n          >\n            Kontakt\n            <span className=\"absolute bottom-0 left-0 w-0 h-0.5 bg-primary transition-all group-hover:w-full\"></span>\n          </Link>\n        </nav>\n\n        {/* Mobile Menu */}\n        {mobileMenuOpen && (\n          <nav className=\"md:hidden border-t border-gray-100 bg-white animate-slide-down\">\n            <div className=\"py-3 px-4 space-y-1\">\n              <Link\n                href=\"/sklep\"\n                className=\"block py-2.5 px-4 text-sm font-medium text-gray-700 hover:bg-gray-50 hover:text-primary rounded-md transition-colors\"\n                onClick={() => setMobileMenuOpen(false)}\n              >\n                Wszystkie produkty\n              </Link>\n              <Link\n                href=\"/sklep?category=odziez-robocza\"\n                className=\"block py-2.5 px-4 text-sm font-medium text-gray-700 hover:bg-gray-50 hover:text-primary rounded-md transition-colors\"\n                onClick={() => setMobileMenuOpen(false)}\n              >\n                Odzież robocza\n              </Link>\n              <Link\n                href=\"/sklep?category=obuwie\"\n                className=\"block py-2.5 px-4 text-sm font-medium text-gray-700 hover:bg-gray-50 hover:text-primary rounded-md transition-colors\"\n                onClick={() => setMobileMenuOpen(false)}\n              >\n                Obuwie BHP\n              </Link>\n              <Link\n                href=\"/sklep?category=rekawice\"\n                className=\"block py-2.5 px-4 text-sm font-medium text-gray-700 hover:bg-gray-50 hover:text-primary rounded-md transition-colors\"\n                onClick={() => setMobileMenuOpen(false)}\n              >\n                Rękawice\n              </Link>\n              <Link\n                href=\"/sklep?category=ochrona-glowy\"\n                className=\"block py-2.5 px-4 text-sm font-medium text-gray-700 hover:bg-gray-50 hover:text-primary rounded-md transition-colors\"\n                onClick={() => setMobileMenuOpen(false)}\n              >\n                Ochrona głowy\n              </Link>\n              <Link\n                href=\"/kontakt\"\n                className=\"block py-2.5 px-4 text-sm font-medium text-gray-700 hover:bg-gray-50 hover:text-primary rounded-md transition-colors\"\n                onClick={() => setMobileMenuOpen(false)}\n              >\n                Kontakt\n              </Link>\n            </div>\n          </nav>\n        )}\n      </div>\n    </header>\n  );\n}\n","size_bytes":7362},"public/src/pages/AdminLogin.tsx":{"content":"import { useLocation } from \"wouter\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport { Button } from \"../components/ui/button\";\nimport { Card } from \"../components/ui/card\";\nimport { useToast } from \"../hooks/use-toast\";\nimport { apiRequest } from \"../lib/queryClient\";\nimport { Shield } from \"lucide-react\";\n\nexport default function AdminLogin() {\n  const [, setLocation] = useLocation();\n  const { toast } = useToast();\n\n  const testLoginMutation = useMutation({\n    mutationFn: async () => {\n      return await apiRequest(\"POST\", \"/api/auth/test-login\", {});\n    },\n    onSuccess: (data: any) => {\n      localStorage.setItem(\"token\", data.token);\n      localStorage.setItem(\"user\", JSON.stringify(data.user));\n      toast({\n        title: \"Zalogowano pomyślnie\",\n        description: `Witaj, ${data.user.username}!`,\n      });\n      setTimeout(() => setLocation(\"/admin\"), 1000);\n    },\n    onError: (error: any) => {\n      toast({\n        title: \"Błąd logowania\",\n        description: error.message || \"Nie udało się zalogować\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleTestLogin = () => {\n    testLoginMutation.mutate();\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black flex items-center justify-center py-16 px-4\">\n      <div className=\"w-full max-w-lg\">\n        <div className=\"text-center mb-8\">\n          <div className=\"inline-flex items-center justify-center w-20 h-20 bg-primary rounded-full mb-6 shadow-xl\">\n            <Shield className=\"h-10 w-10 text-black\" />\n          </div>\n          <h1 className=\"text-5xl font-bold mb-3 text-white\">Panel administracyjny</h1>\n          <p className=\"text-gray-400 text-lg\">BHP Perfect</p>\n        </div>\n\n        <Card className=\"p-10 bg-black/40 backdrop-blur-lg border-2 border-primary/30 shadow-2xl\">\n          <div className=\"text-center space-y-4\">\n            <div className=\"space-y-2 mb-6\">\n              <h2 className=\"text-2xl font-bold text-white\">Wejście testowe</h2>\n              <p className=\"text-gray-400 text-sm\">\n                Szybki dostęp do panelu administracyjnego<br/>\n                bez wprowadzania danych logowania\n              </p>\n            </div>\n            \n            <Button\n              onClick={handleTestLogin}\n              size=\"lg\"\n              className=\"w-full bg-primary text-black hover:bg-primary/90 font-bold py-6 text-xl shadow-lg hover:shadow-primary/50 transition-all\"\n              disabled={testLoginMutation.isPending}\n              data-testid=\"button-test-login\"\n            >\n              {testLoginMutation.isPending ? (\n                <span className=\"flex items-center justify-center gap-2\">\n                  <span className=\"animate-spin\">⏳</span>\n                  Logowanie...\n                </span>\n              ) : (\n                <span className=\"flex items-center justify-center gap-2\">\n                  <Shield className=\"h-6 w-6\" />\n                  Wejdź do panelu administracyjnego\n                </span>\n              )}\n            </Button>\n\n            <div className=\"mt-6 pt-6 border-t border-gray-700\">\n              <p className=\"text-xs text-gray-500\">\n                💡 <strong>Uwaga:</strong> Ten tryb działa tylko w środowisku deweloperskim.<br/>\n                W wersji produkcyjnej wymagane będzie standardowe logowanie.\n              </p>\n            </div>\n          </div>\n        </Card>\n      </div>\n    </div>\n  );\n}\n","size_bytes":3493},"public/src/components/ui/alert-dialog.tsx":{"content":"import * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"../../lib/utils\"\nimport { buttonVariants } from \"./button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","size_bytes":4410},"public/src/components/ui/badge.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst badgeVariants = cva(\n  // Whitespace-nowrap: Badges should never wrap.\n  \"whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\" +\n  \" hover-elevate \" ,\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground shadow-xs\",\n        secondary: \"border-transparent bg-secondary text-secondary-foreground\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground shadow-xs\",\n\n        outline: \" border [border-color:var(--badge-outline)] shadow-xs\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  );\n}\n\nexport { Badge, badgeVariants }\n","size_bytes":1206},"public/src/pages/Contact.tsx":{"content":"\nimport { Card } from \"../components/ui/card\";\nimport { Mail, Phone, MapPin, Clock } from \"lucide-react\";\nimport { MapComponent } from \"../components/MapComponent\";\n\nexport default function Contact() {\n  const contactInfo = [\n    {\n      icon: Phone,\n      title: \"Telefon\",\n      content: \"+48 123 456 789\",\n      link: \"tel:+48123456789\",\n    },\n    {\n      icon: Mail,\n      title: \"Email\",\n      content: \"kontakt@sklepbhp.pl\",\n      link: \"mailto:kontakt@sklepbhp.pl\",\n    },\n    {\n      icon: MapPin,\n      title: \"Adres\",\n      content: \"Bohaterów Modlina 17, 05-100 Nowy Dwór Mazowiecki\",\n      link: null,\n    },\n    {\n      icon: Clock,\n      title: \"Godziny otwarcia\",\n      content: \"Pn-Pt: 8:00-17:00, Sob: 9:00-14:00\",\n      link: null,\n    },\n  ];\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Hero Section - Minimalist 2025 */}\n      <section className=\"bg-black text-white py-20 animate-fade-in\">\n        <div className=\"max-w-7xl mx-auto px-4 text-center\">\n          <h1 className=\"text-5xl md:text-6xl font-bold mb-6 tracking-tight\">\n            Kontakt\n          </h1>\n          <p className=\"text-xl md:text-2xl text-gray-300 max-w-3xl mx-auto leading-relaxed\">\n            Skontaktuj się z nami - chętnie odpowiemy na wszystkie pytania\n          </p>\n        </div>\n      </section>\n\n      {/* Contact Cards - Enhanced with 2025 Design */}\n      <section className=\"py-16 md:py-20\">\n        <div className=\"max-w-7xl mx-auto px-4\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-16\">\n            {contactInfo.map((info, index) => (\n              <Card \n                key={index} \n                className=\"p-6 text-center bg-white border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 hover:-translate-y-1 group animate-slide-up\"\n                style={{ animationDelay: `${index * 100}ms` }}\n              >\n                <div className=\"bg-primary rounded-full p-4 inline-flex mb-4 transition-transform duration-300 group-hover:scale-110 group-hover:rotate-6\">\n                  <info.icon className=\"h-6 w-6 text-black\" />\n                </div>\n                <h3 className=\"font-semibold text-lg mb-2 text-black\">\n                  {info.title}\n                </h3>\n                {info.link ? (\n                  <a\n                    href={info.link}\n                    className=\"text-gray-600 hover:text-primary transition-colors duration-200 font-medium\"\n                    data-testid={`link-${info.title.toLowerCase()}`}\n                  >\n                    {info.content}\n                  </a>\n                ) : (\n                  <p className=\"text-gray-600 text-sm leading-relaxed\">\n                    {info.content}\n                  </p>\n                )}\n              </Card>\n            ))}\n          </div>\n\n          {/* Additional Info - B2B Focus */}\n          <Card className=\"p-8 md:p-12 bg-white border-0 shadow-lg mb-12 animate-fade-in-up\">\n            <div className=\"max-w-3xl mx-auto\">\n              <h2 className=\"text-3xl font-bold mb-6 text-black tracking-tight\">\n                Masz pytania?\n              </h2>\n              <p className=\"text-lg text-gray-600 mb-6 leading-relaxed\">\n                Nasz zespół ekspertów jest do Twojej dyspozycji. Skontaktuj się z\n                nami telefonicznie lub mailowo, a pomożemy Ci dobrać odpowiednie\n                produkty BHP dla Twojej firmy.\n              </p>\n              <p className=\"text-lg text-gray-600 mb-8 leading-relaxed\">\n                Oferujemy również doradztwo w zakresie doboru środków ochrony\n                osobistej oraz możliwość zamówień hurtowych z atrakcyjnymi rabatami.\n              </p>\n              \n              {/* B2B Special Block - Yellow Accent */}\n              <div className=\"bg-primary/10 border-l-4 border-primary p-6 rounded-lg hover:bg-primary/15 transition-colors duration-300\">\n                <div className=\"flex items-start gap-3\">\n                  <div className=\"bg-primary rounded-full p-2 flex-shrink-0\">\n                    <Phone className=\"h-5 w-5 text-black\" />\n                  </div>\n                  <div>\n                    <p className=\"font-bold text-black text-lg mb-2\">\n                      Zamówienia hurtowe\n                    </p>\n                    <p className=\"text-sm text-gray-700 leading-relaxed\">\n                      Dla firm oferujemy specjalne warunki współpracy i rabaty. \n                      Skontaktuj się z nami, aby uzyskać ofertę dopasowaną do Twoich potrzeb.\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </Card>\n\n          {/* Map Section - Modern Gradient Border */}\n          <div className=\"animate-fade-in-up\" style={{ animationDelay: '200ms' }}>\n            <h2 className=\"text-3xl font-bold mb-8 text-center text-black tracking-tight\">\n              Nasza <span className=\"text-primary\">Lokalizacja</span>\n            </h2>\n            <p className=\"text-center text-gray-600 mb-8 text-lg\">\n              Bohaterów Modlina 17, 05-100 Nowy Dwór Mazowiecki\n            </p>\n            <div className=\"w-full\">\n              <MapComponent />\n            </div>\n          </div>\n        </div>\n      </section>\n    </div>\n  );\n}\n","size_bytes":5347},"public/src/components/ui/dropdown-menu.tsx":{"content":"import * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","size_bytes":7613},"public/src/components/ui/radio-group.tsx":{"content":"import * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n","size_bytes":1471},"public/src/components/ui/breadcrumb.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<\"nav\"> & {\n    separator?: React.ReactNode\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nconst BreadcrumbList = React.forwardRef<\n  HTMLOListElement,\n  React.ComponentPropsWithoutRef<\"ol\">\n>(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n      className\n    )}\n    {...props}\n  />\n))\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nconst BreadcrumbItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentPropsWithoutRef<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\n    {...props}\n  />\n))\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<\"a\"> & {\n    asChild?: boolean\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(\"transition-colors hover:text-foreground\", className)}\n      {...props}\n    />\n  )\n})\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nconst BreadcrumbPage = React.forwardRef<\n  HTMLSpanElement,\n  React.ComponentPropsWithoutRef<\"span\">\n>(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn(\"font-normal text-foreground\", className)}\n    {...props}\n  />\n))\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"[&>svg]:w-3.5 [&>svg]:h-3.5\", className)}\n    {...props}\n  >\n    {children ?? <ChevronRight />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n)\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n","size_bytes":2716},"public/src/components/ui/context-menu.tsx":{"content":"import * as React from \"react\"\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst ContextMenu = ContextMenuPrimitive.Root\n\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger\n\nconst ContextMenuGroup = ContextMenuPrimitive.Group\n\nconst ContextMenuPortal = ContextMenuPrimitive.Portal\n\nconst ContextMenuSub = ContextMenuPrimitive.Sub\n\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup\n\nconst ContextMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <ContextMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </ContextMenuPrimitive.SubTrigger>\n))\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName\n\nconst ContextMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName\n\nconst ContextMenuContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Portal>\n    <ContextMenuPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </ContextMenuPrimitive.Portal>\n))\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName\n\nconst ContextMenuItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName\n\nconst ContextMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <ContextMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.CheckboxItem>\n))\nContextMenuCheckboxItem.displayName =\n  ContextMenuPrimitive.CheckboxItem.displayName\n\nconst ContextMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <ContextMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.RadioItem>\n))\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName\n\nconst ContextMenuLabel = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold text-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName\n\nconst ContextMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName\n\nconst ContextMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nContextMenuShortcut.displayName = \"ContextMenuShortcut\"\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n}\n","size_bytes":7432},"public/src/components/ui/select.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","size_bytes":5745},"server/index.ts":{"content":"import express, { type Request, Response, NextFunction } from \"express\";\nimport { registerRoutes } from \"./routes\";\nimport { setupVite, serveStatic, log } from \"./vite\";\n\nconst app = express();\napp.use(express.json());\napp.use(express.urlencoded({ extended: false }));\n\napp.use((req, res, next) => {\n  const start = Date.now();\n  const path = req.path;\n  let capturedJsonResponse: Record<string, any> | undefined = undefined;\n\n  const originalResJson = res.json;\n  res.json = function (bodyJson, ...args) {\n    capturedJsonResponse = bodyJson;\n    return originalResJson.apply(res, [bodyJson, ...args]);\n  };\n\n  res.on(\"finish\", () => {\n    const duration = Date.now() - start;\n    if (path.startsWith(\"/api\")) {\n      let logLine = `${req.method} ${path} ${res.statusCode} in ${duration}ms`;\n      if (capturedJsonResponse) {\n        logLine += ` :: ${JSON.stringify(capturedJsonResponse)}`;\n      }\n\n      if (logLine.length > 80) {\n        logLine = logLine.slice(0, 79) + \"…\";\n      }\n\n      log(logLine);\n    }\n  });\n\n  next();\n});\n\n(async () => {\n  const server = await registerRoutes(app);\n\n  app.use((err: any, _req: Request, res: Response, _next: NextFunction) => {\n    const status = err.status || err.statusCode || 500;\n    const message = err.message || \"Internal Server Error\";\n\n    res.status(status).json({ message });\n    throw err;\n  });\n\n  // importantly only setup vite in development and after\n  // setting up all the other routes so the catch-all route\n  // doesn't interfere with the other routes\n  if (app.get(\"env\") === \"development\") {\n    await setupVite(app, server);\n  } else {\n    serveStatic(app);\n  }\n\n  // ALWAYS serve the app on the port specified in the environment variable PORT\n  // Other ports are firewalled. Default to 5000 if not specified.\n  // this serves both the API and the client.\n  // It is the only port that is not firewalled.\n  const port = parseInt(process.env.PORT || \"5000\", 10);\n  server.listen(\n    {\n      port,\n      host: \"127.0.0.1\", // ✅ IPv4, работает на Windowsр\n    },\n    () => {\n      log(`✅ Server running at http://127.0.0.1:${port}`);\n    }\n  );\n})();\n","size_bytes":2137},"public/src/assets/logo.tsx":{"content":"\nexport function BHPLogo({ className = \"h-8 w-auto\" }: { className?: string }) {\n  return (\n    <svg \n      viewBox=\"0 0 200 60\" \n      className={className}\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <defs>\n        <linearGradient id=\"yellowGradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n          <stop offset=\"0%\" style={{ stopColor: '#ffd000', stopOpacity: 1 }} />\n          <stop offset=\"100%\" style={{ stopColor: '#ffed4e', stopOpacity: 1 }} />\n        </linearGradient>\n      </defs>\n      \n      {/* Shield background */}\n      <path \n        d=\"M 30 10 L 50 10 L 55 15 L 55 40 L 40 50 L 25 40 L 25 15 Z\" \n        fill=\"url(#yellowGradient)\"\n      />\n      \n      {/* BHP text inside shield */}\n      <text \n        x=\"40\" \n        y=\"35\" \n        fontFamily=\"Inter, sans-serif\" \n        fontSize=\"16\" \n        fontWeight=\"800\" \n        fill=\"#0b0b0b\"\n        textAnchor=\"middle\"\n      >\n        BHP\n      </text>\n      \n      {/* PERFECT text */}\n      <text \n        x=\"110\" \n        y=\"38\" \n        fontFamily=\"Inter, sans-serif\" \n        fontSize=\"28\" \n        fontWeight=\"800\" \n        fill=\"#ffd000\"\n      >\n        PERFECT\n      </text>\n    </svg>\n  );\n}\n","size_bytes":1178},"public/src/config/branding.ts":{"content":"\nexport const BRANDING = {\n  siteName: \"Sklep BHP\",\n  siteNameAccent: \"Perfect\",\n  colors: {\n    primary: \"#ffd000\", // Yellow for \"Perfect\"\n    primaryForeground: \"#0b0b0b\", // Black\n    siteName: \"#ffffff\", // White for \"Sklep BHP\"\n    black: \"#000000\",\n    white: \"#ffffff\",\n  }\n} as const;\n","size_bytes":294},"public/src/pages/Login.tsx":{"content":"\nimport { useState } from \"react\";\nimport { useLocation } from \"wouter\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport { Button } from \"../components/ui/button\";\nimport { Card } from \"../components/ui/card\";\nimport { Input } from \"../components/ui/input\";\nimport { Label } from \"../components/ui/label\";\nimport { useToast } from \"../hooks/use-toast\";\nimport { apiRequest } from \"../lib/queryClient\";\nimport { LogIn, Mail, Lock } from \"lucide-react\";\n\nexport default function Login() {\n  const [, setLocation] = useLocation();\n  const { toast } = useToast();\n  const [formData, setFormData] = useState({\n    email: \"\",\n    password: \"\",\n  });\n\n  const loginMutation = useMutation({\n    mutationFn: async () => {\n      return await apiRequest(\"POST\", \"/api/auth/login\", formData);\n    },\n    onSuccess: (data) => {\n      localStorage.setItem(\"token\", data.token);\n      localStorage.setItem(\"user\", JSON.stringify(data.user));\n      toast({\n        title: \"Zalogowano pomyślnie!\",\n        description: `Witaj z powrotem, ${data.user.username}!`,\n      });\n      setLocation(\"/profil\");\n    },\n    onError: () => {\n      toast({\n        title: \"Błąd logowania\",\n        description: \"Nieprawidłowy email lub hasło\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    loginMutation.mutate();\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex items-center justify-center py-16 px-4\">\n      <Card className=\"w-full max-w-md p-8\">\n        <div className=\"text-center mb-8\">\n          <LogIn className=\"h-16 w-16 text-primary mx-auto mb-4\" />\n          <h1 className=\"text-3xl font-bold mb-2\">Zaloguj się</h1>\n          <p className=\"text-muted-foreground\">\n            Uzyskaj dostęp do swojego konta BHP Perfect\n          </p>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          <div>\n            <Label htmlFor=\"email\">Email</Label>\n            <div className=\"relative\">\n              <Mail className=\"absolute left-3 top-3 h-5 w-5 text-muted-foreground\" />\n              <Input\n                id=\"email\"\n                type=\"email\"\n                required\n                value={formData.email}\n                onChange={(e) =>\n                  setFormData({ ...formData, email: e.target.value })\n                }\n                placeholder=\"jan@example.com\"\n                className=\"pl-10\"\n              />\n            </div>\n          </div>\n\n          <div>\n            <Label htmlFor=\"password\">Hasło</Label>\n            <div className=\"relative\">\n              <Lock className=\"absolute left-3 top-3 h-5 w-5 text-muted-foreground\" />\n              <Input\n                id=\"password\"\n                type=\"password\"\n                required\n                value={formData.password}\n                onChange={(e) =>\n                  setFormData({ ...formData, password: e.target.value })\n                }\n                placeholder=\"••••••••\"\n                className=\"pl-10\"\n              />\n            </div>\n          </div>\n\n          <Button\n            type=\"submit\"\n            size=\"lg\"\n            className=\"w-full bg-primary text-primary-foreground\"\n            disabled={loginMutation.isPending}\n          >\n            {loginMutation.isPending ? \"Logowanie...\" : \"Zaloguj się\"}\n          </Button>\n        </form>\n\n        <div className=\"mt-6 text-center\">\n          <p className=\"text-sm text-muted-foreground\">\n            Nie masz konta?{\" \"}\n            <button\n              onClick={() => setLocation(\"/rejestracja\")}\n              className=\"text-primary font-medium hover:underline\"\n            >\n              Zarejestruj się\n            </button>\n          </p>\n        </div>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":3822},"public/src/pages/UserProfile.tsx":{"content":"\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { useLocation } from \"wouter\";\nimport { Card } from \"../components/ui/card\";\nimport { Button } from \"../components/ui/button\";\nimport { Badge } from \"../components/ui/badge\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"../components/ui/tabs\";\nimport { useToast } from \"../hooks/use-toast\";\nimport { apiRequest, queryClient } from \"../lib/queryClient\";\nimport { User, Package, Heart, LogOut, ShoppingBag } from \"lucide-react\";\nimport { useState, useEffect } from \"react\";\nimport type { Order, Product } from \"../../../shared/schema\";\n\nexport default function UserProfile() {\n  const [location, setLocation] = useLocation();\n  const { toast } = useToast();\n  const [user, setUser] = useState<any>(null);\n\n  useEffect(() => {\n    const userData = localStorage.getItem(\"user\");\n    if (!userData) {\n      setLocation(\"/logowanie\");\n      return;\n    }\n    setUser(JSON.parse(userData));\n  }, [setLocation]);\n\n  const { data: orders = [] } = useQuery<Order[]>({\n    queryKey: [\"user-orders\"],\n    queryFn: async () => {\n      const allOrders = await apiRequest(\"GET\", \"/api/orders\");\n      return allOrders.filter((order: Order) => order.customerEmail === user?.email);\n    },\n    enabled: !!user,\n  });\n\n  const { data: wishlist = [] } = useQuery<Product[]>({\n    queryKey: [\"wishlist\"],\n    queryFn: async () => {\n      return await apiRequest(\"GET\", \"/api/wishlist\");\n    },\n    enabled: !!user,\n  });\n\n  const removeFromWishlistMutation = useMutation({\n    mutationFn: async (productId: string) => {\n      return await apiRequest(\"DELETE\", `/api/wishlist/${productId}`);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"wishlist\"] });\n      toast({\n        title: \"Usunięto z ulubionych\",\n        description: \"Produkt został usunięty z listy życzeń\",\n      });\n    },\n  });\n\n  const handleLogout = () => {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"user\");\n    toast({\n      title: \"Wylogowano\",\n      description: \"Do zobaczenia!\",\n    });\n    setLocation(\"/\");\n  };\n\n  if (!user) return null;\n\n  const getStatusBadge = (status: string) => {\n    const variants: Record<string, \"default\" | \"secondary\" | \"destructive\"> = {\n      completed: \"default\",\n      processing: \"secondary\",\n      pending: \"secondary\",\n      cancelled: \"destructive\",\n    };\n    return variants[status] || \"secondary\";\n  };\n\n  const getStatusText = (status: string) => {\n    const texts: Record<string, string> = {\n      pending: \"Oczekuje\",\n      processing: \"W realizacji\",\n      completed: \"Zrealizowane\",\n      cancelled: \"Anulowane\",\n    };\n    return texts[status] || status;\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"max-w-7xl mx-auto px-4 py-8\">\n        {/* Header */}\n        <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4\">\n          <div className=\"flex items-center gap-4\">\n            <div className=\"w-16 h-16 bg-primary text-primary-foreground rounded-full flex items-center justify-center text-2xl font-bold\">\n              {user.username.charAt(0).toUpperCase()}\n            </div>\n            <div>\n              <h1 className=\"text-3xl font-bold\">{user.username}</h1>\n              <p className=\"text-muted-foreground\">{user.email}</p>\n            </div>\n          </div>\n          <Button variant=\"outline\" onClick={handleLogout}>\n            <LogOut className=\"h-5 w-5 mr-2\" />\n            Wyloguj się\n          </Button>\n        </div>\n\n        {/* Tabs */}\n        <Tabs defaultValue=\"orders\" className=\"w-full\">\n          <TabsList className=\"grid w-full grid-cols-2 max-w-md\">\n            <TabsTrigger value=\"orders\">\n              <Package className=\"h-4 w-4 mr-2\" />\n              Zamówienia ({orders.length})\n            </TabsTrigger>\n            <TabsTrigger value=\"wishlist\">\n              <Heart className=\"h-4 w-4 mr-2\" />\n              Ulubione ({wishlist.length})\n            </TabsTrigger>\n          </TabsList>\n\n          {/* Orders Tab */}\n          <TabsContent value=\"orders\" className=\"mt-6\">\n            {orders.length === 0 ? (\n              <Card className=\"p-12 text-center\">\n                <ShoppingBag className=\"h-16 w-16 text-muted-foreground mx-auto mb-4\" />\n                <h3 className=\"text-xl font-bold mb-2\">Brak zamówień</h3>\n                <p className=\"text-muted-foreground mb-6\">\n                  Nie masz jeszcze żadnych zamówień\n                </p>\n                <Button onClick={() => setLocation(\"/sklep\")}>\n                  Przejdź do sklepu\n                </Button>\n              </Card>\n            ) : (\n              <div className=\"space-y-4\">\n                {orders.map((order) => {\n                  const items = JSON.parse(order.items);\n                  return (\n                    <Card key={order.id} className=\"p-6\">\n                      <div className=\"flex flex-col md:flex-row md:items-center md:justify-between mb-4\">\n                        <div>\n                          <h3 className=\"font-bold text-lg\">\n                            Zamówienie #{order.id.slice(0, 8)}\n                          </h3>\n                          <p className=\"text-sm text-muted-foreground\">\n                            {new Date(order.createdAt).toLocaleDateString(\"pl-PL\")}\n                          </p>\n                        </div>\n                        <div className=\"flex items-center gap-3 mt-2 md:mt-0\">\n                          <Badge variant={getStatusBadge(order.status)}>\n                            {getStatusText(order.status)}\n                          </Badge>\n                          <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            onClick={() => setLocation(`/sledzenie?id=${order.id}`)}\n                          >\n                            Śledź\n                          </Button>\n                        </div>\n                      </div>\n\n                      <div className=\"border-t pt-4 space-y-3\">\n                        {items.map((item: any, idx: number) => (\n                          <div key={idx} className=\"flex gap-3\">\n                            <img\n                              src={item.image}\n                              alt={item.name}\n                              className=\"w-16 h-16 object-cover rounded-md bg-gray-100\"\n                            />\n                            <div className=\"flex-1\">\n                              <h4 className=\"font-medium\">{item.name}</h4>\n                              <p className=\"text-sm text-muted-foreground\">\n                                {item.quantity} × {parseFloat(item.price).toFixed(2)} zł\n                              </p>\n                            </div>\n                          </div>\n                        ))}\n                      </div>\n\n                      <div className=\"border-t mt-4 pt-4 flex justify-between items-center\">\n                        <span className=\"text-muted-foreground\">Razem</span>\n                        <span className=\"text-xl font-bold\">\n                          {parseFloat(order.total).toFixed(2)} zł\n                        </span>\n                      </div>\n                    </Card>\n                  );\n                })}\n              </div>\n            )}\n          </TabsContent>\n\n          {/* Wishlist Tab */}\n          <TabsContent value=\"wishlist\" className=\"mt-6\">\n            {wishlist.length === 0 ? (\n              <Card className=\"p-12 text-center\">\n                <Heart className=\"h-16 w-16 text-muted-foreground mx-auto mb-4\" />\n                <h3 className=\"text-xl font-bold mb-2\">Brak ulubionych</h3>\n                <p className=\"text-muted-foreground mb-6\">\n                  Dodaj produkty do listy życzeń\n                </p>\n                <Button onClick={() => setLocation(\"/sklep\")}>\n                  Przeglądaj produkty\n                </Button>\n              </Card>\n            ) : (\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                {wishlist.map((product) => (\n                  <Card key={product.id} className=\"overflow-hidden\">\n                    <img\n                      src={product.image}\n                      alt={product.name}\n                      className=\"w-full h-48 object-cover\"\n                    />\n                    <div className=\"p-4\">\n                      <h3 className=\"font-bold text-lg mb-2\">{product.name}</h3>\n                      <p className=\"text-2xl font-bold text-primary mb-4\">\n                        {parseFloat(product.price).toFixed(2)} zł\n                      </p>\n                      <div className=\"flex gap-2\">\n                        <Button\n                          className=\"flex-1\"\n                          onClick={() => setLocation(`/produkt/${product.id}`)}\n                        >\n                          Zobacz\n                        </Button>\n                        <Button\n                          variant=\"outline\"\n                          onClick={() => removeFromWishlistMutation.mutate(product.id)}\n                        >\n                          <Heart className=\"h-4 w-4 fill-current\" />\n                        </Button>\n                      </div>\n                    </div>\n                  </Card>\n                ))}\n              </div>\n            )}\n          </TabsContent>\n        </Tabs>\n      </div>\n    </div>\n  );\n}\n","size_bytes":9553},"public/src/pages/Register.tsx":{"content":"\nimport { useState } from \"react\";\nimport { useLocation } from \"wouter\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport { Button } from \"../components/ui/button\";\nimport { Card } from \"../components/ui/card\";\nimport { Input } from \"../components/ui/input\";\nimport { Label } from \"../components/ui/label\";\nimport { useToast } from \"../hooks/use-toast\";\nimport { apiRequest } from \"../lib/queryClient\";\nimport { UserPlus, Mail, Lock, User } from \"lucide-react\";\n\nexport default function Register() {\n  const [, setLocation] = useLocation();\n  const { toast } = useToast();\n  const [formData, setFormData] = useState({\n    username: \"\",\n    email: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n  });\n\n  const registerMutation = useMutation({\n    mutationFn: async () => {\n      if (formData.password !== formData.confirmPassword) {\n        throw new Error(\"Hasła nie są zgodne\");\n      }\n\n      return await apiRequest(\"POST\", \"/api/auth/register\", {\n        username: formData.username,\n        email: formData.email,\n        password: formData.password,\n      });\n    },\n    onSuccess: (data) => {\n      localStorage.setItem(\"token\", data.token);\n      localStorage.setItem(\"user\", JSON.stringify(data.user));\n      toast({\n        title: \"Konto utworzone!\",\n        description: \"Witamy w BHP Perfect!\",\n      });\n      setLocation(\"/profil\");\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Błąd rejestracji\",\n        description: error.message || \"Nie udało się utworzyć konta\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    registerMutation.mutate();\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex items-center justify-center py-16 px-4\">\n      <Card className=\"w-full max-w-md p-8\">\n        <div className=\"text-center mb-8\">\n          <UserPlus className=\"h-16 w-16 text-primary mx-auto mb-4\" />\n          <h1 className=\"text-3xl font-bold mb-2\">Utwórz konto</h1>\n          <p className=\"text-muted-foreground\">\n            Dołącz do BHP Perfect i zarządzaj swoimi zamówieniami\n          </p>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          <div>\n            <Label htmlFor=\"username\">Nazwa użytkownika *</Label>\n            <div className=\"relative\">\n              <User className=\"absolute left-3 top-3 h-5 w-5 text-muted-foreground\" />\n              <Input\n                id=\"username\"\n                type=\"text\"\n                required\n                minLength={3}\n                value={formData.username}\n                onChange={(e) =>\n                  setFormData({ ...formData, username: e.target.value })\n                }\n                placeholder=\"jan_kowalski\"\n                className=\"pl-10\"\n              />\n            </div>\n          </div>\n\n          <div>\n            <Label htmlFor=\"email\">Email *</Label>\n            <div className=\"relative\">\n              <Mail className=\"absolute left-3 top-3 h-5 w-5 text-muted-foreground\" />\n              <Input\n                id=\"email\"\n                type=\"email\"\n                required\n                value={formData.email}\n                onChange={(e) =>\n                  setFormData({ ...formData, email: e.target.value })\n                }\n                placeholder=\"jan@example.com\"\n                className=\"pl-10\"\n              />\n            </div>\n          </div>\n\n          <div>\n            <Label htmlFor=\"password\">Hasło *</Label>\n            <div className=\"relative\">\n              <Lock className=\"absolute left-3 top-3 h-5 w-5 text-muted-foreground\" />\n              <Input\n                id=\"password\"\n                type=\"password\"\n                required\n                minLength={6}\n                value={formData.password}\n                onChange={(e) =>\n                  setFormData({ ...formData, password: e.target.value })\n                }\n                placeholder=\"••••••••\"\n                className=\"pl-10\"\n              />\n            </div>\n            <p className=\"text-xs text-muted-foreground mt-1\">\n              Minimum 6 znaków\n            </p>\n          </div>\n\n          <div>\n            <Label htmlFor=\"confirmPassword\">Potwierdź hasło *</Label>\n            <div className=\"relative\">\n              <Lock className=\"absolute left-3 top-3 h-5 w-5 text-muted-foreground\" />\n              <Input\n                id=\"confirmPassword\"\n                type=\"password\"\n                required\n                minLength={6}\n                value={formData.confirmPassword}\n                onChange={(e) =>\n                  setFormData({ ...formData, confirmPassword: e.target.value })\n                }\n                placeholder=\"••••••••\"\n                className=\"pl-10\"\n              />\n            </div>\n          </div>\n\n          <Button\n            type=\"submit\"\n            size=\"lg\"\n            className=\"w-full bg-primary text-primary-foreground\"\n            disabled={registerMutation.isPending}\n          >\n            {registerMutation.isPending ? \"Tworzenie konta...\" : \"Utwórz konto\"}\n          </Button>\n        </form>\n\n        <div className=\"mt-6 text-center\">\n          <p className=\"text-sm text-muted-foreground\">\n            Masz już konto?{\" \"}\n            <button\n              onClick={() => setLocation(\"/logowanie\")}\n              className=\"text-primary font-medium hover:underline\"\n            >\n              Zaloguj się\n            </button>\n          </p>\n        </div>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":5611},"public/src/components/SearchBar.tsx":{"content":"import { useState, useEffect, useRef } from \"react\";\nimport { Search, X } from \"lucide-react\";\nimport { useLocation } from \"wouter\";\nimport { Input } from \"./ui/input\";\nimport { Button } from \"./ui/button\";\nimport { Card } from \"./ui/card\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport type { Product } from \"../../../shared/schema\";\n\nexport function SearchBar() {\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [isOpen, setIsOpen] = useState(false);\n  const [location, setLocation] = useLocation();\n  const searchRef = useRef<HTMLDivElement>(null);\n\n  const { data: products } = useQuery<Product[]>({\n    queryKey: [\"/api/products\"],\n  });\n\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (searchRef.current && !searchRef.current.contains(event.target as Node)) {\n        setIsOpen(false);\n      }\n    };\n\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n  }, []);\n\n  const filteredProducts = products?.filter((product) =>\n    product.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n    product.description.toLowerCase().includes(searchQuery.toLowerCase())\n  ) || [];\n\n  const handleProductClick = (id: string) => {\n    setLocation(`/produkt/${id}`);\n    setSearchQuery(\"\");\n    setIsOpen(false);\n  };\n\n  return (\n    <div className=\"relative\" ref={searchRef}>\n      <div className=\"relative\">\n        <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n        <Input\n          type=\"text\"\n          placeholder=\"Szukaj produktów...\"\n          value={searchQuery}\n          onChange={(e) => {\n            setSearchQuery(e.target.value);\n            setIsOpen(true);\n          }}\n          onFocus={() => setIsOpen(true)}\n          className=\"pl-9 pr-9\"\n        />\n        {searchQuery && (\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            className=\"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7\"\n            onClick={() => {\n              setSearchQuery(\"\");\n              setIsOpen(false);\n            }}\n          >\n            <X className=\"h-4 w-4\" />\n          </Button>\n        )}\n      </div>\n\n      {isOpen && searchQuery && (\n        <Card className=\"absolute top-full mt-2 w-full max-h-96 overflow-y-auto z-50\">\n          {filteredProducts.length > 0 ? (\n            <div className=\"p-2\">\n              {filteredProducts.slice(0, 5).map((product) => (\n                <button\n                  key={product.id}\n                  onClick={() => handleProductClick(product.id)}\n                  className=\"w-full flex items-center gap-3 p-3 hover:bg-accent rounded-lg transition-colors text-left\"\n                >\n                  <img\n                    src={product.image}\n                    alt={product.name}\n                    className=\"w-12 h-12 object-cover rounded bg-gray-100\"\n                  />\n                  <div className=\"flex-1\">\n                    <p className=\"font-medium text-sm\">{product.name}</p>\n                    <p className=\"text-primary font-bold\">{parseFloat(product.price).toFixed(2)} zł</p>\n                  </div>\n                </button>\n              ))}\n            </div>\n          ) : (\n            <div className=\"p-8 text-center text-muted-foreground\">\n              Nie znaleziono produktów\n            </div>\n          )}\n        </Card>\n      )}\n    </div>\n  );\n}\n\n\n","size_bytes":3485},"public/src/pages/TrackOrder.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { Card } from \"../components/ui/card\";\nimport { Input } from \"../components/ui/input\";\nimport { Button } from \"../components/ui/button\";\nimport { Badge } from \"../components/ui/badge\";\nimport { Package, Search, Clock, CheckCircle, XCircle, Truck } from \"lucide-react\";\nimport { apiRequest } from \"../lib/queryClient\";\nimport type { Order } from \"../../../shared/schema\";\n\nexport default function TrackOrder() {\n  const [orderId, setOrderId] = useState(\"\");\n  const [searchTriggered, setSearchTriggered] = useState(false);\n\n  // Check for order ID in URL parameters\n  useEffect(() => {\n    const params = new URLSearchParams(window.location.search);\n    const id = params.get(\"id\");\n    if (id) {\n      setOrderId(id);\n      setSearchTriggered(true);\n    }\n  }, []);\n\n  const { data: orders = [], isLoading } = useQuery<Order[]>({\n    queryKey: [\"orders\"],\n    queryFn: async () => {\n      return await apiRequest(\"GET\", \"/api/orders\");\n    },\n    enabled: searchTriggered,\n  });\n\n  // Ensure orders is an array before calling find\n  const foundOrder = Array.isArray(orders) ? orders.find(o =>\n    o.id.toLowerCase().includes(orderId.toLowerCase()) ||\n    o.id.slice(0, 8).toLowerCase() === orderId.toLowerCase()\n  ) : undefined;\n\n\n  const handleSearch = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (orderId.trim()) {\n      setSearchTriggered(true);\n    }\n  };\n\n  const getStatusIcon = (status: string) => {\n    switch (status) {\n      case \"pending\":\n        return <Clock className=\"h-8 w-8 text-yellow-600\" />;\n      case \"processing\":\n        return <Truck className=\"h-8 w-8 text-blue-600\" />;\n      case \"completed\":\n        return <CheckCircle className=\"h-8 w-8 text-green-600\" />;\n      case \"cancelled\":\n        return <XCircle className=\"h-8 w-8 text-red-600\" />;\n      default:\n        return <Package className=\"h-8 w-8 text-gray-600\" />;\n    }\n  };\n\n  const getStatusText = (status: string) => {\n    switch (status) {\n      case \"pending\":\n        return \"Oczekuje na realizację\";\n      case \"processing\":\n        return \"W trakcie realizacji\";\n      case \"completed\":\n        return \"Zrealizowane\";\n      case \"cancelled\":\n        return \"Anulowane\";\n      default:\n        return status;\n    }\n  };\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case \"pending\":\n        return \"bg-yellow-100 text-yellow-800\";\n      case \"processing\":\n        return \"bg-blue-100 text-blue-800\";\n      case \"completed\":\n        return \"bg-green-100 text-green-800\";\n      case \"cancelled\":\n        return \"bg-red-100 text-red-800\";\n      default:\n        return \"bg-gray-100 text-gray-800\";\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"max-w-4xl mx-auto px-4 py-8\">\n        <div className=\"text-center mb-8\">\n          <Package className=\"h-16 w-16 text-primary mx-auto mb-4\" />\n          <h1 className=\"text-4xl md:text-5xl font-bold mb-4\">Śledź zamówienie</h1>\n          <p className=\"text-muted-foreground text-lg\">\n            Wprowadź numer zamówienia, aby sprawdzić jego status\n          </p>\n        </div>\n\n        {/* Search Form */}\n        <Card className=\"p-6 mb-8\">\n          <form onSubmit={handleSearch} className=\"flex gap-3\">\n            <Input\n              type=\"text\"\n              placeholder=\"Numer zamówienia (np. 5b789659)\"\n              value={orderId}\n              onChange={(e) => setOrderId(e.target.value)}\n              className=\"flex-1\"\n              data-testid=\"input-order-id\"\n            />\n            <Button\n              type=\"submit\"\n              size=\"lg\"\n              className=\"bg-primary text-primary-foreground\"\n              disabled={!orderId.trim() || isLoading}\n              data-testid=\"button-search-order\"\n            >\n              <Search className=\"h-5 w-5 mr-2\" />\n              Szukaj\n            </Button>\n          </form>\n        </Card>\n\n        {/* Results */}\n        {searchTriggered && (\n          <>\n            {isLoading ? (\n              <Card className=\"p-8 text-center\">\n                <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4\"></div>\n                <p className=\"text-muted-foreground\">Szukam zamówienia...</p>\n              </Card>\n            ) : foundOrder ? (\n              <Card className=\"p-6\">\n                <div className=\"flex flex-col items-center text-center mb-6\">\n                  {getStatusIcon(foundOrder.status)}\n                  <h2 className=\"text-2xl font-bold mt-4 mb-2\">\n                    Zamówienie #{foundOrder.id.slice(0, 8)}\n                  </h2>\n                  <Badge className={`text-lg px-4 py-2 ${getStatusColor(foundOrder.status)}`}>\n                    {getStatusText(foundOrder.status)}\n                  </Badge>\n                </div>\n\n                {/* Order Timeline */}\n                <div className=\"border-t border-b py-6 mb-6\">\n                  <div className=\"flex justify-between items-center max-w-2xl mx-auto\">\n                    <div className=\"text-center flex-1\">\n                      <div className={`w-10 h-10 rounded-full mx-auto mb-2 flex items-center justify-center ${\n                        foundOrder.status !== 'cancelled' ? 'bg-green-600' : 'bg-gray-300'\n                      }`}>\n                        <CheckCircle className=\"h-6 w-6 text-white\" />\n                      </div>\n                      <p className=\"text-sm font-medium\">Złożone</p>\n                      <p className=\"text-xs text-muted-foreground\">\n                        {new Date(foundOrder.createdAt).toLocaleDateString(\"pl-PL\")}\n                      </p>\n                    </div>\n\n                    <div className={`h-1 flex-1 ${\n                      foundOrder.status === 'processing' || foundOrder.status === 'completed'\n                        ? 'bg-green-600'\n                        : 'bg-gray-300'\n                    }`} />\n\n                    <div className=\"text-center flex-1\">\n                      <div className={`w-10 h-10 rounded-full mx-auto mb-2 flex items-center justify-center ${\n                        foundOrder.status === 'processing' || foundOrder.status === 'completed'\n                          ? 'bg-green-600'\n                          : foundOrder.status === 'pending'\n                          ? 'bg-yellow-500'\n                          : 'bg-gray-300'\n                      }`}>\n                        <Truck className=\"h-6 w-6 text-white\" />\n                      </div>\n                      <p className=\"text-sm font-medium\">W realizacji</p>\n                    </div>\n\n                    <div className={`h-1 flex-1 ${\n                      foundOrder.status === 'completed' ? 'bg-green-600' : 'bg-gray-300'\n                    }`} />\n\n                    <div className=\"text-center flex-1\">\n                      <div className={`w-10 h-10 rounded-full mx-auto mb-2 flex items-center justify-center ${\n                        foundOrder.status === 'completed' ? 'bg-green-600' : 'bg-gray-300'\n                      }`}>\n                        <Package className=\"h-6 w-6 text-white\" />\n                      </div>\n                      <p className=\"text-sm font-medium\">Dostarczone</p>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Order Details */}\n                <div className=\"space-y-4\">\n                  <h3 className=\"font-bold text-lg mb-3\">Szczegóły zamówienia</h3>\n\n                  <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                    <div>\n                      <p className=\"text-muted-foreground\">Klient</p>\n                      <p className=\"font-medium\">{foundOrder.customerName}</p>\n                    </div>\n                    <div>\n                      <p className=\"text-muted-foreground\">Email</p>\n                      <p className=\"font-medium\">{foundOrder.customerEmail}</p>\n                    </div>\n                    <div>\n                      <p className=\"text-muted-foreground\">Telefon</p>\n                      <p className=\"font-medium\">{foundOrder.customerPhone || \"—\"}</p>\n                    </div>\n                    <div>\n                      <p className=\"text-muted-foreground\">Data zamówienia</p>\n                      <p className=\"font-medium\">\n                        {new Date(foundOrder.createdAt).toLocaleString(\"pl-PL\")}\n                      </p>\n                    </div>\n                  </div>\n\n                  <div>\n                    <p className=\"text-muted-foreground text-sm mb-1\">Adres dostawy</p>\n                    <p className=\"font-medium\">{foundOrder.customerAddress}</p>\n                  </div>\n\n                  {/* Products */}\n                  <div className=\"border-t pt-4\">\n                    <h4 className=\"font-medium mb-3\">Produkty</h4>\n                    <div className=\"space-y-3\">\n                      {JSON.parse(foundOrder.items).map((item: any, idx: number) => (\n                        <div key={idx} className=\"flex gap-3 bg-gray-50 p-3 rounded-lg\">\n                          <img\n                            src={item.image}\n                            alt={item.name}\n                            className=\"w-16 h-16 object-cover rounded-md bg-white\"\n                          />\n                          <div className=\"flex-1\">\n                            <h5 className=\"font-medium\">{item.name}</h5>\n                            <p className=\"text-sm text-muted-foreground\">\n                              {item.quantity} × {parseFloat(item.price).toFixed(2)} zł\n                            </p>\n                          </div>\n                          <div className=\"text-right\">\n                            <p className=\"font-bold\">\n                              {(parseFloat(item.price) * item.quantity).toFixed(2)} zł\n                            </p>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n\n                  {/* Total */}\n                  <div className=\"border-t pt-4 flex justify-between items-center\">\n                    <span className=\"text-xl font-bold\">Razem</span>\n                    <span className=\"text-2xl font-bold text-primary\">\n                      {parseFloat(foundOrder.total).toFixed(2)} zł\n                    </span>\n                  </div>\n                </div>\n              </Card>\n            ) : (\n              <Card className=\"p-8 text-center\">\n                <XCircle className=\"h-16 w-16 text-red-500 mx-auto mb-4\" />\n                <h3 className=\"text-xl font-bold mb-2\">Nie znaleziono zamówienia</h3>\n                <p className=\"text-muted-foreground\">\n                  Sprawdź numer zamówienia i spróbuj ponownie\n                </p>\n              </Card>\n            )}\n          </>\n        )}\n\n        {/* Help Text */}\n        {!searchTriggered && (\n          <Card className=\"p-6 bg-blue-50 border-blue-200\">\n            <div className=\"flex gap-3\">\n              <Package className=\"h-6 w-6 text-blue-600 flex-shrink-0 mt-1\" />\n              <div>\n                <h3 className=\"font-bold mb-2 text-blue-900\">Jak śledzić zamówienie?</h3>\n                <ul className=\"text-sm text-blue-800 space-y-1\">\n                  <li>• Wprowadź numer zamówienia (otrzymany w potwierdzeniu email)</li>\n                  <li>• Kliknij \"Szukaj\", aby sprawdzić status</li>\n                  <li>• Zobacz szczegółowe informacje o dostawie</li>\n                </ul>\n              </div>\n            </div>\n          </Card>\n        )}\n      </div>\n    </div>\n  );\n}","size_bytes":11742},"public/src/pages/OrderHistory.tsx":{"content":"\nimport { useQuery } from \"@tanstack/react-query\";\nimport { Card } from \"../components/ui/card\";\nimport { Badge } from \"../components/ui/badge\";\nimport { Package, Clock, CheckCircle, XCircle } from \"lucide-react\";\nimport { apiRequest } from \"../lib/queryClient\";\nimport type { Order } from \"../../../shared/schema\";\n\nexport default function OrderHistory() {\n  const { data: orders, isLoading } = useQuery<Order[]>({\n    queryKey: [\"orders\"],\n    queryFn: async () => {\n      return await apiRequest(\"GET\", \"/api/orders\");\n    },\n  });\n\n  const getStatusIcon = (status: string) => {\n    switch (status) {\n      case \"pending\":\n        return <Clock className=\"h-5 w-5 text-yellow-600\" />;\n      case \"completed\":\n        return <CheckCircle className=\"h-5 w-5 text-green-600\" />;\n      case \"cancelled\":\n        return <XCircle className=\"h-5 w-5 text-red-600\" />;\n      default:\n        return <Package className=\"h-5 w-5 text-gray-600\" />;\n    }\n  };\n\n  const getStatusText = (status: string) => {\n    switch (status) {\n      case \"pending\":\n        return \"W trakcie\";\n      case \"completed\":\n        return \"Zrealizowane\";\n      case \"cancelled\":\n        return \"Anulowane\";\n      default:\n        return status;\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <Package className=\"h-16 w-16 text-muted-foreground mx-auto mb-4 animate-pulse\" />\n          <p className=\"text-lg text-muted-foreground\">Ładowanie zamówień...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!orders || orders.length === 0) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex flex-col items-center justify-center py-16\">\n        <Package className=\"h-24 w-24 text-muted-foreground mb-6\" />\n        <h1 className=\"text-4xl font-bold mb-4\">Brak zamówień</h1>\n        <p className=\"text-muted-foreground text-lg\">\n          Nie masz jeszcze żadnych zamówień\n        </p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"max-w-7xl mx-auto px-4 py-8\">\n        <h1 className=\"text-4xl md:text-5xl font-bold mb-8\">Historia zamówień</h1>\n\n        <div className=\"space-y-4\">\n          {orders.map((order) => {\n            const items = JSON.parse(order.items);\n            return (\n              <Card key={order.id} className=\"p-6\">\n                <div className=\"flex flex-col md:flex-row md:items-center md:justify-between mb-4\">\n                  <div className=\"flex items-center gap-3 mb-2 md:mb-0\">\n                    {getStatusIcon(order.status)}\n                    <div>\n                      <h3 className=\"font-bold text-lg\">\n                        Zamówienie #{order.id.slice(0, 8)}\n                      </h3>\n                      <p className=\"text-sm text-muted-foreground\">\n                        {new Date(order.createdAt).toLocaleDateString(\"pl-PL\")}\n                      </p>\n                    </div>\n                  </div>\n                  <Badge variant={order.status === \"completed\" ? \"default\" : \"secondary\"}>\n                    {getStatusText(order.status)}\n                  </Badge>\n                </div>\n\n                <div className=\"border-t pt-4 space-y-3\">\n                  {items.map((item: any, idx: number) => (\n                    <div key={idx} className=\"flex gap-3\">\n                      <img\n                        src={item.image}\n                        alt={item.name}\n                        className=\"w-16 h-16 object-cover rounded-md bg-gray-100\"\n                      />\n                      <div className=\"flex-1\">\n                        <h4 className=\"font-medium\">{item.name}</h4>\n                        <p className=\"text-sm text-muted-foreground\">\n                          {item.quantity} × {parseFloat(item.price).toFixed(2)} zł\n                        </p>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n\n                <div className=\"border-t mt-4 pt-4 flex justify-between items-center\">\n                  <div className=\"text-sm text-muted-foreground\">\n                    <p>{order.customerName}</p>\n                    <p>{order.customerEmail}</p>\n                  </div>\n                  <div className=\"text-right\">\n                    <p className=\"text-xl font-bold\">\n                      {parseFloat(order.total).toFixed(2)} zł\n                    </p>\n                  </div>\n                </div>\n              </Card>\n            );\n          })}\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":4627},"public/src/components/ProductReviews.tsx":{"content":"\nimport { useState } from \"react\";\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { Button } from \"./ui/button\";\nimport { Card } from \"./ui/card\";\nimport { Input } from \"./ui/input\";\nimport { Label } from \"./ui/label\";\nimport { Textarea } from \"./ui/textarea\";\nimport { Star } from \"lucide-react\";\nimport { useToast } from \"../hooks/use-toast\";\nimport { apiRequest } from \"../lib/queryClient\";\nimport type { Review } from \"../../../shared/schema\";\n\nexport default function ProductReviews({ productId }: { productId: string }) {\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n  const [showForm, setShowForm] = useState(false);\n  const [rating, setRating] = useState(5);\n  const [formData, setFormData] = useState({\n    customerName: \"\",\n    comment: \"\",\n  });\n\n  const { data: reviews } = useQuery<Review[]>({\n    queryKey: [\"reviews\", productId],\n    queryFn: async () => {\n      return await apiRequest(\"GET\", `/api/products/${productId}/reviews`);\n    },\n  });\n\n  const createReviewMutation = useMutation({\n    mutationFn: async (data: any) => {\n      return await apiRequest(\"POST\", `/api/products/${productId}/reviews`, data);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"reviews\", productId] });\n      setShowForm(false);\n      setFormData({ customerName: \"\", comment: \"\" });\n      setRating(5);\n      toast({\n        title: \"Dziękujemy!\",\n        description: \"Twoja opinia została dodana.\",\n      });\n    },\n  });\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    createReviewMutation.mutate({\n      ...formData,\n      rating,\n    });\n  };\n\n  const averageRating = reviews && reviews.length > 0\n    ? reviews.reduce((sum, r) => sum + r.rating, 0) / reviews.length\n    : 0;\n\n  return (\n    <div className=\"mt-8\">\n      <div className=\"flex items-center justify-between mb-6\">\n        <div>\n          <h2 className=\"text-2xl font-bold\">Opinie klientów</h2>\n          {reviews && reviews.length > 0 && (\n            <div className=\"flex items-center gap-2 mt-2\">\n              <div className=\"flex\">\n                {[1, 2, 3, 4, 5].map((star) => (\n                  <Star\n                    key={star}\n                    className={`h-5 w-5 ${\n                      star <= averageRating\n                        ? \"fill-yellow-400 text-yellow-400\"\n                        : \"text-gray-300\"\n                    }`}\n                  />\n                ))}\n              </div>\n              <span className=\"text-sm text-muted-foreground\">\n                {averageRating.toFixed(1)} ({reviews.length} opinii)\n              </span>\n            </div>\n          )}\n        </div>\n        <Button onClick={() => setShowForm(!showForm)}>\n          {showForm ? \"Anuluj\" : \"Dodaj opinię\"}\n        </Button>\n      </div>\n\n      {showForm && (\n        <Card className=\"p-6 mb-6\">\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div>\n              <Label>Ocena</Label>\n              <div className=\"flex gap-1 mt-2\">\n                {[1, 2, 3, 4, 5].map((star) => (\n                  <button\n                    key={star}\n                    type=\"button\"\n                    onClick={() => setRating(star)}\n                    className=\"focus:outline-none\"\n                  >\n                    <Star\n                      className={`h-8 w-8 ${\n                        star <= rating\n                          ? \"fill-yellow-400 text-yellow-400\"\n                          : \"text-gray-300\"\n                      }`}\n                    />\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            <div>\n              <Label htmlFor=\"customerName\">Imię</Label>\n              <Input\n                id=\"customerName\"\n                required\n                value={formData.customerName}\n                onChange={(e) =>\n                  setFormData({ ...formData, customerName: e.target.value })\n                }\n              />\n            </div>\n\n            <div>\n              <Label htmlFor=\"comment\">Opinia</Label>\n              <Textarea\n                id=\"comment\"\n                required\n                value={formData.comment}\n                onChange={(e) =>\n                  setFormData({ ...formData, comment: e.target.value })\n                }\n                rows={4}\n              />\n            </div>\n\n            <Button type=\"submit\" disabled={createReviewMutation.isPending}>\n              {createReviewMutation.isPending ? \"Wysyłanie...\" : \"Wyślij opinię\"}\n            </Button>\n          </form>\n        </Card>\n      )}\n\n      <div className=\"space-y-4\">\n        {reviews && reviews.length > 0 ? (\n          reviews.map((review) => (\n            <Card key={review.id} className=\"p-4\">\n              <div className=\"flex items-start justify-between mb-2\">\n                <div>\n                  <p className=\"font-semibold\">{review.customerName}</p>\n                  <div className=\"flex gap-1 mt-1\">\n                    {[1, 2, 3, 4, 5].map((star) => (\n                      <Star\n                        key={star}\n                        className={`h-4 w-4 ${\n                          star <= review.rating\n                            ? \"fill-yellow-400 text-yellow-400\"\n                            : \"text-gray-300\"\n                        }`}\n                      />\n                    ))}\n                  </div>\n                </div>\n                <span className=\"text-sm text-muted-foreground\">\n                  {new Date(review.createdAt).toLocaleDateString(\"pl-PL\")}\n                </span>\n              </div>\n              <p className=\"text-muted-foreground\">{review.comment}</p>\n            </Card>\n          ))\n        ) : (\n          <p className=\"text-center text-muted-foreground py-8\">\n            Brak opinii. Bądź pierwszym, który wystawi opinię!\n          </p>\n        )}\n      </div>\n    </div>\n  );\n}\n","size_bytes":5981},"DEPLOY.md":{"content":"# Deploying to GitHub Pages\n\nThis repository builds a Vite site whose public root is `public` and Vite's build output is `dist/public` (see `vite.config.ts`). The included GitHub Actions workflow will build the project and publish the `dist/public` folder to GitHub Pages on pushes to `main`.\n\nHow it works:\n- Push to `main` or create a commit and push; GitHub Actions runs the `redeploy.yml` workflow.\n- The workflow runs `npm ci` and then `npm run build`.\n- The workflow uploads `dist/public` and then deploys it to GitHub Pages using the official `deploy-pages` action.\n\nWhat you may need to check:\n- In your repository **Settings → Pages**, ensure the source is set to \"GitHub Actions\" (the workflow sets Pages automatically, but you may want to check the URL).\n- No extra secrets are required; the action uses the repository's `GITHUB_TOKEN` automatically.\n\nManual trigger (optional):\n- You can run the workflow manually from the Actions tab by selecting the workflow and clicking \"Run workflow\" (choose `main` branch).\n\nIf you want the full server deployed (not just the static frontend), tell me the target (SSH host, Docker registry, Render, Vercel, Fly, etc.) and I will add a deploy workflow for that.\n","size_bytes":1214}},"version":2}